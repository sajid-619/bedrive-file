import{u as ke,j as e,c as y,C as jr,T as r,O as yt,m as h,a as Be,b as P,R as L,r as d,d as Pe,e as ga,S as Gs,I as p,f as _,g as T,$ as _s,A as Ss,h as pa,i as ja,K as fa,k as us,l as Q,D as se,n as ne,o as ae,p as G,F as de,q as fr,B as f,s as $,t as R,v as ss,w as wt,x as Us,y as Hs,P as ba,z as Ks,E as H,G as D,H as U,J as le,L as $e,M as St,N as kt,Q as ue,U as je,V as x,W as J,X as va,Y as qe,Z as dt,_ as pe,a0 as Ae,a1 as Nt,a2 as ya,a3 as Bs,a4 as ts,a5 as br,a6 as wa,a7 as Yt,a8 as ms,a9 as Sa,aa as Ze,ab as ee,ac as Ct,ad as as,ae as E,af as Ce,ag as vr,ah as ka,ai as Na,aj as yr,ak as Fs,al as Ca,am as q,an as _a,ao as _e,ap as wr,aq as Sr,ar as kr,as as _t,at as Nr,au as Cr,av as Fa,aw as zs,ax as Qs,ay as ns,az as Ft,aA as _r,aB as fe,aC as he,aD as za,aE as zt,aF as Ia,aG as We,aH as It,aI as Ge,aJ as Jt,aK as Ys,aL as Is,aM as As,aN as At,aO as Xe,aP as Aa,aQ as Fr,aR as zr,aS as Ir,aT as Ea,aU as Ar,aV as Er,aW as Pr,aX as $r,aY as Tr,aZ as Lr,a_ as Mr,a$ as Dr,b0 as Rr,b1 as Et,b2 as Vr,b3 as Or,b4 as Hr,b5 as Ur,b6 as Br,b7 as qr,b8 as Wr,b9 as Gr,ba as Kr,bb as Qr,bc as Pa,bd as Yr,be as te,bf as Jr}from"./main-97137759.js";import{D as Zr,a as Xr,b as ei,c as si,F as re,d as ce,e as hs,u as xs,A as $a,K as Pt,f as Js,g as $t,I as ti,N as ai,h as ni,C as ri,S as ii,B as li,i as oi,T as ci,j as Se,k as di,l as ui,m as ut,n as M,o as mi,p as hi,q as mt,r as Zs,s as xi,t as gi,v as pi,w as Je,x as Xs,U as Tt,L as Lt,M as Ta,y as ji,z as fi,E as bi,G as vi,H as yi,J as wi,O as Si,P as ki,Q as Ni,R as Ci}from"./UnfoldMore-d3e3f3ab.js";import{E as De,B as _i,a as Zt}from"./Edit-fdaf8b96.js";import{u as La,a as Fi}from"./use-resume-subscription-d050c7a9.js";function zi({className:s,isCompactMode:t}){const{version:a}=ke();return e.jsxs("div",{className:y(s,"text-sm pt-26 px-12 pb-16 text-muted font-medium bg-alt flex flex-col gap-20 border-r overflow-y-auto relative"),children:[e.jsx(jr,{matchDescendants:n=>n==="/admin",menu:"admin-sidebar",orientation:"vertical",onlyShowIcons:t,itemClassName:({isActive:n})=>y("block w-full rounded py-12 px-16 border-l-4",n?"bg-primary/hover border-l-primary":"border-l-transparent hover:bg-hover"),gap:"gap-8"}),!t&&e.jsx("div",{className:"mt-auto gap-14 px-16 text-xs",children:e.jsx(r,{message:"Version: :number",values:{number:a}})})]})}function Ii(){return e.jsxs(Zr,{name:"admin",leftSidenavCanBeCompact:!0,children:[e.jsx(Xr,{size:"sm",color:"primary",menuPosition:"admin-navbar"}),e.jsx(ei,{position:"left",size:"sm",children:e.jsx(zi,{})}),e.jsx(si,{children:e.jsx("div",{className:"bg dark:bg-alt",children:e.jsx(yt,{})})})]})}const Ai=[{key:"email_verified_at",label:h("Email"),description:h("Email verification status"),defaultOperator:re.ne,control:{type:ce.Select,defaultValue:"01",options:[{key:"01",label:h("is confirmed"),value:{value:null,operator:re.ne}},{key:"02",label:h("is not confirmed"),value:{value:null,operator:re.eq}}]}},hs({description:h("Date user registered or was created")}),xs({description:h("Date user was last updated")}),{key:"subscriptions",label:h("Subscription"),description:h("Whether user is subscribed or not"),defaultOperator:re.eq,control:{type:ce.Select,defaultValue:"01",options:[{key:"01",label:h("is subscribed"),value:{value:"*",operator:re.has}},{key:"02",label:h("is not subscribed"),value:{value:"*",operator:re.doesntHave}}]}}];function gs({image:s,label:t,description:a,labelClassName:n,avatarSize:i="md"}){return e.jsxs("div",{className:"flex items-center gap-12",children:[s&&e.jsx($a,{size:i,className:"flex-shrink-0",src:s}),e.jsxs("div",{className:"overflow-hidden min-w-0",children:[e.jsx("div",{className:y(n,"overflow-hidden overflow-ellipsis"),children:t}),a&&e.jsx("div",{className:"text-muted text-xs overflow-hidden overflow-ellipsis",children:a})]})]})}const X=(s,t)=>{const a=s.split("/");return t&&a.push(t),a};function Ei(s,t,a){return Be(X(s,t),()=>Pi(s,t),{...a,keepPreviousData:!0})}function Pi(s,t){return P.get(s,{params:t}).then(a=>a.data)}const Ma=L.createContext(null);function Mt(){return d.useContext(Ma)}function $i(s){return"next_cursor"in s?s.next_cursor!=null:"last_page"in s?s.current_page<s.last_page:s.data.length>0&&s.data.length>=s.per_page}const Ti=15,Li=[{key:10},{key:15},{key:20},{key:50},{key:100}];function Mi({query:s,onPerPageChange:t,onPageChange:a,className:n}){var m;const i=Pe(),l=ga(),o=(m=s.data)==null?void 0:m.pagination;if(!o)return null;const c=e.jsx(Gs,{minWidth:"min-w-auto",selectionMode:"single",disabled:s.isLoading,labelPosition:"side",size:"xs",label:e.jsx(r,{message:"Items per page"}),selectedValue:o.per_page||Ti,onSelectionChange:u=>{t==null||t(u)},children:Li.map(u=>e.jsx(p,{value:u.key,children:u.key},u.key))});return e.jsxs("div",{className:y("flex items-center justify-end gap-20 px-20 h-54 select-none",n),children:[!i&&c,o.from&&o.to&&"total"in o&&e.jsx("div",{className:"text-sm",children:e.jsx(r,{message:":from - :to of :total",values:{from:o.from,to:o.to,total:l.format(o.total)}})}),e.jsxs("div",{className:"text-muted",children:[e.jsx(_,{disabled:s.isFetching||o.current_page<2,onClick:()=>{a==null||a((o==null?void 0:o.current_page)-1)},children:e.jsx(Pt,{})}),e.jsx(_,{disabled:s.isFetching||!$i(o),onClick:()=>{a==null||a((o==null?void 0:o.current_page)+1)},children:e.jsx(Js,{})})]})]})}const Di=T(e.jsx("path",{d:"M7 6h10l-5.01 6.3L7 6zm-2.75-.39C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAltOutlined"),Ke=L.forwardRef(({variant:s="default",mode:t="single",children:a,className:n,isLazy:i,...l},o)=>{const[c,m]=_s(l.expandedValues,l.defaultExpandedValues||[],l.onExpandedChange);return e.jsx("div",{className:y(s==="outline"&&"space-y-10",n),ref:o,role:"presentation",children:e.jsx(Ss,{children:e.jsx(pa,{children:L.Children.map(a,(u,g)=>d.isValidElement(u)?d.cloneElement(u,{key:u.key||g,value:u.props.value||g,mode:t,variant:s,expandedValues:c,setExpandedValues:m,isLazy:i}):null)})})})});function we({children:s,label:t,disabled:a,bodyClassName:n,labelClassName:i,buttonPadding:l="py-10 pl-14 pr-10",startIcon:o,description:c,endAppend:m,chevronPosition:u="right",...g}){const{expandedValues:j,setExpandedValues:b,variant:S,value:A,mode:k,isLazy:N}=g,z=d.useRef(null),C=!a&&j.includes(A),w=d.useRef(!1);C&&(w.current=!0);const O=ja(),I=d.useId(),B=`${I}-button`,Y=`${I}-panel`,Z=ve=>{switch(ve.key){case"ArrowDown":O.focusNext();break;case"ArrowUp":O.focusPrevious();break;case"Home":O.focusFirst();break;case"End":O.focusLast();break}},K={open:{height:"auto",visibility:"visible",transitionEnd:{overflow:"auto"}},closed:{height:0,overflow:"hidden",transitionEnd:{visibility:"hidden"}}},me=()=>{const ve=j.indexOf(A);if(ve>-1){const Fe=[...j];Fe.splice(ve,1),b(Fe)}else b(k==="single"?[A]:[...j,A])},oe=e.jsx("div",{className:y(S==="minimal"&&""),children:e.jsx(fa,{"aria-hidden":"true",size:"md",className:y(a?"text-disabled":"text-muted",C&&"rotate-180 transition-transform")})});return e.jsxs("div",{className:y(S==="default"&&"border-b",S==="outline"&&"border rounded",a&&"text-disabled"),children:[e.jsxs("h3",{className:y("flex items-center text-sm justify-between w-full",a&&"pointer-events-none",C&&S!=="minimal"?"border-b":"border-b border-b-transparent",S==="outline"?C?"rounded-t":"rounded":void 0),children:[e.jsxs("button",{disabled:a,"aria-expanded":C,id:B,"aria-controls":Y,type:"button",ref:z,onKeyDown:Z,onClick:()=>{a||me()},className:y("flex items-center text-left gap-10 flex-auto outline-none hover:bg-hover focus-visible:bg-primary/focus",l),children:[u==="left"&&oe,o&&d.cloneElement(o,{size:"md",className:y(o.props.className,a?"text-disabled":"text-muted")}),e.jsxs("div",{className:"flex-auto overflow-hidden overflow-ellipsis",children:[e.jsx("div",{className:i,"data-testid":"accordion-label",children:t}),c&&e.jsx("div",{className:"text-muted text-xs",children:c})]}),u==="right"&&oe]}),m&&e.jsx("div",{className:"flex-shrink-0 text-sm text-muted px-4",children:m})]}),e.jsx(us.div,{"aria-labelledby":I,role:"region",variants:K,transition:{type:"tween",duration:.2},initial:!1,animate:C?"open":"closed",children:e.jsx("div",{className:y("p-16",n),children:!N||w?s:null})})]})}function Ri({filter:s}){return null}function Vi({filters:s}){const{decodedFilters:t}=$t(s),{formId:a}=Q(),[n,i]=d.useState(()=>t.map(c=>c.key)),l=e.jsx(f,{size:"xs",variant:"outline",className:"mr-auto",onClick:()=>{i([])},children:e.jsx(r,{message:"Clear"})}),o=e.jsx(f,{size:"xs",variant:"flat",color:"primary",className:"ml-auto",type:"submit",form:a,children:e.jsx(r,{message:"Apply"})});return e.jsxs(se,{className:"min-w-[300px]",maxWidth:"max-w-400",size:"auto",children:[e.jsx(ne,{padding:"px-14 py-10",leftAdornment:l,rightAdornment:o,children:e.jsx(r,{message:"Filter"})}),e.jsx(ae,{padding:"p-0",children:e.jsx(Oi,{filters:s,expandedFilters:n,setExpandedFilters:i})})]})}function Oi({filters:s,expandedFilters:t,setExpandedFilters:a}){const{decodedFilters:n,replaceAll:i}=$t(s),l={};s.forEach(u=>{const g=n.find(j=>j.key===u.key);l[u.key]=(g==null?void 0:g.value)!==void 0?g:{value:u.control.defaultValue,operator:u.defaultOperator}});const o=G({defaultValues:l}),{formId:c,close:m}=Q();return e.jsx(de,{form:o,id:c,onSubmit:u=>{const g=Object.entries(u).filter(([j,b])=>t.includes(j)&&b!==void 0).map(([j,b])=>({key:j,...b}));i(g),m()},children:e.jsx(Ke,{mode:"multiple",expandedValues:t,onExpandedChange:a,children:s.map(u=>e.jsxs(we,{startIcon:e.jsx(fr,{checked:t.includes(u.key)}),value:u.key,label:e.jsx(r,{...u.label}),bodyClassName:"max-h-288 overflow-y-auto compact-scrollbar",children:[u.description&&e.jsx("div",{className:y("text-xs text-muted",u.control.type!==ce.BooleanToggle&&"mb-14"),children:e.jsx(r,{...u.description})}),e.jsx(Hi,{filter:u})]},u.key))})})}function Hi({filter:s}){switch(s.control.type){case ce.Select:return e.jsx(ii,{filter:s});case ce.ChipField:return e.jsx(ri,{filter:s});case ce.DateRangePicker:return e.jsx(ni,{filter:s});case ce.SelectModel:return e.jsx(ai,{filter:s});case ce.Input:return e.jsx(ti,{filter:s});case ce.BooleanToggle:return e.jsx(Ri,{filter:s});case"custom":const t=s.control.panel;return e.jsx(t,{filter:s});default:return null}}function Ui({filters:s,icon:t=e.jsx(Di,{}),color:a="primary",variant:n="outline",size:i="sm",disabled:l}){const o=Pe(),c=e.jsx(f,{variant:n,color:a,startIcon:t,disabled:l,size:i,children:e.jsx(r,{message:"Filter"})}),m=e.jsx(_,{color:a,size:"sm",variant:n,disabled:l,radius:"rounded",children:t});return e.jsxs($,{type:"popover",children:[o?m:c,e.jsx(Vi,{filters:s})]})}function Bi({actions:s,filters:t,filtersLoading:a,searchPlaceholder:n=h("Type to search..."),searchValue:i="",onSearchChange:l}){const{trans:o}=R();return e.jsxs(Da,{children:[e.jsx(ss,{inputTestId:"datatable-search",className:"flex-auto max-w-440 mr-auto",inputWrapperClassName:"mr-24 md:mr-0",placeholder:o(n),startAdornment:e.jsx(wt,{}),value:i,onChange:c=>{l(c.target.value)}}),t&&e.jsx(Ui,{filters:t,disabled:a}),s]})}function Da({children:s,...t}){return e.jsx("div",{className:"mb-24 flex items-center gap-8 md:gap-12 text-muted relative h-42",...t,children:s})}function qi({actions:s,selectedItemsCount:t}){return e.jsxs(Da,{"data-testid":"datatable-selected-header",children:[e.jsx("div",{className:"mr-auto",children:e.jsx(r,{message:"[one 1 item|other :count items] selected",values:{count:t}})}),s]})}function Wi(){return e.jsxs(us.div,{className:"flex items-center gap-6 h-30",...Us,children:[e.jsx(Hs,{variant:"rect",size:"h-full w-144",radius:"rounded-md"}),e.jsx(Hs,{variant:"rect",size:"h-full w-112",radius:"rounded-md"}),e.jsx(Hs,{variant:"rect",size:"h-full w-172",radius:"rounded-md"})]},"filter-list-skeleton")}function Ra({filters:s,filtersLoading:t,columns:a,searchPlaceholder:n,queryParams:i,endpoint:l,actions:o,selectedActions:c,emptyStateMessage:m,tableDomProps:u,onRowAction:g,enableSelection:j=!0,selectionStyle:b="checkbox",children:S,cellHeight:A,collapseTableOnMobile:k=!0}){var me;const N=Pe(),{trans:z}=R(),{encodedFilters:C}=$t(s),[w,O]=d.useState({perPage:15}),[I,B]=d.useState([]),Y=Ei(l,{...w,...i,[li]:C},{onSuccess:()=>{B([])}}),Z=!!(w.query||w.filters||C),K=(me=Y.data)==null?void 0:me.pagination;return e.jsxs(Ma.Provider,{value:{selectedRows:I,setSelectedRows:B,endpoint:l,params:w,setParams:O,query:Y},children:[S,e.jsx(Ss,{initial:!1,mode:"wait",children:I.length?e.jsx(qi,{selectedItemsCount:I.length,actions:c},"selected"):e.jsx(Bi,{searchPlaceholder:n,searchValue:w.query,onSearchChange:oe=>O({...w,query:oe}),actions:o,filters:s,filtersLoading:t},"default")}),s&&e.jsx("div",{className:"mb-14",children:e.jsx(Ss,{initial:!1,mode:"wait",children:t&&C?e.jsx(Wi,{}):e.jsx(us.div,{...Us,children:e.jsx(oi,{filters:s})},"filter-list")})}),e.jsxs("div",{className:y("relative rounded",(!N||!k)&&"border"),children:[Y.isFetching&&e.jsx(ba,{isIndeterminate:!0,className:"absolute top-0 left-0 w-full z-10","aria-label":z({message:"Loading"}),size:"xs"}),e.jsx("div",{className:"relative overflow-x-auto md:overflow-hidden",children:e.jsx(ci,{...u,columns:a,data:(K==null?void 0:K.data)||[],sortDescriptor:w,onSortChange:oe=>{O({...w,...oe})},selectedRows:I,enableSelection:j,selectionStyle:b,onSelectionChange:B,onAction:g,collapseOnMobile:k,cellHeight:A})}),(Y.isFetched||Y.isPreviousData)&&!(K!=null&&K.data.length)?e.jsx("div",{className:"pt-50",children:d.cloneElement(m,{isFiltering:Z})}):void 0,e.jsx(Mi,{query:Y,onPageChange:oe=>O({...w,page:oe}),onPerPageChange:oe=>O({...w,perPage:oe})})]})]})}function Qe({title:s,headerContent:t,headerItemsAlign:a="items-end",...n}){const i=d.useId();return e.jsxs("div",{className:"p-12 md:p-24",children:[s&&e.jsxs("div",{className:y("mb-16",t&&`flex ${a} gap-4`),children:[e.jsx(Ks,{children:s}),e.jsx("h1",{className:"text-3xl font-light first:capitalize",id:i,children:s}),t]}),e.jsx(Ra,{...n,tableDomProps:{"aria-labelledby":s?i:void 0}})]})}function Gi(){const{endpoint:s,selectedRows:t,setSelectedRows:a}=Mt();return H(()=>Ki(s,t),{onSuccess:async()=>{await D.invalidateQueries(X(s)),U(h("Deleted [one 1 record|other :count records]",{values:{count:t.length}})),a([])},onError:n=>le(n,h("Could not delete records"))})}function Ki(s,t){return P.delete(`${s}/${t.join(",")}`).then(a=>a.data)}function rs(){return e.jsxs($,{type:"modal",children:[e.jsx(f,{variant:"flat",color:"danger",className:"ml-auto",children:e.jsx(r,{message:"Delete"})}),e.jsx(Qi,{})]})}function Qi(){const s=Gi(),{selectedRows:t}=Mt(),{close:a}=Q();return e.jsx($e,{isLoading:s.isLoading,title:e.jsx(r,{message:"Delete [one 1 item|other :count items]?",values:{count:t.length}}),body:e.jsx(r,{message:"This will permanently remove the items and cannot be undone."}),confirm:e.jsx(r,{message:"Delete"}),isDanger:!0,onConfirm:()=>{s.mutate(void 0,{onSuccess:()=>a()})}})}function Ee({isFiltering:s,title:t,filteringTitle:a,image:n,className:i}){const l=Pe();return e.jsx(St,{className:i,size:l?"sm":"md",image:e.jsx(kt,{src:n}),title:s&&a?a:t,description:s&&a?e.jsx(r,{message:"Try another search query or different filters"}):void 0})}const ks=""+new URL("team-de984127.svg",import.meta.url).href,is=L.forwardRef(({children:s,to:t,elementType:a,onClick:n},i)=>Pe()?e.jsx(_,{ref:i,variant:"flat",color:"primary",radius:"rounded",className:"flex-shrink-0",size:"sm",to:t,elementType:a,onClick:n,children:e.jsx(Se,{})}):e.jsx(f,{ref:i,startIcon:e.jsx(Se,{}),variant:"flat",color:"primary",size:"sm",to:t,elementType:a,onClick:n,children:s}));function Yi(s){return H(t=>Ji(s,t),{onError:t=>le(t)})}function Ji(s,t){return P.post(s,t).then(a=>a.data)}function Zi(){const{close:s}=Q();return e.jsxs(se,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Csv export"})}),e.jsx(ae,{children:e.jsx(r,{message:`Your request is being processed. We'll email you when the report is ready to download. In
            certain cases, it might take a little longer, depending on the number of items beings
            exported and the volume of activity.`})}),e.jsx(ue,{children:e.jsx(f,{variant:"flat",color:"primary",onClick:s,children:e.jsx(r,{message:"Got it"})})})]})}function Va({endpoint:s,payload:t}){const[a,n]=d.useState(!1),i=Yi(s);return e.jsxs(d.Fragment,{children:[e.jsx(_,{variant:"outline",color:"primary",radius:"rounded",size:"sm",className:"flex-shrink-0",disabled:i.isLoading,onClick:()=>{i.mutate(t,{onSuccess:l=>{l.downloadPath?di(l.downloadPath):n(!0)}})},children:e.jsx(ui,{})}),e.jsx($,{type:"modal",isOpen:a,onOpenChange:n,children:e.jsx(Zi,{})})]})}function Xi(s,t){return H(a=>el(t,a),{onSuccess:()=>{U(h("User suspended")),D.invalidateQueries(["users"])},onError:a=>je(a,s)})}function el(s,t){return P.post(`users/${s}/ban`,t).then(a=>a.data)}function sl({user:s}){const{trans:t}=R(),{close:a,formId:n}=Q(),i=G({defaultValues:{permanent:!0}}),l=i.watch("permanent"),o=Xi(i,s.id);return e.jsxs(se,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Suspend “:name“",values:{name:s.display_name}})}),e.jsx(ae,{children:e.jsxs(de,{id:n,form:i,onSubmit:c=>o.mutate(c,{onSuccess:()=>a()}),children:[e.jsx(ut,{name:"ban_until",label:e.jsx(r,{message:"Suspend until"}),disabled:l}),e.jsx(M,{name:"permanent",className:"mt-12",children:e.jsx(r,{message:"Permanent"})}),e.jsx(x,{className:"mt-24",name:"comment",inputElementType:"textarea",maxLength:250,label:e.jsx(r,{message:"Reason"}),placeholder:t(h("Optional"))})]})}),e.jsxs(ue,{children:[e.jsx(f,{onClick:()=>a(),children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{form:n,variant:"flat",color:"primary",type:"submit",disabled:o.isLoading,children:e.jsx(r,{message:"Suspend"})})]})]})}const Oa=T(e.jsx("path",{d:"m20 17.17-3.37-3.38c.64.22 1.23.48 1.77.76.97.51 1.58 1.52 1.6 2.62zm1.19 4.02-1.41 1.41-2.61-2.6H4v-2.78c0-1.12.61-2.15 1.61-2.66 1.29-.66 2.87-1.22 4.67-1.45L1.39 4.22 2.8 2.81l18.39 18.38zM15.17 18l-3-3H12c-2.37 0-4.29.73-5.48 1.34-.32.16-.52.5-.52.88V18h9.17zM12 6c1.1 0 2 .9 2 2 0 .86-.54 1.59-1.3 1.87l1.48 1.48C15.28 10.64 16 9.4 16 8c0-2.21-1.79-4-4-4-1.4 0-2.64.72-3.35 1.82l1.48 1.48C10.41 6.54 11.14 6 12 6z"}),"PersonOffOutlined");function tl(s){return H(()=>al(s),{onSuccess:()=>{U(h("User unsuspended")),D.invalidateQueries(["users"])},onError:t=>le(t)})}function al(s){return P.delete(`users/${s}/unban`).then(t=>t.data)}const Xt=[{key:"name",allowsSorting:!0,sortingKey:"email",width:"flex-3 min-w-200",visibleInMode:"all",header:()=>e.jsx(r,{message:"User"}),body:s=>e.jsx(gs,{image:s.avatar,label:s.display_name,description:s.email})},{key:"subscribed",header:()=>e.jsx(r,{message:"Subscribed"}),width:"w-96",body:s=>{var t;return(t=s.subscriptions)!=null&&t.length?e.jsx(va,{className:"icon-md text-positive"}):e.jsx(qe,{className:"icon-md text-danger"})}},{key:"roles",header:()=>e.jsx(r,{message:"Roles"}),body:s=>e.jsx(mi,{radius:"rounded",size:"xs",children:s.roles.map(t=>e.jsx(dt,{selectable:!0,children:e.jsx(J,{className:y("capitalize"),target:"_blank",to:`/admin/roles/${t.id}/edit`,children:e.jsx(r,{message:t.name})})},t.id))})},{key:"firstName",allowsSorting:!0,header:()=>e.jsx(r,{message:"First name"}),body:s=>s.first_name},{key:"lastName",allowsSorting:!0,header:()=>e.jsx(r,{message:"Last name"}),body:s=>s.last_name},{key:"createdAt",allowsSorting:!0,width:"w-96",header:()=>e.jsx(r,{message:"Created at"}),body:s=>e.jsx("time",{children:e.jsx(pe,{date:s.created_at})})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),width:"w-84 flex-shrink-0",hideHeader:!0,align:"end",visibleInMode:"all",body:s=>e.jsxs("div",{className:"text-muted",children:[e.jsx(J,{to:`${s.id}/edit`,children:e.jsx(Ae,{label:e.jsx(r,{message:"Edit user"}),children:e.jsx(_,{size:"md",children:e.jsx(De,{})})})}),s.banned_at?e.jsx(il,{user:s}):e.jsxs($,{type:"modal",children:[e.jsx(Ae,{label:e.jsx(r,{message:"Suspend user"}),children:e.jsx(_,{size:"md",children:e.jsx(Oa,{})})}),e.jsx(sl,{user:s})]})]})}];function nl(){const{billing:s}=ke(),t=s.enable?Xt:Xt.filter(a=>a.key!=="subscribed");return e.jsx(d.Fragment,{children:e.jsx(Qe,{endpoint:"users",title:e.jsx(r,{message:"Users"}),filters:Ai,columns:t,actions:e.jsx(rl,{}),queryParams:{with:"subscriptions,bans"},selectedActions:e.jsx(rs,{}),emptyStateMessage:e.jsx(Ee,{image:ks,title:e.jsx(r,{message:"No users have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching users"})})})})}function rl(){return e.jsxs(d.Fragment,{children:[e.jsx(Va,{endpoint:"users/csv/export"}),e.jsx(is,{elementType:J,to:"new",children:e.jsx(r,{message:"Add new user"})})]})}function il({user:s}){const t=tl(s.id);return e.jsxs($,{type:"modal",onClose:a=>{a&&t.mutate()},children:[e.jsx(Ae,{label:e.jsx(r,{message:"Remove suspension"}),children:e.jsx(_,{size:"md",color:"danger",children:e.jsx(Oa,{})})}),e.jsx($e,{isDanger:!0,title:e.jsx(r,{message:"Suspend “:name“",values:{name:s.display_name}}),body:e.jsx(r,{message:"Are you sure you want to remove suspension from this user?"}),confirm:e.jsx(r,{message:"Unsuspend"})})]})}const ll=s=>(t,a,n)=>{const i=n.subscribe;return n.subscribe=(o,c,m)=>{let u=o;if(c){const g=(m==null?void 0:m.equalityFn)||Object.is;let j=o(n.getState());u=b=>{const S=o(b);if(!g(j,S)){const A=j;c(j=S,A)}},m!=null&&m.fireImmediately&&c(j,j)}return i(u)},s(t,a,n)},ol=ll;function cl(s,t){return s.reduce((a,n,i)=>{const l=Math.floor(i/t);return a[l]||(a[l]=[]),a[l].push(n),a},[])}const dl={preview:{defaultRoute:"/",navigationRoutes:[]},sections:{general:{label:h("General"),position:1,buildBreadcrumb:()=>[{label:h("General"),location:"general"}]},themes:{label:h("Themes"),position:2,buildBreadcrumb:(s,t)=>{var l;const a=s.split("/").filter(o=>!!o),[,,,n]=a,i=[{label:h("Themes"),location:"themes"}];return n!=null&&i.push({label:(l=t.appearance.themes.all[+n])==null?void 0:l.name,location:`themes/${n}`}),i}},menus:{label:h("Menus"),position:3,buildBreadcrumb:(s,t)=>{const a=s.split("/").filter(o=>!!o),[,,...n]=a,i=[{label:h("Menus"),location:"menus"}],l=cl(n,2);return l.forEach(([o,c],m)=>{var u,g;if(o==="menus"&&c!=null)i.push({label:(u=t.settings.menus[+c])==null?void 0:u.name,location:`menus/${c}`});else if(o==="items"&&c!=null){const[,j]=l[m-1];i.push({label:(g=t.settings.menus[+j].items[+c])==null?void 0:g.label,location:`menus/${j}/${c}`})}}),i},config:{availableRoutes:["/login","/register","/contact","/billing/pricing","/account-settings","/admin","/admin/appearance","/admin/settings","/admin/plans","/admin/subscriptions","/admin/users","/admin/roles","/admin/pages","/admin/tags","/admin/files","/admin/localizations","/admin/ads","/admin/settings/authentication","/admin/settings/branding","/admin/settings/cache","/admin/settings/providers","/api-docs"],positions:["admin-navbar","admin-sidebar","custom-page-navbar","auth-page-footer","auth-dropdown","account-settings-page","billing-page","checkout-page-navbar","checkout-page-footer","pricing-table-page","contact-us-page","notifications-page","footer","footer-secondary"]}},"custom-code":{label:h("Custom Code"),position:4,buildBreadcrumb:()=>[{label:h("Custom code"),location:"custom-code"}]},"seo-settings":{label:h("SEO Settings"),position:5,buildBreadcrumb:()=>[{label:h("SEO"),location:"seo"}]}}};function ul(s){const{size:t="md",inline:a,label:n,showValueLabel:i=!!n,className:l,width:o="w-full",slider:c,children:m,trackColor:u="primary",fillColor:g="primary"}=s,{domProps:j,trackRef:b,getThumbPercent:S,getThumbValueLabel:A,labelId:k,groupId:N,thumbIds:z,isDisabled:C,numberFormatter:w,minValue:O,maxValue:I,step:B,values:Y,getValueLabel:Z}=c;let K="",me=Math.max([...w.format(O)].length,[...w.format(I)].length,[...w.format(B)].length);Z?K=Z(Y[0]):Y.length===1?K=A(0):Y.length===2&&(K=`${A(0)} – ${A(1)}`,me=3+2*Math.max(me,[...w.format(O)].length,[...w.format(I)].length));const oe=Nt({size:t,disabled:C,labelDisplay:"flex"}),ve=y("touch-none",l,o,{"flex items-center":a});return e.jsxs("div",{className:ve,role:"group",id:N,children:[(n||i)&&e.jsxs("div",{className:y(oe.label,"select-none"),children:[n&&e.jsx("label",{onClick:()=>{var Fe;(Fe=document.getElementById(z[0]))==null||Fe.focus()},id:k,htmlFor:N,children:n}),i&&e.jsx("output",{htmlFor:z[0],className:"ml-auto text-right","aria-live":"off",style:me?{width:`${me}ch`,minWidth:`${me}ch`}:void 0,children:K})]}),e.jsxs("div",{ref:b,className:"h-30 relative",...j,role:"presentation",children:[e.jsx("div",{className:`absolute inset-0 m-auto h-4 rounded ${ml(u,C)}`}),e.jsx("div",{className:`absolute inset-0 my-auto h-4 rounded ${hl(g,C)}`,style:{width:`${S(0)*100}%`}}),m]})]})}function ml(s,t){switch(t&&(s="disabled"),s){case"disabled":return"bg-slider-disabled/60";case"primary":return"bg-primary-light";case"neutral":return"bg-divider";default:return s}}function hl(s,t){switch(t&&(s="disabled"),s){case"disabled":return"bg-slider-disabled";case"primary":return"bg-primary";default:return s}}function xl({minValue:s=0,maxValue:t=100,isDisabled:a=!1,step:n=1,formatOptions:i,onChangeEnd:l,onPointerDown:o,label:c,getValueLabel:m,showThumbOnHoverOnly:u,thumbSize:g,onPointerMove:j,...b}){const[S,A]=d.useState(!1),k=ga(i),{addGlobalListener:N,removeGlobalListener:z}=ya(),C=d.useRef(null),[w,O]=_s(b.value?b.value:void 0,b.defaultValue??[s],b.onChange),I=d.useRef(null);I.current=w;const[B,Y]=d.useState(new Array(w.length).fill(!1)),Z=d.useRef(null);Z.current=B;function K(F){return k.format(F)}const me=F=>{var W;return((W=Z.current)==null?void 0:W[F])||!1},oe=F=>K(w[F]),ve=F=>F===0?s:w[F-1],Fe=F=>F===w.length-1?t:w[F+1],Re=(F,W)=>{if(a||!tt(F)||!I.current)return;const ze=ve(F),Ve=Fe(F);W=br(W,ze,Ve,n),I.current=ea(I.current,F,W),O(I.current)},Te=(F,W)=>{var Ve;if(a||!tt(F))return;const ze=(Ve=Z.current)==null?void 0:Ve[F];Z.current=ea(Z.current||[],F,W),Y(Z.current),l&&ze&&!Z.current.some(Boolean)&&l(I.current||[])},[Ls,js]=d.useState(void 0),Ms=F=>{const W=Math.min(1,(F-s)/(t-s));return isNaN(W)?0:W},Ds=F=>Ms(I.current[F]),ge=(F,W)=>{Re(F,Wt(W))},or=F=>Math.round((F-s)/n)*n+s,Wt=F=>{const W=F*(t-s)+s;return Bs(or(W),s,t)},Gt=d.useRef(new Array(w.length).fill(!0)),tt=F=>Gt.current[F],cr=(F,W)=>{Gt.current[F]=W},ye=d.useRef(null),Kt=d.useRef(void 0),dr=F=>{if(!(F.pointerType==="mouse"&&(F.button!==0||F.altKey||F.ctrlKey||F.metaKey))&&(o==null||o(),C.current&&!a&&w.every((W,ze)=>!B[ze]))){const W=C.current.offsetWidth,ze=C.current.getBoundingClientRect().left,nt=(F.clientX-ze)/W,Rs=Wt(nt);let Le;const Ye=w.findIndex(rt=>Rs-rt<0);if(Ye===0)Le=Ye;else if(Ye===-1)Le=w.length-1;else{const rt=w[Ye-1],pr=w[Ye];Math.abs(rt-Rs)<Math.abs(pr-Rs)?Le=Ye-1:Le=Ye}Le>=0&&tt(Le)?(F.preventDefault(),ye.current=Le,js(Le),Kt.current=F.pointerId,Te(ye.current,!0),Re(Le,Rs),N(window,"pointerup",Qt,!1)):ye.current=null}},fs=d.useRef(null),{domProps:ur}=hi({onPointerDown:dr,onMoveStart(){fs.current=null},onMove(F,W){var Ve;const ze=((Ve=C.current)==null?void 0:Ve.offsetWidth)||0;if(fs.current==null&&(fs.current=Ds(ye.current||0)*ze),fs.current+=W,ye.current!=null&&C.current){const nt=Bs(fs.current/ze,0,1);ge(ye.current,nt)}},onMoveEnd(){ye.current!=null&&(Te(ye.current,!1),ye.current=null)}}),mr=ts(ur,{onPointerEnter:()=>{A(!0)},onPointerLeave:()=>{A(!1)},onPointerMove:F=>{j==null||j(F)}}),Qt=F=>{F.pointerId===Kt.current&&(ye.current!=null&&(Te(ye.current,!1),ye.current=null),z(window,"pointerup",Qt,!1))},at=d.useId(),hr=c?`${at}-label`:void 0,xr=`${at}-group`,gr=[...Array(w.length)].map((F,W)=>`${at}-thumb-${W}`);return{domProps:mr,trackRef:C,isDisabled:a,step:n,values:w,minValue:s,maxValue:t,focusedThumb:Ls,labelId:hr,groupId:xr,thumbIds:gr,numberFormatter:k,getThumbPercent:Ds,getThumbMinValue:ve,getThumbMaxValue:Fe,getThumbValueLabel:oe,isThumbDragging:me,setThumbValue:Re,updateDraggedThumbs:Te,setThumbEditable:cr,setFocusedThumb:js,getValueLabel:m,isPointerOver:S,showThumbOnHoverOnly:u,thumbSize:g}}function ea(s,t,a){return s[t]===a?s:[...s.slice(0,t),a,...s.slice(t+1)]}function gl({index:s,slider:t,isDisabled:a,ariaLabel:n,inputRef:i,onBlur:l,fillColor:o="primary"}){const c=wa(i),{addGlobalListener:m,removeGlobalListener:u}=ya(),{step:g,values:j,focusedThumb:b,labelId:S,thumbIds:A,isDisabled:k,getThumbPercent:N,getThumbMinValue:z,getThumbMaxValue:C,getThumbValueLabel:w,setThumbValue:O,updateDraggedThumbs:I,isThumbDragging:B,setThumbEditable:Y,setFocusedThumb:Z,isPointerOver:K,showThumbOnHoverOnly:me,thumbSize:oe="w-18 h-18"}=t,ve=B(s),Fe=j[s];Y(s,!a);const Re=a||k,Te=d.useCallback(()=>{c.current&&c.current.focus({preventScroll:!0})},[c]),Ls=b===s;d.useEffect(()=>{Ls&&Te()},[Ls,Te]);const js=d.useRef(void 0),Ms=ge=>{ge.pointerId===js.current&&(Te(),I(s,!1),u(window,"pointerup",Ms,!1))},Ds=y("outline-none rounded-full top-1/2 -translate-y-1/2 -translate-x-1/2 absolute inset-0 transition-button duration-200",oe,!Re&&"shadow-md",pl({fillColor:o,isDisabled:Re,isDragging:ve}),me&&ve||K?"visible":"invisible");return e.jsx("div",{role:"presentation",className:Ds,style:{left:`${Math.max(N(s)*100,0)}%`},onPointerDown:ge=>{ge.button!==0||ge.altKey||ge.ctrlKey||ge.metaKey||(Te(),js.current=ge.pointerId,I(s,!0),m(window,"pointerup",Ms,!1))},children:e.jsx("input",{id:A[s],onKeyDown:Yt(()=>{I(s,!0)}),onKeyUp:Yt(()=>{I(s,!1)}),ref:c,tabIndex:Re?void 0:0,min:z(s),max:C(s),step:g,value:Fe,disabled:Re,"aria-label":n,"aria-labelledby":S,"aria-orientation":"horizontal","aria-valuetext":w(s),onFocus:()=>{Z(s)},onBlur:ge=>{Z(void 0),I(s,!1),l==null||l(ge)},onChange:ge=>{O(s,parseFloat(ge.target.value))},type:"range",className:"sr-only"})})}function pl({isDisabled:s,isDragging:t,fillColor:a}){return s?"bg-slider-disabled cursor-default":a&&a!=="primary"?a:y("hover:bg-primary-dark",t?"bg-primary-dark":"bg-primary")}function jl({inputRef:s,onBlur:t,...a}){const{onChange:n,onChangeEnd:i,value:l,defaultValue:o,...c}=a,m={...c,value:l!=null?[l]:void 0,defaultValue:o!=null?[o]:void 0,onChange:g=>{n==null||n(g[0])},onChangeEnd:g=>{i==null||i(g[0])}},u=xl(m);return e.jsx(ul,{...m,slider:u,children:e.jsx(gl,{fillColor:a.fillColor,index:0,slider:u,inputRef:s,onBlur:t})})}function fl({name:s,...t}){const{field:{onChange:a,onBlur:n,value:i="",ref:l}}=ms({name:s}),o={onChange:a,onBlur:n,value:i||""};return e.jsx(jl,{inputRef:l,...ts(o,t)})}const Ne=d.forwardRef(({startIcon:s,children:t,className:a,...n},i)=>e.jsxs(Sa,{ref:i,className:y("flex items-center gap-10 w-full rounded border text-sm h-54 px-14 mb-10 bg relative hover:bg-hover",a),variant:null,...n,children:[s,e.jsx("div",{children:t}),e.jsx(Js,{className:"icon-sm text-muted ml-auto"})]})),Ha=T(e.jsx("path",{stroke:"#E0E0E0",d:"M24,44c-7.168,0-13-5.816-13-12.971C11,24,24,4,24,4s13,20,13,27.029C37,38.184,31.168,44,24,44z"}));function ps(){return(ps=Object.assign||function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(s[n]=a[n])}return s}).apply(this,arguments)}function et(s,t){if(s==null)return{};var a,n,i={},l=Object.keys(s);for(n=0;n<l.length;n++)t.indexOf(a=l[n])>=0||(i[a]=s[a]);return i}function Ns(s){var t=d.useRef(s),a=d.useRef(function(n){t.current&&t.current(n)});return t.current=s,a.current}var Cs=function(s,t,a){return t===void 0&&(t=0),a===void 0&&(a=1),s>a?a:s<t?t:s},ys=function(s){return"touches"in s},ht=function(s){return s&&s.ownerDocument.defaultView||self},sa=function(s,t,a){var n=s.getBoundingClientRect(),i=ys(t)?function(l,o){for(var c=0;c<l.length;c++)if(l[c].identifier===o)return l[c];return l[0]}(t.touches,a):t;return{left:Cs((i.pageX-(n.left+ht(s).pageXOffset))/n.width),top:Cs((i.pageY-(n.top+ht(s).pageYOffset))/n.height)}},ta=function(s){!ys(s)&&s.preventDefault()},Ua=L.memo(function(s){var t=s.onMove,a=s.onKey,n=et(s,["onMove","onKey"]),i=d.useRef(null),l=Ns(t),o=Ns(a),c=d.useRef(null),m=d.useRef(!1),u=d.useMemo(function(){var S=function(N){ta(N),(ys(N)?N.touches.length>0:N.buttons>0)&&i.current?l(sa(i.current,N,c.current)):k(!1)},A=function(){return k(!1)};function k(N){var z=m.current,C=ht(i.current),w=N?C.addEventListener:C.removeEventListener;w(z?"touchmove":"mousemove",S),w(z?"touchend":"mouseup",A)}return[function(N){var z=N.nativeEvent,C=i.current;if(C&&(ta(z),!function(O,I){return I&&!ys(O)}(z,m.current)&&C)){if(ys(z)){m.current=!0;var w=z.changedTouches||[];w.length&&(c.current=w[0].identifier)}C.focus(),l(sa(C,z,c.current)),k(!0)}},function(N){var z=N.which||N.keyCode;z<37||z>40||(N.preventDefault(),o({left:z===39?.05:z===37?-.05:0,top:z===40?.05:z===38?-.05:0}))},k]},[o,l]),g=u[0],j=u[1],b=u[2];return d.useEffect(function(){return b},[b]),L.createElement("div",ps({},n,{onTouchStart:g,onMouseDown:g,className:"react-colorful__interactive",ref:i,onKeyDown:j,tabIndex:0,role:"slider"}))}),Dt=function(s){return s.filter(Boolean).join(" ")},Ba=function(s){var t=s.color,a=s.left,n=s.top,i=n===void 0?.5:n,l=Dt(["react-colorful__pointer",s.className]);return L.createElement("div",{className:l,style:{top:100*i+"%",left:100*a+"%"}},L.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},ie=function(s,t,a){return t===void 0&&(t=0),a===void 0&&(a=Math.pow(10,t)),Math.round(a*s)/a},bl=function(s){return kl(xt(s))},xt=function(s){return s[0]==="#"&&(s=s.substring(1)),s.length<6?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?ie(parseInt(s[3]+s[3],16)/255,2):1}:{r:parseInt(s.substring(0,2),16),g:parseInt(s.substring(2,4),16),b:parseInt(s.substring(4,6),16),a:s.length===8?ie(parseInt(s.substring(6,8),16)/255,2):1}},vl=function(s){return Sl(wl(s))},yl=function(s){var t=s.s,a=s.v,n=s.a,i=(200-t)*a/100;return{h:ie(s.h),s:ie(i>0&&i<200?t*a/100/(i<=100?i:200-i)*100:0),l:ie(i/2),a:ie(n,2)}},gt=function(s){var t=yl(s);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},wl=function(s){var t=s.h,a=s.s,n=s.v,i=s.a;t=t/360*6,a/=100,n/=100;var l=Math.floor(t),o=n*(1-a),c=n*(1-(t-l)*a),m=n*(1-(1-t+l)*a),u=l%6;return{r:ie(255*[n,c,o,o,m,n][u]),g:ie(255*[m,n,n,c,o,o][u]),b:ie(255*[o,o,m,n,n,c][u]),a:ie(i,2)}},Vs=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},Sl=function(s){var t=s.r,a=s.g,n=s.b,i=s.a,l=i<1?Vs(ie(255*i)):"";return"#"+Vs(t)+Vs(a)+Vs(n)+l},kl=function(s){var t=s.r,a=s.g,n=s.b,i=s.a,l=Math.max(t,a,n),o=l-Math.min(t,a,n),c=o?l===t?(a-n)/o:l===a?2+(n-t)/o:4+(t-a)/o:0;return{h:ie(60*(c<0?c+6:c)),s:ie(l?o/l*100:0),v:ie(l/255*100),a:i}},Nl=L.memo(function(s){var t=s.hue,a=s.onChange,n=Dt(["react-colorful__hue",s.className]);return L.createElement("div",{className:n},L.createElement(Ua,{onMove:function(i){a({h:360*i.left})},onKey:function(i){a({h:Cs(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":ie(t),"aria-valuemax":"360","aria-valuemin":"0"},L.createElement(Ba,{className:"react-colorful__hue-pointer",left:t/360,color:gt({h:t,s:100,v:100,a:1})})))}),Cl=L.memo(function(s){var t=s.hsva,a=s.onChange,n={backgroundColor:gt({h:t.h,s:100,v:100,a:1})};return L.createElement("div",{className:"react-colorful__saturation",style:n},L.createElement(Ua,{onMove:function(i){a({s:100*i.left,v:100-100*i.top})},onKey:function(i){a({s:Cs(t.s+100*i.left,0,100),v:Cs(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ie(t.s)+"%, Brightness "+ie(t.v)+"%"},L.createElement(Ba,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:gt(t)})))}),qa=function(s,t){if(s===t)return!0;for(var a in s)if(s[a]!==t[a])return!1;return!0},_l=function(s,t){return s.toLowerCase()===t.toLowerCase()||qa(xt(s),xt(t))};function Fl(s,t,a){var n=Ns(a),i=d.useState(function(){return s.toHsva(t)}),l=i[0],o=i[1],c=d.useRef({color:t,hsva:l});d.useEffect(function(){if(!s.equal(t,c.current.color)){var u=s.toHsva(t);c.current={hsva:u,color:t},o(u)}},[t,s]),d.useEffect(function(){var u;qa(l,c.current.hsva)||s.equal(u=s.fromHsva(l),c.current.color)||(c.current={hsva:l,color:u},n(u))},[l,s,n]);var m=d.useCallback(function(u){o(function(g){return Object.assign({},g,u)})},[]);return[l,m]}var zl=typeof window<"u"?d.useLayoutEffect:d.useEffect,Il=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},aa=new Map,Al=function(s){zl(function(){var t=s.current?s.current.ownerDocument:document;if(t!==void 0&&!aa.has(t)){var a=t.createElement("style");a.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,aa.set(t,a);var n=Il();n&&a.setAttribute("nonce",n),t.head.appendChild(a)}},[])},El=function(s){var t=s.className,a=s.colorModel,n=s.color,i=n===void 0?a.defaultColor:n,l=s.onChange,o=et(s,["className","colorModel","color","onChange"]),c=d.useRef(null);Al(c);var m=Fl(a,i,l),u=m[0],g=m[1],j=Dt(["react-colorful",t]);return L.createElement("div",ps({},o,{ref:c,className:j}),L.createElement(Cl,{hsva:u,onChange:g}),L.createElement(Nl,{hue:u.h,onChange:g,className:"react-colorful__last-control"}))},Pl={defaultColor:"000",toHsva:bl,fromHsva:function(s){return vl({h:s.h,s:s.s,v:s.v,a:1})},equal:_l},$l=function(s){return L.createElement(El,ps({},s,{colorModel:Pl}))},Tl=/^#?([0-9A-F]{3,8})$/i,Ll=function(s){var t=s.color,a=t===void 0?"":t,n=s.onChange,i=s.onBlur,l=s.escape,o=s.validate,c=s.format,m=s.process,u=et(s,["color","onChange","onBlur","escape","validate","format","process"]),g=d.useState(function(){return l(a)}),j=g[0],b=g[1],S=Ns(n),A=Ns(i),k=d.useCallback(function(z){var C=l(z.target.value);b(C),o(C)&&S(m?m(C):C)},[l,m,o,S]),N=d.useCallback(function(z){o(z.target.value)||b(l(a)),A(z)},[a,l,o,A]);return d.useEffect(function(){b(l(a))},[a,l]),L.createElement("input",ps({},u,{value:c?c(j):j,spellCheck:"false",onChange:k,onBlur:N}))},na=function(s){return"#"+s},Ml=function(s){var t=s.prefixed,a=s.alpha,n=et(s,["prefixed","alpha"]),i=d.useCallback(function(o){return o.replace(/([^0-9A-F]+)/gi,"").substring(0,a?8:6)},[a]),l=d.useCallback(function(o){return function(c,m){var u=Tl.exec(c),g=u?u[1].length:0;return g===3||g===6||!!m&&g===4||!!m&&g===8}(o,a)},[a]);return L.createElement(Ll,ps({},n,{escape:i,format:t?na:void 0,process:na,validate:l}))};class Dl{getStringForLocale(t,a){let n=this.strings[a];n||(n=Rl(a,this.strings,this.defaultLocale),this.strings[a]=n);let i=n[t];if(!i)throw new Error(`Could not find intl message ${t} in ${a} locale`);return i}constructor(t,a="en-US"){this.strings={...t},this.defaultLocale=a}}function Rl(s,t,a="en-US"){if(t[s])return t[s];let n=Vl(s);if(t[n])return t[n];for(let i in t)if(i.startsWith(n+"-"))return t[i];return t[a]}function Vl(s){return Intl.Locale?new Intl.Locale(s).language:s.split("-")[0]}function Ol(s){return s&&s.__esModule?s.default:s}var Wa={},Ga={};Ga={alpha:"ألفا",blue:"أزرق",brightness:"السطوع",green:"أخضر",hue:"درجة اللون",lightness:"الإضاءة",red:"أحمر",saturation:"التشبع"};var Ka={};Ka={alpha:"Алфа",blue:"Синьо",brightness:"Яркост",green:"Зелено",hue:"Оттенък",lightness:"Лекота",red:"Червено",saturation:"Наситеност"};var Qa={};Qa={alpha:"Alfa",blue:"Modrá",brightness:"Jas",green:"Zelená",hue:"Odstín",lightness:"Světlost",red:"Červená",saturation:"Sytost"};var Ya={};Ya={alpha:"Alfa",blue:"Blå",brightness:"Lysstyrke",green:"Grøn",hue:"Tone",lightness:"Lyshed",red:"Rød",saturation:"Farvemætning"};var Ja={};Ja={alpha:"Alpha",blue:"Blau",brightness:"Helligkeit",green:"Grün",hue:"Farbton",lightness:"Leuchtkraft",red:"Rot",saturation:"Sättigung"};var Za={};Za={alpha:"Άλφα",blue:"Μπλε",brightness:"Φωτεινότητα",green:"Πράσινο",hue:"Τόνος",lightness:"Φωτεινότητα",red:"Κόκκινο",saturation:"Κορεσμός"};var Xa={};Xa={hue:"Hue",saturation:"Saturation",lightness:"Lightness",brightness:"Brightness",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha"};var en={};en={alpha:"Alpha",blue:"Azul",brightness:"Brillo",green:"Verde",hue:"Tono",lightness:"Luminosidad",red:"Rojo",saturation:"Saturación"};var sn={};sn={alpha:"Alfa",blue:"Sinine",brightness:"Heledus",green:"Roheline",hue:"Värv",lightness:"Valgus",red:"Punane",saturation:"Küllastus"};var tn={};tn={alpha:"Alpha",blue:"Sininen",brightness:"Kirkkaus",green:"Vihreä",hue:"Sävy",lightness:"Valomäärä",red:"Punainen",saturation:"Värikylläisyys"};var an={};an={alpha:"Alpha",blue:"Bleu",brightness:"Luminosité",green:"Vert",hue:"Teinte",lightness:"Luminosité",red:"Rouge",saturation:"Saturation"};var nn={};nn={alpha:"אלפא",blue:"כחול",brightness:"בהירות",green:"ירוק",hue:"גוון",lightness:"כמות אור",red:"אדום",saturation:"רוויה"};var rn={};rn={alpha:"Alfa",blue:"Plava",brightness:"Svjetlina",green:"Zelena",hue:"Nijansa",lightness:"Osvijetljenost",red:"Crvena",saturation:"Zasićenost"};var ln={};ln={alpha:"Alfa",blue:"Kék",brightness:"Fényesség",green:"Zöld",hue:"Színárnyalat",lightness:"Világosság",red:"Piros",saturation:"Telítettség"};var on={};on={alpha:"Alfa",blue:"Blu",brightness:"Luminosità",green:"Verde",hue:"Tonalità",lightness:"Luminosità",red:"Rosso",saturation:"Saturazione"};var cn={};cn={alpha:"アルファ",blue:"青",brightness:"明るさ",green:"緑",hue:"色相",lightness:"明度",red:"赤",saturation:"彩度"};var dn={};dn={alpha:"알파",blue:"파랑",brightness:"명도",green:"초록",hue:"색조",lightness:"밝기",red:"빨강",saturation:"채도"};var un={};un={alpha:"Alfa",blue:"Mėlyna",brightness:"Ryškumas",green:"Žalia",hue:"Atspalvis",lightness:"Šviesumas",red:"Raudona",saturation:"Įsotinimas"};var mn={};mn={alpha:"Alfa",blue:"Zila",brightness:"Spilgtums",green:"Zaļa",hue:"Nokrāsa",lightness:"Gaišums",red:"Sarkana",saturation:"Piesātinājums"};var hn={};hn={alpha:"Alfa",blue:"Blå",brightness:"Lysstyrke",green:"Grønn",hue:"Fargetone",lightness:"Lyshet",red:"Rød",saturation:"Metning"};var xn={};xn={alpha:"Alfa",blue:"Blauw",brightness:"Helderheid",green:"Groen",hue:"Kleurtoon",lightness:"Lichtsterkte",red:"Rood",saturation:"Verzadiging"};var gn={};gn={alpha:"Alfa",blue:"Niebieski",brightness:"Jasność",green:"Zielony",hue:"Odcień",lightness:"Jaskrawość",red:"Czerwony",saturation:"Nasycenie"};var pn={};pn={alpha:"Alfa",blue:"Azul",brightness:"Brilho",green:"Verde",hue:"Matiz",lightness:"Luminosidade",red:"Vermelho",saturation:"Saturação"};var jn={};jn={alpha:"Alfa",blue:"Azul",brightness:"Luminosidade",green:"Verde",hue:"Tonalidade",lightness:"Claridade",red:"Vermelho",saturation:"Saturação"};var fn={};fn={alpha:"Alfa",blue:"Albastru",brightness:"Luminozitate",green:"Verde",hue:"Nuanță",lightness:"Luminozitate",red:"Roșu",saturation:"Saturație"};var bn={};bn={alpha:"Альфа",blue:"Синий",brightness:"Яркость",green:"Зеленый",hue:"Оттенок",lightness:"Освещенность",red:"Красный",saturation:"Насыщенность"};var vn={};vn={alpha:"Alfa",blue:"Modrá",brightness:"Jas",green:"Zelená",hue:"Odtieň",lightness:"Svetlosť",red:"Červená",saturation:"Sýtosť"};var yn={};yn={alpha:"Alfa",blue:"Modra",brightness:"Svetlost",green:"Zelena",hue:"Barva",lightness:"Lahkost",red:"Rdeča",saturation:"Nasičenost"};var wn={};wn={alpha:"Alfa",blue:"Plava",brightness:"Osvetljenost",green:"Zelena",hue:"Nijansa",lightness:"Osvetljenje",red:"Crvena",saturation:"Zasićenje"};var Sn={};Sn={alpha:"Alfa",blue:"Blått",brightness:"Ljusstyrka",green:"Grönt",hue:"Nyans",lightness:"Ljushet",red:"Rött",saturation:"Mättnad"};var kn={};kn={alpha:"Alfa",blue:"Mavi",brightness:"Parlaklık",green:"Yeşil",hue:"Ton",lightness:"Canlılık",red:"Kırmızı",saturation:"Doygunluk"};var Nn={};Nn={alpha:"Альфа",blue:"Синій",brightness:"Яскравість",green:"Зелений",hue:"Тон",lightness:"Освітленість",red:"Червоний",saturation:"Насиченість"};var Cn={};Cn={alpha:"Alpha",blue:"蓝色",brightness:"亮度",green:"绿色",hue:"色相",lightness:"明亮度",red:"红色",saturation:"饱和度"};var _n={};_n={alpha:"Alpha",blue:"藍色",brightness:"亮度",green:"綠色",hue:"色相",lightness:"明亮",red:"紅色",saturation:"飽和度"};Wa={"ar-AE":Ga,"bg-BG":Ka,"cs-CZ":Qa,"da-DK":Ya,"de-DE":Ja,"el-GR":Za,"en-US":Xa,"es-ES":en,"et-EE":sn,"fi-FI":tn,"fr-FR":an,"he-IL":nn,"hr-HR":rn,"hu-HU":ln,"it-IT":on,"ja-JP":cn,"ko-KR":dn,"lt-LT":un,"lv-LV":mn,"nb-NO":hn,"nl-NL":xn,"pl-PL":gn,"pt-BR":pn,"pt-PT":jn,"ro-RO":fn,"ru-RU":bn,"sk-SK":vn,"sl-SI":yn,"sr-SP":wn,"sv-SE":Sn,"tr-TR":kn,"uk-UA":Nn,"zh-CN":Cn,"zh-TW":_n};const Hl=new Dl(Ol(Wa));function ls(s){let t=Oe.parse(s)||He.parse(s)||Ue.parse(s);if(t)return t;throw new Error("Invalid color value: "+s)}class Rt{toHexInt(){return this.toFormat("rgb").toHexInt()}getChannelValue(t){if(t in this)return this[t];throw new Error("Unsupported color channel: "+t)}withChannelValue(t,a){if(t in this){let n=this.clone();return n[t]=a,n}throw new Error("Unsupported color channel: "+t)}getChannelName(t,a){return Hl.getStringForLocale(t,a)}getColorSpaceAxes(t){let{xChannel:a,yChannel:n}=t,i=a||this.getColorChannels().find(c=>c!==n),l=n||this.getColorChannels().find(c=>c!==i),o=this.getColorChannels().find(c=>c!==i&&c!==l);return{xChannel:i,yChannel:l,zChannel:o}}}class Oe extends Rt{static parse(t){let a=[];if(/^#[\da-f]+$/i.test(t)&&[4,5,7,9].includes(t.length)){const l=(t.length<6?t.replace(/[^#]/gi,"$&$&"):t).slice(1).split("");for(;l.length>0;)a.push(parseInt(l.splice(0,2).join(""),16));a[3]=a[3]!==void 0?a[3]/255:void 0}const n=t.match(/^rgba?\((.*)\)$/);n!=null&&n[1]&&(a=n[1].split(",").map(l=>Number(l.trim())),a=a.map((l,o)=>Ze(l,0,o<3?255:1)));var i;return a.length<3?void 0:new Oe(a[0],a[1],a[2],(i=a[3])!==null&&i!==void 0?i:1)}toString(t){switch(t){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hex":case"hexa":case"rgb":case"rgba":return this;case"hsb":case"hsba":return this.toHSB();case"hsl":case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+t)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const t=this.red/255,a=this.green/255,n=this.blue/255,i=Math.min(t,a,n),l=Math.max(t,a,n),o=l-i,c=l===0?0:o/l;let m=0;if(o!==0){switch(l){case t:m=(a-n)/o+(a<n?6:0);break;case a:m=(n-t)/o+2;break;case n:m=(t-a)/o+4;break}m/=6}return new He(ee(m*360,2),ee(c*100,2),ee(l*100,2),this.alpha)}toHSL(){const t=this.red/255,a=this.green/255,n=this.blue/255,i=Math.min(t,a,n),l=Math.max(t,a,n),o=(l+i)/2,c=l-i;let m,u;if(c===0)m=u=0;else{switch(u=c/(o<.5?l+i:2-l-i),l){case t:m=(a-n)/c+(a<n?6:0);break;case a:m=(n-t)/c+2;break;case n:m=(t-a)/c+4;break}m/=6}return new Ue(ee(m*360,2),ee(u*100,2),ee(o*100,2),this.alpha)}clone(){return new Oe(this.red,this.green,this.blue,this.alpha)}getChannelRange(t){switch(t){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,a){let n,i=this.getChannelValue(t);switch(t){case"red":case"green":case"blue":n={style:"decimal"};break;case"alpha":n={style:"percent"};break;default:throw new Error("Unknown color channel: "+t)}return new Ct(a,n).format(i)}getColorSpace(){return"rgb"}getColorChannels(){return Oe.colorChannels}constructor(t,a,n,i){super(),this.red=t,this.green=a,this.blue=n,this.alpha=i}}Oe.colorChannels=["red","green","blue"];const Ul=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/;class He extends Rt{static parse(t){let a;if(a=t.match(Ul)){var n;const[i,l,o,c]=((n=a[1])!==null&&n!==void 0?n:a[2]).split(",").map(m=>Number(m.trim().replace("%","")));return new He(Fn(i,360),Ze(l,0,100),Ze(o,0,100),Ze(c??1,0,1))}}toString(t){switch(t){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${ee(this.saturation,2)}%, ${ee(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${ee(this.saturation,2)}%, ${ee(this.brightness,2)}%, ${this.alpha})`;default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hsb":case"hsba":return this;case"hsl":case"hsla":return this.toHSL();case"rgb":case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+t)}}toHSL(){let t=this.saturation/100,a=this.brightness/100,n=a*(1-t/2);return t=n===0||n===1?0:(a-n)/Math.min(n,1-n),new Ue(ee(this.hue,2),ee(t*100,2),ee(n*100,2),this.alpha)}toRGB(){let t=this.hue,a=this.saturation/100,n=this.brightness/100,i=(l,o=(l+t/60)%6)=>n-a*n*Math.max(Math.min(o,4-o,1),0);return new Oe(Math.round(i(5)*255),Math.round(i(3)*255),Math.round(i(1)*255),this.alpha)}clone(){return new He(this.hue,this.saturation,this.brightness,this.alpha)}getChannelRange(t){switch(t){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,a){let n,i=this.getChannelValue(t);switch(t){case"hue":n={style:"unit",unit:"degree",unitDisplay:"narrow"};break;case"saturation":case"brightness":n={style:"percent"},i/=100;break;case"alpha":n={style:"percent"};break;default:throw new Error("Unknown color channel: "+t)}return new Ct(a,n).format(i)}getColorSpace(){return"hsb"}getColorChannels(){return He.colorChannels}constructor(t,a,n,i){super(),this.hue=t,this.saturation=a,this.brightness=n,this.alpha=i}}He.colorChannels=["hue","saturation","brightness"];const Bl=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/;function Fn(s,t){return(s%t+t)%t}class Ue extends Rt{static parse(t){let a;if(a=t.match(Bl)){var n;const[i,l,o,c]=((n=a[1])!==null&&n!==void 0?n:a[2]).split(",").map(m=>Number(m.trim().replace("%","")));return new Ue(Fn(i,360),Ze(l,0,100),Ze(o,0,100),Ze(c??1,0,1))}}toString(t){switch(t){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${ee(this.saturation,2)}%, ${ee(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${ee(this.saturation,2)}%, ${ee(this.lightness,2)}%, ${this.alpha})`;default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hsl":case"hsla":return this;case"hsb":case"hsba":return this.toHSB();case"rgb":case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+t)}}toHSB(){let t=this.saturation/100,a=this.lightness/100,n=a+t*Math.min(a,1-a);return t=n===0?0:2*(1-a/n),new He(ee(this.hue,2),ee(t*100,2),ee(n*100,2),this.alpha)}toRGB(){let t=this.hue,a=this.saturation/100,n=this.lightness/100,i=a*Math.min(n,1-n),l=(o,c=(o+t/30)%12)=>n-i*Math.max(Math.min(c-3,9-c,1),-1);return new Oe(Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255),this.alpha)}clone(){return new Ue(this.hue,this.saturation,this.lightness,this.alpha)}getChannelRange(t){switch(t){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,a){let n,i=this.getChannelValue(t);switch(t){case"hue":n={style:"unit",unit:"degree",unitDisplay:"narrow"};break;case"saturation":case"lightness":n={style:"percent"},i/=100;break;case"alpha":n={style:"percent"};break;default:throw new Error("Unknown color channel: "+t)}return new Ct(a,n).format(i)}getColorSpace(){return"hsl"}getColorChannels(){return Ue.colorChannels}constructor(t,a,n,i){super(),this.hue=t,this.saturation=a,this.lightness=n,this.alpha=i}}Ue.colorChannels=["hue","saturation","lightness"];ls("#ffffff");ls("hsl(0, 100%, 50%)");const ql=ls("#000000"),Wl=ls("#FFFFFF");ql.toHexInt();Wl.toHexInt();function Gl({onChange:s,value:t,colors:a}){const n=a.map(i=>{const l=t===i;return e.jsx(Sa,{onClick:()=>{s==null||s(i)},className:y("relative block flex-shrink-0 w-26 h-26 border rounded",l&&"shadow-md"),style:{backgroundColor:i},children:l&&e.jsx("span",{className:"absolute inset-0 m-auto rounded-full w-8 h-8 bg-white"})},i)});return e.jsx("div",{className:"flex flex-wrap gap-6",children:n})}const Kl=[{color:"rgb(255, 255, 255)",name:h("White")},{color:"rgb(239,245,245)",name:h("Solitude")},{color:"rgb(245,213,174)",name:h("Wheat")},{color:"rgb(253,227,167)",name:h("Cape Honey")},{color:"rgb(242,222,186)",name:h("Milk punch")},{color:"rgb(97,118,75)",name:h("Dingy"),foreground:"rgb(255, 255, 255)"},{color:"rgb(4, 147, 114)",name:h("Aquamarine"),foreground:"rgb(255, 255, 255)"},{color:"rgb(222,245,229)",name:h("Cosmic Latte")},{color:"rgb(233,119,119)",name:h("Geraldine"),foreground:"rgb(90,14,14)"},{color:"rgb(247,164,164)",name:h("Sundown")},{color:"rgb(30,139,195)",name:h("Pelorous"),foreground:"rgb(255, 255, 255)"},{color:"rgb(142,68,173)",name:h("Deep Lilac"),foreground:"rgb(255, 255, 255)"},{color:"rgb(108,74,182)",name:h("Blue marguerite"),foreground:"rgb(255, 255, 255)"},{color:"rgb(139,126,116)",name:h("Americano"),foreground:"rgb(255, 255, 255)"},{color:"rgb(0,0,0)",name:h("Black"),foreground:"rgb(255, 255, 255)"},{color:"rgb(64,66,88)",name:h("Blue zodiac"),foreground:"rgb(255, 255, 255)"},{color:"rgb(101,100,124)",name:h("Comet"),foreground:"rgb(255, 255, 255)"}],Ql=Kl.map(({color:s})=>s).slice(0,14);function Yl({defaultValue:s,onChange:t,colorPresets:a,showInput:n}){const[i,l]=d.useState(s),o=a||Ql,c=Nt({size:"sm"});return e.jsxs("div",{children:[e.jsx($l,{className:"!w-auto",color:i,onChange:m=>{t==null||t(m),l(m)}}),e.jsxs("div",{className:"py-20 px-12",children:[o&&e.jsx(Gl,{colors:o,onChange:m=>{if(m){const u=ls(m).toString("hex");t==null||t(u),l(u)}},value:i}),n&&e.jsx("div",{className:"pt-20",children:e.jsx(Ml,{autoComplete:"off",role:"textbox",autoCorrect:"off",spellCheck:"false",required:!0,"aria-label":"Hex color",prefixed:!0,className:c.input,color:i,onChange:m=>{t==null||t(m),l(m)}})})]})]})}function Vt({defaultValue:s,onChange:t,hideFooter:a=!1,showInput:n=!0}){const{close:i}=Q(),[l,o]=d.useState(s||"");return e.jsxs(se,{size:"2xs",children:[e.jsx(Yl,{showInput:n,defaultValue:l,onChange:c=>{o(c),t==null||t(c)}}),!a&&e.jsxs(ue,{dividerTop:!0,children:[e.jsx(f,{variant:"text",size:"xs",onClick:()=>{i()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{variant:"flat",color:"primary",size:"xs",onClick:()=>{i(l)},children:e.jsx(r,{message:"Apply"})})]})]})}function Jl(){return e.jsxs(d.Fragment,{children:[e.jsx(Zl,{}),e.jsxs("div",{className:"my-24 py-24 border-y",children:[e.jsx(Ne,{to:"action-buttons",elementType:J,className:"mb-20",children:e.jsx(r,{message:"Action buttons"})}),e.jsx(Ne,{to:"primary-features",elementType:J,children:e.jsx(r,{message:"Primary features"})}),e.jsx(Ne,{to:"secondary-features",elementType:J,children:e.jsx(r,{message:"Secondary features"})})]}),e.jsx(Xl,{})]})}function Zl(){const s=os(t=>{var a,n;return(n=(a=t.defaults)==null?void 0:a.settings.homepage.appearance)==null?void 0:n.headerImage});return e.jsxs(e.Fragment,{children:[e.jsx(x,{label:e.jsx(r,{message:"Header title"}),className:"mb-20",name:"settings.homepage.appearance.headerTitle",onFocus:()=>{V().preview.setHighlight('[data-testid="headerTitle"]')}}),e.jsx(x,{label:e.jsx(r,{message:"Header subtitle"}),className:"mb-30",inputElementType:"textarea",rows:4,name:"settings.homepage.appearance.headerSubtitle",onFocus:()=>{V().preview.setHighlight('[data-testid="headerSubtitle"]')}}),e.jsx(as,{name:"settings.homepage.appearance.headerImage",className:"mb-30",label:e.jsx(r,{message:"Header image"}),defaultValue:s,diskPrefix:"homepage"}),e.jsx(fl,{name:"settings.homepage.appearance.headerImageOpacity",label:e.jsx(r,{message:"Header image opacity"}),minValue:0,step:.1,maxValue:1,formatOptions:{style:"percent"}}),e.jsx("div",{className:"text-muted text-xs mb-20",children:e.jsx(r,{message:"In order for overlay colors to appear, header image opacity will need to be less then 100%"})}),e.jsx(ra,{formKey:"settings.homepage.appearance.headerOverlayColor1",label:e.jsx(r,{message:"Header overlay color 1"})}),e.jsx(ra,{formKey:"settings.homepage.appearance.headerOverlayColor2",label:e.jsx(r,{message:"Header overlay color 2"})})]})}function Xl(){const s=os(t=>{var a,n;return(n=(a=t.defaults)==null?void 0:a.settings.homepage.appearance)==null?void 0:n.footerImage});return e.jsxs(d.Fragment,{children:[e.jsx(x,{label:e.jsx(r,{message:"Footer title"}),className:"mb-20",name:"settings.homepage.appearance.footerTitle",onFocus:()=>{V().preview.setHighlight('[data-testid="footerTitle"]')}}),e.jsx(x,{label:e.jsx(r,{message:"Footer subtitle"}),className:"mb-20",name:"settings.homepage.appearance.footerSubtitle",onFocus:()=>{V().preview.setHighlight('[data-testid="footerSubtitle"]')}}),e.jsx(as,{name:"settings.homepage.appearance.footerImage",className:"mb-30",label:e.jsx(r,{message:"Footer background image"}),defaultValue:s,diskPrefix:"homepage"})]})}function ra({label:s,formKey:t}){const a=t,{watch:n,setValue:i}=E(),l=n(a),o=c=>{i(t,c,{shouldDirty:!0})};return e.jsxs($,{type:"popover",onClose:c=>{o(c)},children:[e.jsx(Ne,{className:"capitalize",startIcon:e.jsx(Ha,{viewBox:"0 0 48 48",className:"icon-lg",style:{fill:l}}),children:s}),e.jsx(Vt,{defaultValue:l,onChange:c=>{o(c)}})]})}function zn(s){return s&&s.charAt(0).toUpperCase()+s.slice(1)}const eo=L.forwardRef(({valueListKey:s="permissions",...t},a)=>{const{data:n}=Ce([s]),i=(n==null?void 0:n.permissions)||(n==null?void 0:n.workspacePermissions),[l,o]=_s(t.value,[],t.onChange),[c,m]=d.useState(!1);if(!i)return null;const u=In(i,l,c),g=j=>{const b=[...l],S=b.findIndex(A=>A.id===j.id);S>-1&&b.splice(S,1,j),o(b)};return e.jsxs(d.Fragment,{children:[e.jsx(Ke,{variant:"outline",ref:a,children:u.map(({groupName:j,items:b,anyChecked:S})=>e.jsx(we,{label:e.jsx(r,{message:Ht(j)}),startIcon:S?e.jsx(vr,{size:"sm"}):void 0,children:e.jsx(ka,{children:b.map(A=>{const k=l.findIndex(z=>z.id===A.id),N=k>-1;return e.jsxs("div",{children:[e.jsx(Na,{onSelected:()=>{if(N){const z=[...l];z.splice(k,1),o(z)}else o([...l,A])},endSection:e.jsx(mt,{tabIndex:-1,checked:N,onChange:()=>{}}),description:e.jsx(r,{message:A.description}),children:e.jsx(r,{message:A.display_name||A.name})}),N&&e.jsx(so,{permission:A,onChange:g})]},A.id)})})},j))}),e.jsx(mt,{className:"mt-30",checked:c,onChange:j=>{m(j.target.checked)},children:e.jsx(r,{message:"Show advanced permissions"})})]})});function so({permission:s,onChange:t}){var n;if(!((n=s==null?void 0:s.restrictions)!=null&&n.length))return null;const a=(i,l)=>{const o=yr(s,c=>{const m=c.restrictions.find(u=>u.name===i);m&&(m.value=l)});t==null||t(o)};return e.jsx("div",{className:"px-40 py-20",children:s.restrictions.map((i,l)=>{const o=l===s.restrictions.length-1,c=e.jsx(r,{message:Ht(i.name)}),m=i.description?e.jsx(r,{message:i.description}):void 0;return i.type==="bool"?e.jsx(mt,{description:m,className:y(!o&&"mb-30"),checked:!!i.value,onChange:u=>{a(i.name,u.target.checked)},children:c},i.name):e.jsx(ss,{size:"sm",label:c,description:m,type:"number",className:y(!o&&"mb-30"),value:i.value||"",onChange:u=>{a(i.name,u.target.value===""?void 0:parseInt(u.target.value))}},i.name)})})}function Ot(s){const{field:{onChange:t,value:a=[],ref:n}}=ms({name:s.name}),i={onChange:t,value:a};return e.jsx(eo,{ref:n,...ts(i,s)})}const Ht=s=>zn(s.replace("_"," "));function In(s,t,a){const n=[];return s.forEach(i=>{const l=t.findIndex(c=>c.id===i.id);if(!a&&i.advanced)return;let o=n.find(c=>c.groupName===i.group);if(o||(o={groupName:i.group,anyChecked:!1,items:[]},n.push(o)),l>-1){const c={...i,restrictions:to(i.restrictions,t[l].restrictions)};o.anyChecked=!0,o.items.push(c)}else o.items.push(i)}),n}function to(s,t){return s==null?void 0:s.map(a=>{const n=t.find(i=>i.name===a.name);return n?{...a,value:n.value}:a})}function An(){const s=Ut.sections.menus.config;return s?s.availableRoutes.map(t=>({id:t,label:t,action:t,type:"route",target:"_self"})):[]}const it={grid:"flex flex-wrap gap-24",button:"flex flex-col items-center rounded hover:bg-hover h-90 aspect-square"},ao=[...Array(60).keys()],no=L.lazy(()=>Fs(()=>import("./icon-list-697a4009.js"),["./icon-list-697a4009.js","./main-97137759.js","./main-6a1f3eb0.css","./UnfoldMore-d3e3f3ab.js","./Edit-fdaf8b96.js","./Info-42a59bef.js","./OpenInNew-576449b5.js","./TaskAlt-218d9de1.js","./TrendingUp-95298f8a.js","./use-resume-subscription-d050c7a9.js"],import.meta.url));function ro({onIconSelected:s}){const{trans:t}=R(),[a,n]=L.useState("");return e.jsxs("div",{className:"py-4",children:[e.jsx(ss,{className:"mb-20",value:a,onChange:i=>{n(i.target.value)},placeholder:t({message:"Search icons..."})}),e.jsx(Ss,{mode:"wait",children:e.jsx(d.Suspense,{fallback:e.jsx(us.div,{...Us,className:it.grid,children:ao.map((i,l)=>e.jsx("div",{className:it.button,children:e.jsx(Hs,{variant:"rect"})},l))}),children:e.jsx(us.div,{...Us,className:it.grid,children:e.jsx(no,{searchQuery:a,onIconSelected:s})})})})]})}function io(){return e.jsxs(se,{size:"w-850",className:"min-h-dialog",children:[e.jsx(ne,{children:e.jsx(r,{message:"Select icon"})}),e.jsx(ae,{children:e.jsx(lo,{})})]})}function lo(){const{close:s}=Q();return e.jsx(ro,{onIconSelected:t=>{s(t)}})}function oo(s){const t=d.useRef();return d.useEffect(()=>{t.current=s},[s]),t.current}function cs({formPathPrefix:s,hideRoleAndPermissionFields:t}){const{trans:a}=R(),n=i=>s?`${s}.${i}`:i;return e.jsxs(d.Fragment,{children:[e.jsx(x,{className:"mb-20",name:n("label"),label:e.jsx(r,{message:"Label"}),placeholder:a(h("No label...")),startAppend:e.jsx(co,{prefixName:n})}),e.jsx(uo,{prefixName:n}),!t&&e.jsxs(d.Fragment,{children:[e.jsx(mo,{prefixName:n}),e.jsx(ho,{prefixName:n})]}),e.jsx(xo,{prefixName:n})]})}function co({prefixName:s,...t}){const{watch:a,setValue:n}=E(),i=s("icon"),l=a(i),o=l&&Ca(l);return e.jsxs($,{type:"modal",onClose:c=>{(c||c===null)&&n(i,c,{shouldDirty:!0})},children:[e.jsx(_,{className:"text-muted icon-sm",variant:"outline",size:"md",...t,children:o?e.jsx(o,{}):e.jsx(De,{})}),e.jsx(io,{})]})}function uo({prefixName:s}){const t=E(),a=t.watch(s("type")),n=oo(a),{data:i}=Ce(["menuItemCategories"]),l=(i==null?void 0:i.menuItemCategories)||[],o=l.find(u=>u.type===a),{trans:c}=R(),m=An();return d.useEffect(()=>{n&&n!==a&&t.setValue(s("action"),"")},[a,n,t,s]),e.jsxs(d.Fragment,{children:[e.jsxs(q,{className:"mb-20",name:s("type"),selectionMode:"single",label:e.jsx(r,{message:"Type"}),children:[e.jsx(p,{value:"link",children:e.jsx(r,{message:"Custom link"})}),e.jsx(p,{value:"route",children:e.jsx(r,{message:"Site page"})}),l.map(u=>e.jsx(p,{value:u.type,children:u.name},u.type))]}),a==="link"&&e.jsx(x,{className:"mb-20",required:!0,type:"url",name:s("action"),placeholder:c({message:"Enter a url..."}),label:e.jsx(r,{message:"Url"})}),a==="route"&&e.jsx(q,{className:"mb-20",required:!0,items:m,name:s("action"),label:e.jsx(r,{message:"Page"}),searchPlaceholder:c(h("Search pages")),showSearchField:!0,selectionMode:"single",children:u=>e.jsx(p,{value:u.id,children:u.label},u.id)}),o&&e.jsx(q,{className:"mb-20",required:!0,items:o.items,name:s("action"),showSearchField:!0,searchPlaceholder:c(h("Search...")),selectionMode:"single",label:e.jsx(r,{message:o.name}),children:u=>e.jsx(p,{value:u.action,children:e.jsx(r,{message:u.label})})})]})}function mo({prefixName:s}){const{data:t}=Ce(["roles","permissions"]),a=(t==null?void 0:t.roles)||[],{trans:n}=R();return e.jsx(Zs,{className:"mb-20",placeholder:n({message:"Add role..."}),label:e.jsx(r,{message:"Only show if user has role"}),name:s("roles"),chipSize:"sm",suggestions:a,valueKey:"id",displayWith:i=>{var l;return(l=a.find(o=>o.id===i.id))==null?void 0:l.name},children:i=>e.jsx(p,{value:i.id,capitalizeFirst:!0,children:e.jsx(r,{message:i.name})},i.id)})}function ho({prefixName:s}){const{data:t}=Ce(["roles","permissions"]),{trans:a}=R(),n=d.useMemo(()=>In((t==null?void 0:t.permissions)||[],[],!1),[t==null?void 0:t.permissions]);return e.jsx(Zs,{label:e.jsx(r,{message:"Only show if user has permissions"}),placeholder:a({message:"Add permission..."}),chipSize:"sm",suggestions:n,name:s("permissions"),valueKey:"name",children:({groupName:i,items:l})=>e.jsx(_a,{label:Ht(i),children:l.map(o=>e.jsx(p,{value:o.name,description:e.jsx(r,{message:o.description}),children:e.jsx(r,{message:o.display_name||o.name})},o.name))},i)})}function xo({prefixName:s}){return E().watch(s("type"))!=="link"?null:e.jsxs(q,{className:"mt-20",selectionMode:"single",name:s("target"),label:e.jsx(r,{message:"Open link in"}),children:[e.jsx(p,{value:"_self",children:e.jsx(r,{message:"Same window"})}),e.jsx(p,{value:"_blank",children:e.jsx(r,{message:"New window"})})]})}function go(){const[s,t]=d.useState(["cta1"]);return e.jsxs(Ke,{variant:"outline",expandedValues:s,onExpandedChange:a=>{t(a),a.length&&V().preview.setHighlight(`[data-testid="${a[0]}"]`)},children:[e.jsx(we,{value:"cta1",label:e.jsx(r,{message:"Header button 1"}),children:e.jsx(cs,{formPathPrefix:"settings.homepage.appearance.actions.cta1"})}),e.jsx(we,{value:"ct2",label:e.jsx(r,{message:"Header button 2"}),children:e.jsx(cs,{formPathPrefix:"settings.homepage.appearance.actions.cta2"})}),e.jsx(we,{value:"cta3",label:e.jsx(r,{message:"Footer button"}),children:e.jsx(cs,{formPathPrefix:"settings.homepage.appearance.actions.cta3"})})]})}function po(){const{fields:s,remove:t,append:a}=_e({name:"settings.homepage.appearance.primaryFeatures"}),[n,i]=d.useState([0]);return e.jsxs("div",{children:[e.jsx(Ke,{variant:"outline",expandedValues:n,onExpandedChange:l=>{i(l),l.length&&V().preview.setHighlight(`[data-testid="primary-root-${l[0]}"]`)},children:s.map((l,o)=>e.jsxs(we,{value:o,label:e.jsx(r,{message:`Primary feature ${o+1}`}),children:[e.jsx(jo,{index:o}),e.jsx("div",{className:"text-right",children:e.jsx(f,{size:"xs",variant:"outline",color:"danger",onClick:()=>{t(o)},children:e.jsx(r,{message:"Remove"})})})]},l.id))}),e.jsx("div",{className:"mt-20 text-right",children:e.jsx(f,{size:"xs",variant:"outline",color:"primary",startIcon:e.jsx(Se,{}),onClick:()=>{a({}),i([s.length])},children:e.jsx(r,{message:"Add feature"})})})]})}function jo({index:s}){const t=os(a=>{var n,i,l;return(l=(i=(n=a.defaults)==null?void 0:n.settings.homepage.appearance)==null?void 0:i.primaryFeatures[s])==null?void 0:l.image});return e.jsxs(e.Fragment,{children:[e.jsx(as,{name:`settings.homepage.appearance.primaryFeatures.${s}.image`,className:"mb-30",label:e.jsx(r,{message:"Image"}),defaultValue:t,diskPrefix:"homepage"}),e.jsx(x,{name:`settings.homepage.appearance.primaryFeatures.${s}.title`,label:e.jsx(r,{message:"Title"}),className:"mb-20",onFocus:()=>{V().preview.setHighlight(`[data-testid="primary-title-${s}"]`)}}),e.jsx(x,{name:`settings.homepage.appearance.primaryFeatures.${s}.subtitle`,label:e.jsx(r,{message:"Subtitle"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{V().preview.setHighlight(`[data-testid="primary-subtitle-${s}"]`)}})]})}function fo(){const{fields:s,remove:t,append:a}=_e({name:"settings.homepage.appearance.secondaryFeatures"}),[n,i]=d.useState([0]);return e.jsxs("div",{children:[e.jsx(Ke,{variant:"outline",expandedValues:n,onExpandedChange:l=>{i(l),l.length&&V().preview.setHighlight(`[data-testid="secondary-root-${l[0]}"]`)},children:s.map((l,o)=>e.jsxs(we,{value:o,label:e.jsx(r,{message:`Secondary feature ${o+1}`}),children:[e.jsx(bo,{index:o}),e.jsx("div",{className:"text-right",children:e.jsx(f,{size:"xs",variant:"outline",color:"danger",onClick:()=>{t(o)},children:e.jsx(r,{message:"Remove"})})})]},l.id))}),e.jsx("div",{className:"mt-20 text-right",children:e.jsx(f,{size:"xs",variant:"outline",color:"primary",startIcon:e.jsx(Se,{}),onClick:()=>{a({}),i([s.length])},children:e.jsx(r,{message:"Add feature"})})})]})}function bo({index:s}){return e.jsxs(e.Fragment,{children:[e.jsx(as,{name:`settings.homepage.appearance.secondaryFeatures.${s}.image`,className:"mb-30",label:e.jsx(r,{message:"Image"}),defaultValue:vo(s),diskPrefix:"homepage"}),e.jsx(x,{name:`settings.homepage.appearance.secondaryFeatures.${s}.title`,label:e.jsx(r,{message:"Title"}),className:"mb-20",onFocus:()=>{V().preview.setHighlight(`[data-testid="secondary-title-${s}"]`)}}),e.jsx(x,{name:`settings.homepage.appearance.secondaryFeatures.${s}.subtitle`,label:e.jsx(r,{message:"Subtitle"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{V().preview.setHighlight(`[data-testid="secondary-subtitle-${s}"]`)}}),e.jsx(x,{name:`settings.homepage.appearance.secondaryFeatures.${s}.description`,label:e.jsx(r,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{V().preview.setHighlight(`[data-testid="secondary-description-${s}"]`)}})]})}function vo(s){var t,a;return(a=((t=V().defaults)==null?void 0:t.settings.homepage.appearance).secondaryFeatures[s])==null?void 0:a.image}const En={preview:{defaultRoute:"drive",navigationRoutes:["s","drive"]},sections:{"landing-page":{label:h("Landing Page"),position:1,previewRoute:"/",routes:[{path:"landing-page",element:e.jsx(Jl,{})},{path:"landing-page/action-buttons",element:e.jsx(go,{})},{path:"landing-page/primary-features",element:e.jsx(po,{})},{path:"landing-page/secondary-features",element:e.jsx(fo,{})}],buildBreadcrumb:(s,t)=>{const n=s.split("/").filter(l=>!!l).pop(),i=[{label:h("Landing page"),location:"landing-page"}];return n==="action-buttons"&&i.push({label:h("Action buttons"),location:"landing-page/action-buttons"}),n==="primary-features"&&i.push({label:h("Primary features"),location:"landing-page/primary-features"}),n==="secondary-features"&&i.push({label:h("Secondary features"),location:"landing-page/secondary-features"}),i}},menus:{config:{positions:["drive-navbar","drive-sidebar","homepage-navbar","shareable-link-page","footer","footer-secondary"],availableRoutes:["/drive","/drive/shares","/drive/recent","/drive/starred","/drive/trash"]}},"seo-settings":{config:{pages:[{key:"landing-page",label:h("Landing page")},{key:"shareable-link-page",label:h("Shareable link page")}]}}}},Ut=wr.all([dl,En]),os=Sr()(ol(kr((s,t)=>({defaults:null,iframeWindow:null,config:Ut,setDefaults:a=>{s(n=>{n.defaults={...a}})},setIframeWindow:a=>{s(()=>({iframeWindow:a}))},preview:{navigate:a=>{var o;const n=(o=t().config)==null?void 0:o.sections[a],i=(n==null?void 0:n.previewRoute)||"/",l=t().iframeWindow;i&&bs(l,{type:"navigate",to:i})},setValues:a=>{const n=t().iframeWindow;bs(n,{type:"setValues",values:a})},setThemeColor:(a,n)=>{const i=t().iframeWindow;bs(i,{type:"setThemeColor",name:a,value:n})},setActiveTheme:a=>{const n=t().iframeWindow;bs(n,{type:"setActiveTheme",themeId:a})},setCustomCode:(a,n)=>{const i=t().iframeWindow;bs(i,{type:"setCustomCode",mode:a,value:n})},setHighlight:a=>{s(()=>{var l;let n=null;const i=(l=t().iframeWindow)==null?void 0:l.document;i&&a&&(n=i.querySelector(a)),n&&requestAnimationFrame(()=>{n&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})})}}}))));function bs(s,t){s&&s.postMessage({source:"be-appearance-editor",...t},"*")}function V(){return os.getState()}function yo(){return H(s=>wo(s),{onSuccess:async()=>{await D.invalidateQueries(["admin/appearance/values"]),U(h("Changes saved"))},onError:s=>le(s)})}function wo(s){return P.post("admin/appearance",{changes:s}).then(t=>t.data)}function So(){return Be(["admin/appearance/values"],()=>ko(),{staleTime:1/0})}function ko(){return P.get("admin/appearance/values").then(s=>s.data)}function No(){const{pathname:s}=_t(),{getValues:t}=E(),[a,n]=d.useState(null);return d.useEffect(()=>{var l;const[,,i]=s.split("/").filter(o=>!!o);if(i){const o=(l=V().config)==null?void 0:l.sections[i];if(o){n([{label:h("Appearance"),location:""},...o.buildBreadcrumb(s,t())]);return}}n(null)},[s,t]),!a||a.length<2?null:e.jsxs("div",{className:"flex items-center border-b h-60 flex-shrink-0",children:[e.jsx(_,{iconSize:"md",radius:"rounded-none",className:"text-muted h-full w-50 flex-shrink-0",elementType:J,to:`/admin/appearance/${a[a.length-2].location}`,children:e.jsx(Pt,{})}),e.jsxs("div",{className:"border-l p-10 min-w-0",children:[e.jsx("div",{className:"text-xs text-muted",children:e.jsx(r,{message:"Customizing"})}),e.jsx("div",{className:"flex items-center gap-4 text-sm mt-2",children:a.map((i,l)=>{const o=a.length-1===l,c=l===0,m=e.jsx(Nr,{value:i.label});return c?null:e.jsxs(d.Fragment,{children:[e.jsx("div",{className:y("whitespace-nowrap overflow-hidden overflow-ellipsis min-w-0",o&&"text-primary",o?"flex-shrink-0":"flex-auto"),children:m}),!o&&e.jsx(Js,{className:"icon-sm text-muted flex-shrink-0"})]},l)})})]})]})}function Co(){const{isAppearanceEditorActive:s}=Cr(),{data:t}=So(),{base_url:a}=ke(),n=d.useRef(null),{pathname:i}=_t();return d.useEffect(()=>{t!=null&&t.defaults&&!V().defaults&&V().setDefaults(t.defaults)},[t]),d.useEffect(()=>{n.current&&V().setIframeWindow(n.current.contentWindow)},[]),d.useEffect(()=>{const l=i.split("/")[3];V().preview.navigate(l)},[i]),s?e.jsx(Fa,{to:"/admin"}):e.jsxs("div",{className:"h-screen items-center md:flex",children:[e.jsx(Ks,{children:e.jsx(r,{message:"Appearance"})}),e.jsx(_o,{values:t==null?void 0:t.values}),e.jsx("div",{className:"relative h-full flex-auto",children:e.jsx("iframe",{ref:n,className:"h-full w-full max-md:hidden",src:`${a}?appearanceEditor=true`})})]})}function _o({values:s}){const t=e.jsx("div",{className:"flex h-full flex-auto items-center justify-center",children:e.jsx(Qs,{isIndeterminate:!0,"aria-label":"Loading editor"})});return e.jsx(d.Fragment,{children:e.jsx("div",{className:"relative z-10 h-full w-full border-r bg shadow-lg md:w-320",children:s?e.jsx(Fo,{defaultValues:s}):t})})}function Fo({defaultValues:s}){const t=G({defaultValues:s}),{watch:a,reset:n}=t,i=yo();return d.useEffect(()=>{const l=a(o=>{V().preview.setValues(o)});return()=>l.unsubscribe()},[a]),e.jsxs(de,{className:"flex h-full flex-col",form:t,onSubmit:l=>{i.mutate(l,{onSuccess:()=>n(l)})},children:[e.jsx(zo,{isLoading:i.isLoading}),e.jsx(No,{}),e.jsx("div",{className:"flex-auto overflow-y-auto px-14 py-20",children:e.jsx(zs,{children:e.jsx(yt,{})})})]})}function zo({isLoading:s}){const{formState:{dirtyFields:t}}=E(),a=Object.keys(t).length;return e.jsxs("div",{className:"flex h-50 flex-shrink-0 items-center border-b pr-10",children:[e.jsx(_,{border:"border-r",className:"text-muted",elementType:J,to:"..",children:e.jsx(qe,{})}),e.jsx("div",{className:"pl-10",children:e.jsx(r,{message:"Appearance editor"})}),e.jsx(f,{variant:"flat",color:"primary",className:"ml-auto block",disabled:!a||s,type:"submit",children:a?e.jsx(r,{message:"Save"}):e.jsx(r,{message:"Saved"})})]})}function Io(){const s=ns(),{trans:t}=R(),{fields:a,append:n}=_e({name:"settings.menus",keyName:"key"});return e.jsxs(d.Fragment,{children:[e.jsx("div",{children:a.map((i,l)=>e.jsx(Ne,{to:`${l}`,elementType:J,children:i.name},i.key))}),e.jsx("div",{className:"text-right",children:e.jsx(f,{variant:"outline",color:"primary",startIcon:e.jsx(Se,{}),size:"xs",onClick:()=>{const i=Ft(10);n({name:t(h("New menu :number",{values:{number:a.length+1}})),id:i,positions:[],items:[]}),s(`${a.length}`)},children:e.jsx(r,{message:"Create menu"})})})]})}function Pn({title:s=e.jsx(r,{message:"Add menu item"})}){const{data:t}=Ce(["menuItemCategories"]),a=(t==null?void 0:t.menuItemCategories)||[],n=An();return e.jsxs(se,{size:"sm",children:[e.jsx(ne,{children:s}),e.jsx(ae,{children:e.jsxs(Ke,{variant:"outline",children:[e.jsx(we,{label:e.jsx(r,{message:"Link"}),bodyClassName:"max-h-240 overflow-y-auto",children:e.jsx(Ao,{})}),e.jsx(we,{label:e.jsx(r,{message:"Route"}),bodyClassName:"max-h-240 overflow-y-auto",children:e.jsx(ia,{items:n})}),a.map(i=>e.jsx(we,{label:e.jsx(r,{message:i.name}),children:e.jsx(ia,{items:i.items})},i.name))]})})]})}function Ao(){const s=G({defaultValues:{id:Ft(6),type:"link",target:"_blank"}}),{close:t}=Q();return e.jsxs(de,{form:s,onSubmit:a=>{t(a)},children:[e.jsx(x,{required:!0,name:"label",label:e.jsx(r,{message:"Label"}),className:"mb-20"}),e.jsx(x,{required:!0,type:"url",name:"action",placeholder:"https://",label:e.jsx(r,{message:"Url"}),className:"mb-20"}),e.jsx("div",{className:"text-right",children:e.jsx(f,{type:"submit",variant:"flat",color:"primary",size:"xs",children:e.jsx(r,{message:"Add to menu"})})})]})}function ia({items:s}){const{close:t}=Q();return e.jsx(ka,{children:s.map(a=>e.jsx(Na,{startIcon:e.jsx(Se,{size:"sm"}),onSelected:()=>{if(a.label){const n=a.label.split("/").pop();a.label=n?zn(n):a.label,a.id=Ft(6)}t(a)},children:a.label},a.id))})}const Eo=T(e.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"DragIndicatorOutlined"),Po=""+new URL("dropdown-menu-c9b3bd6a.svg",import.meta.url).href;function $o(s,t,a){const n=Bs(t,0,s.length-1),i=Bs(a,0,s.length-1);if(n===i)return s;const l=s[n],o=i<n?-1:1;for(let c=n;c!==i;c+=o)s[c]=s[c+o];return s[i]=l,s}function To(s,t,a){const n=s.slice();return n.splice(a<0?n.length+a:a,0,n.splice(t,1)[0]),n}let v=null;function Lo({item:s,items:t,type:a,ref:n,onSortEnd:i,onSortStart:l,onDragEnd:o,preview:c,disabled:m,onDropPositionChange:u,previewVariant:g="liveSort"}){const j=d.useRef(null);d.useEffect(()=>{v&&v.sortables.length!==t.length&&(v.sortables=[...t],v.activeIndex=t.indexOf(s))},[t,s]);const{draggableProps:b,dragHandleRef:S}=xi({id:s,ref:n,type:a,preview:c,disabled:m,onDragStart:()=>{var k;j.current=null,v={sortables:[...t],activeSortable:s,activeIndex:t.indexOf(s),finalIndex:t.indexOf(s),dropPosition:null,scrollParent:n.current?_r(n.current):void 0,scrollListener:()=>{pi(Je)}},g==="liveSort"&&Do(),l==null||l(),(k=v.scrollParent)==null||k.addEventListener("scroll",v.scrollListener)},onDragEnd:()=>{var k;v&&(g==="liveSort"&&Ro(),v.dropPosition=null,u==null||u(v.dropPosition),v.activeIndex!==v.finalIndex&&(i==null||i(v.activeIndex,v.finalIndex)),(k=v.scrollParent)==null||k.removeEventListener("scroll",v.scrollListener),la(),o==null||o(),v=null)},getData:()=>{}}),{droppableProps:A}=gi({id:s,ref:n,types:[a],disabled:m,allowDragEventsFromItself:!0,onDragOver:(k,N)=>{var O;if(!v||g!=="line")return;const z=v.dropPosition;let C=null;const w=(O=Je.get(s))==null?void 0:O.rect;if(w){const I=w.top+w.height/2;N.clientY<=I?C="before":N.clientY>=I&&(C="after")}if(C!==z){const I=v.sortables.indexOf(s);if(v.dropPosition=C,u==null||u(v.dropPosition),la(),n.current)if(v.dropPosition==="after")lt(n.current,"bottom");else if(I===0)lt(n.current,"top");else{const Z=v.sortables[I-1],K=Je.get(Z);K!=null&&K.ref.current&&lt(K.ref.current,"bottom")}const B=t.indexOf(s);if(v.activeIndex===B){v.finalIndex=v.activeIndex;return}(I>v.activeIndex?"after":"before")==="after"?v.finalIndex=v.dropPosition==="before"?B-1:B:v.finalIndex=v.dropPosition==="after"?B+1:B}},onDragEnter:()=>{if(!v||g==="line")return;const k=v.sortables.indexOf(s),N=v.sortables.indexOf(v.activeSortable);$o(v.sortables,N,k);const z=v.sortables.map(C=>{var w;return(w=Je.get(C))==null?void 0:w.rect});v.sortables.forEach((C,w)=>{if(!v)return;const O=To(z,k,v.activeIndex),I=z[w],B=O[w],Y=Je.get(C);if(Y!=null&&Y.ref.current&&B&&I){const Z=B.left-I.left,K=B.top-I.top;Y.ref.current.style.transform=`translate3d(${Z}px, ${K}px, 0)`}}),v.finalIndex=k},onDragLeave:()=>{!v||g!=="line"||(v.dropPosition=null,u==null||u(v.dropPosition))}});return{sortableProps:{...ts(b,A)},dragHandleRef:S}}const Mo="transform 0.2s cubic-bezier(0.2, 0, 0, 1)";function Do(){v&&v.sortables.forEach((s,t)=>{const a=Je.get(s);a!=null&&a.ref.current&&(a.ref.current.style.transition=Mo,(v==null?void 0:v.activeIndex)===t&&(a.ref.current.style.opacity="0.4"))})}function Ro(){v&&v.sortables.forEach(s=>{const t=Je.get(s);t!=null&&t.ref.current&&(t.ref.current.style.transform="",t.ref.current.style.transition="",t.ref.current.style.opacity="",t.ref.current.style.zIndex="")})}function la(){v!=null&&v.linePreviewEl&&(v.linePreviewEl.style.borderBottomColor="",v.linePreviewEl.style.borderTopColor="",v.linePreviewEl=void 0)}function lt(s,t){const a="rgb(var(--be-primary))";t==="top"?s.style.borderTopColor=a:s.style.borderBottomColor=a,v&&(v.linePreviewEl=s)}function Vo(){const{menuIndex:s}=fe(),t=ns(),{getValues:a}=E(),n=`settings.menus.${s}`,i=a(n);return d.useEffect(()=>{i?V().preview.setHighlight(`[data-menu-id="${i.id}"]`):t("/admin/appearance/menus")},[t,i]),i?e.jsx(Oo,{formPath:n}):null}function Oo({formPath:s}){const{site:{has_mobile_app:t}}=ke(),a=os(l=>{var o;return(o=l.config)==null?void 0:o.sections.menus.config}),n=d.useMemo(()=>{const l=[...a==null?void 0:a.positions];return t&&l.push("mobile-app-about"),l.map(o=>({key:o,name:o.replaceAll("-"," ")}))},[a,t]),i=_e({name:`${s}.items`,keyName:"key"});return e.jsxs(d.Fragment,{children:[e.jsxs("div",{className:"mb-30 pb-30 border-b",children:[e.jsx(x,{name:`${s}.name`,label:e.jsx(r,{message:"Menu name"}),className:"mb-20",autoFocus:!0}),e.jsx(Zs,{chipSize:"sm",name:`${s}.positions`,valueKey:"id",label:e.jsx(r,{message:"Menu positions"}),description:e.jsx(r,{message:"Where should this menu appear on the site"}),children:n.map(l=>e.jsx(p,{value:l.key,capitalizeFirst:!0,children:l.name},l.key))})]}),e.jsx(Ho,{fieldArray:i}),e.jsx("div",{className:"text-right",children:e.jsx(Uo,{})})]})}function Ho({fieldArray:{append:s,fields:t,move:a}}){const n=ns();return e.jsxs(d.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-16 justify-between flex-shrink-0",children:[e.jsx(r,{message:"Menu items"}),e.jsxs($,{type:"popover",placement:"right",offset:20,onClose:i=>{i&&(s({...i}),n(`items/${t.length}`))},children:[e.jsx(f,{variant:"outline",color:"primary",size:"xs",startIcon:e.jsx(Se,{}),children:e.jsx(r,{message:"Add"})}),e.jsx(Pn,{})]})]}),e.jsxs("div",{className:"mt-20 flex-shrink-0",children:[t.map((i,l)=>e.jsx(Bo,{item:i,items:t,index:l,onSortEnd:(o,c)=>{a(o,c)}},i.key)),t.length?null:e.jsx(St,{size:"xs",className:"my-40",image:e.jsx(kt,{src:Po}),title:e.jsx(r,{message:"No menu items yet"}),description:e.jsx(r,{message:"Click “add“ button to start adding links, pages, routes and other items to this menu. "})})]})]})}function Uo(){const s=ns(),{menuIndex:t}=fe(),{fields:a,remove:n}=_e({name:"settings.menus",keyName:"key"});if(!t)return null;const i=a[+t];return e.jsxs($,{type:"modal",onClose:l=>{if(l){const o=a.findIndex(c=>c.id===i.id);n(o),s("/admin/appearance/menus")}},children:[e.jsx(f,{variant:"outline",color:"danger",size:"xs",startIcon:e.jsx(Xs,{}),children:e.jsx(r,{message:"Delete menu"})}),e.jsx($e,{isDanger:!0,title:e.jsx(r,{message:"Delete menu"}),body:e.jsx(r,{message:"Are you sure you want to delete “:name“?",values:{name:i.name}}),confirm:e.jsx(r,{message:"Delete"})})]})}function Bo({item:s,items:t,index:a,onSortEnd:n}){const i=d.useRef(null),{sortableProps:l,dragHandleRef:o}=Lo({item:s,items:t,type:"menuEditorSortable",ref:i,onSortEnd:n,previewVariant:"liveSort"}),c=s.icon&&Ca(s.icon),m=e.jsxs("div",{className:"text-muted flex items-center gap-4 text-xs",children:[c&&e.jsx(c,{size:"sm"}),"(",e.jsx(r,{message:"No label..."}),")"]});return e.jsx(d.Fragment,{children:e.jsx(Ne,{elementType:J,to:`items/${a}`,ref:i,...l,children:e.jsxs("div",{className:"flex items-center gap-10",children:[e.jsx(_,{ref:o,size:"sm",children:e.jsx(Eo,{className:"text-muted hover:cursor-move"})}),e.jsx("div",{children:s.label||m})]})})})}function qo(){const{menuIndex:s,menuItemIndex:t}=fe(),a=he(),{getValues:n}=E(),i=`settings.menus.${s}.items.${t}`,l=n(i);return d.useEffect(()=>{l&&V().preview.setHighlight(`[data-menu-item-id="${l.id}"]`)},[a,l]),!l||t==null?null:e.jsx(Wo,{formPath:i})}function Wo({formPath:s}){return e.jsxs(d.Fragment,{children:[e.jsx(cs,{formPathPrefix:s}),e.jsx("div",{className:"text-right mt-40",children:e.jsx(Go,{})})]})}function Go(){const s=he(),{menuIndex:t,menuItemIndex:a}=fe(),{fields:n,remove:i}=_e({name:`settings.menus.${+t}.items`});if(!a)return null;const l=n[+a];return e.jsxs($,{type:"modal",onClose:o=>{o&&a&&(i(+a),s(`/admin/appearance/menus/${t}`))},children:[e.jsx(f,{variant:"outline",color:"danger",size:"xs",startIcon:e.jsx(Xs,{}),children:e.jsx(r,{message:"Delete this item"})}),e.jsx($e,{isDanger:!0,title:e.jsx(r,{message:"Delete menu item"}),body:e.jsx(r,{message:"Are you sure you want to delete “:name“?",values:{name:l.label}}),confirm:e.jsx(r,{message:"Delete"})})]})}function Ko(){return e.jsxs(d.Fragment,{children:[e.jsx(vs,{label:e.jsx(r,{message:"Favicon"}),description:e.jsx(r,{message:"This will generate different size favicons. Image should be at least 512x512 in size."}),type:"favicon"}),e.jsx(vs,{label:e.jsx(r,{message:"Light logo"}),description:e.jsx(r,{message:"Will be used on dark backgrounds."}),type:"logo_light"}),e.jsx(vs,{label:e.jsx(r,{message:"Dark logo"}),description:e.jsx(r,{message:"Will be used on light backgrounds. Will default to light logo if left empty."}),type:"logo_dark"}),e.jsx(vs,{label:e.jsx(r,{message:"Mobile light logo"}),description:e.jsx(r,{message:"Will be used on light backgrounds on mobile. Will default to desktop logo if left empty."}),type:"logo_light_mobile"}),e.jsx(vs,{label:e.jsx(r,{message:"Mobile dark logo"}),description:e.jsx(r,{message:"Will be used on dark backgrounds on mobile. Will default to desktop if left empty."}),type:"logo_dark_mobile"}),e.jsx(Qo,{}),e.jsx(Yo,{})]})}function vs({label:s,description:t,type:a}){const n=os(i=>{var l;return(l=i.defaults)==null?void 0:l.settings.branding[a]});return e.jsx(as,{name:`settings.branding.${a}`,className:"border-b pb-30 mb-30",label:s,description:t,diskPrefix:"branding_media",defaultValue:n,onChange:()=>{V().preview.setHighlight('[data-logo="navbar"]')}})}function Qo(){return e.jsx(x,{name:"appearance.env.app_name",required:!0,className:"mt-20",label:e.jsx(r,{message:"Site name"})})}function Yo(){return e.jsx(x,{name:"settings.branding.site_description",className:"mt-20",inputElementType:"textarea",rows:4,label:e.jsx(r,{message:"Site description"})})}function Jo(s=1,t=1e4){const a=new Uint32Array(1);window.crypto.getRandomValues(a);const n=a[0]/(4294967295+1);return s=Math.ceil(s),t=Math.floor(t),Math.floor(n*(t-s+1))+s}function Zo(){const{trans:s}=R(),t=ns(),{data:{themes:a}}=za(),{fields:n,append:i}=_e({name:"appearance.themes.all",keyName:"key"});return d.useEffect(()=>{a.selectedThemeId&&V().preview.setActiveTheme(a.selectedThemeId)},[a.selectedThemeId]),e.jsxs(d.Fragment,{children:[e.jsx("div",{className:"mb-20",children:e.jsx(f,{size:"xs",variant:"outline",color:"primary",startIcon:e.jsx(Se,{}),onClick:()=>{var o;const l=(o=V().defaults)==null?void 0:o.appearance.themes.light;i({id:Jo(),name:s(h("New theme")),colors:l}),t(`${n.length+1}`)},children:e.jsx(r,{message:"New theme"})})}),n.map((l,o)=>e.jsx(Ne,{to:`${o}`,elementType:zt,children:l.name},l.key))]})}const Xo=L.lazy(()=>Fs(()=>import("./ace-editor-dfc45c9b.js"),["./ace-editor-dfc45c9b.js","./main-97137759.js","./main-6a1f3eb0.css","./index-8b12a391.js"],import.meta.url));function Bt({defaultValue:s,mode:t="html",title:a,onSave:n,isSaving:i,footerStartAction:l,beautify:o,editorRef:c}){const[m,u]=d.useState(s),[g,j]=d.useState(!0);return e.jsxs(se,{size:"fullscreen",className:"h-full w-full",children:[e.jsx(ne,{children:a}),e.jsx(ae,{className:"relative flex-auto",padding:"p-0",children:e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"flex h-400 w-full items-center justify-center",children:e.jsx(Qs,{"aria-label":"Loading editor...",isIndeterminate:!0,size:"md"})}),children:e.jsx(Xo,{beautify:o,mode:t,onChange:b=>u(b),defaultValue:m||"",onIsValidChange:j,editorRef:c})})}),e.jsx(ec,{disabled:!g||i,value:m,onSave:n,startAction:l})]})}function ec({disabled:s,value:t,onSave:a,startAction:n}){const{close:i}=Q();return e.jsxs(ue,{dividerTop:!0,startAction:n,children:[e.jsx(f,{onClick:()=>i(),children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{disabled:s,variant:"flat",color:"primary",onClick:()=>{a?a(t):i(t)},children:e.jsx(r,{message:"Save"})})]})}function $n(s){return Be(["admin","seo-tags",s],()=>sc(s))}function sc(s){return P.get(`admin/appearance/seo-tags/${s}`).then(t=>t.data)}function tc(s){const t=Ia();return H(a=>ac(s,a.tags),{onSuccess:async()=>{await t.invalidateQueries(["admin","seo-tags",s]),U(h("Updated SEO tags"))},onError:a=>le(a)})}function ac(s,t){return P.put(`admin/appearance/seo-tags/${s}`,{tags:t}).then(a=>a.data)}var xa;const Tn=((xa=Ut.sections["seo-settings"].config)==null?void 0:xa.pages)||[],Ln=Tn.map(s=>s.key);function nc(){const{isLoading:s}=$n(Ln);return s?e.jsx(We,{}):e.jsx(d.Fragment,{children:Tn.map(t=>e.jsx(rc,{label:t.label,name:t.key},t.key))})}function rc({label:s,name:t}){const{data:a,isLoading:n}=$n(Ln);return e.jsxs($,{type:"modal",children:[e.jsx(Ne,{disabled:n,children:e.jsx(r,{...s})}),a?e.jsx(ic,{name:t,value:a[t]}):null]})}function ic({name:s,value:t}){const{close:a}=Q(),n=tc(s),i=d.useRef(null),l=e.jsx(f,{variant:"outline",color:"primary",onClick:()=>{i.current&&i.current.editor.setValue(t.original)},children:e.jsx(r,{message:"Reset to original"})});return e.jsx(Bt,{mode:"php_laravel_blade",title:e.jsx(r,{message:"Edit SEO meta tags"}),footerStartAction:l,editorRef:i,defaultValue:t.custom||t.original,isSaving:n.isLoading,beautify:!1,onSave:o=>{o!=null&&n.mutate({tags:o},{onSuccess:()=>a()})}})}function lc(){return e.jsxs(d.Fragment,{children:[e.jsx(oa,{mode:"css"}),e.jsx(oa,{mode:"html"})]})}function oa({mode:s}){const{getValues:t}=E(),{setValue:a}=E(),n=s==="html"?e.jsx(r,{message:"Custom HTML & JavaScript"}):e.jsx(r,{message:"Custom CSS"});return e.jsxs($,{type:"modal",onClose:i=>{i!=null&&(a(`appearance.custom_code.${s}`,i,{shouldDirty:!0}),V().preview.setCustomCode(s,i))},children:[e.jsx(Ne,{children:n}),e.jsx(Bt,{title:n,defaultValue:t(`appearance.custom_code.${s}`)||"",mode:s})]})}const oc=""+new URL("articles-8bfd9f17.svg",import.meta.url).href,cc=s=>{const t=s.customPages.types.length>1?[{control:{type:ce.Select,defaultValue:"default",options:s.customPages.types.map(a=>({value:a.type,label:a.label,key:a.type}))},key:"type",label:h("Type"),description:h("Type of the page"),defaultOperator:re.eq}]:[];return[{key:"user_id",label:h("User"),description:h("User page was created by"),defaultOperator:re.eq,control:{type:ce.SelectModel,model:Tt}},...t,hs({description:h("Date page was created")}),xs({description:h("Date page was last updated")})]},dc=[{key:"slug",allowsSorting:!0,width:"flex-2 min-w-200",visibleInMode:"all",header:()=>e.jsx(r,{message:"Slug"}),body:s=>e.jsx(J,{target:"_blank",to:`/pages/${s.slug}`,className:It,children:s.slug})},{key:"user_id",allowsSorting:!0,width:"flex-2 min-w-140",header:()=>e.jsx(r,{message:"Owner"}),body:s=>s.user&&e.jsx(gs,{image:s.user.avatar,label:s.user.display_name,description:s.user.email})},{key:"type",maxWidth:"max-w-100",header:()=>e.jsx(r,{message:"Type"}),body:s=>e.jsx(r,{message:s.type})},{key:"updated_at",allowsSorting:!0,width:"w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(pe,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-84 flex-shrink-0",visibleInMode:"all",body:s=>e.jsx(_,{size:"md",className:"text-muted",elementType:J,to:`${s.id}/edit`,children:e.jsx(De,{})})}];function uc(){const s=d.useContext(Ge),t=d.useMemo(()=>cc(s),[s]);return e.jsx(Qe,{endpoint:"custom-pages",title:e.jsx(r,{message:"Custom pages"}),filters:t,columns:dc,queryParams:{with:"user"},actions:e.jsx(mc,{}),selectedActions:e.jsx(rs,{}),emptyStateMessage:e.jsx(Ee,{image:oc,title:e.jsx(r,{message:"No pages have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching pages"})})})}function mc(){return e.jsx(is,{elementType:J,to:"new",children:e.jsx(r,{message:"New page"})})}const hc=[{label:h("Drive"),to:"drive"}],Mn=[{label:h("General"),to:"general"},...hc,{label:h("Subscriptions"),to:"subscriptions"},{label:h("Localization"),to:"localization"},{label:h("Authentication"),to:"authentication"},{label:h("Uploading"),to:"uploading"},{label:h("Mail"),to:"mail"},{label:h("Cache"),to:"cache"},{label:h("Analytics"),to:"analytics"},{label:h("Logging"),to:"logging"},{label:h("Queue"),to:"queue"},{label:h("Recaptcha"),to:"recaptcha"},{label:h("GDPR"),to:"gdpr"},{label:h("Menus"),to:"/admin/appearance/menus"},{label:h("Seo"),to:"/admin/appearance/seo-settings"},{label:h("Themes"),to:"/admin/appearance/themes"}];function xc({className:s}){const t=Pe();return e.jsxs("div",{className:y(s,"md:flex gap-30 min-h-full items-start p-24 container mx-auto"),children:[e.jsx(Ks,{children:e.jsx(r,{message:"Settings"})}),t?e.jsx(gc,{}):e.jsx(pc,{}),e.jsx("div",{className:"md:px-30 flex-auto relative max-w-500",children:e.jsx(yt,{})})]})}function gc(){const{pathname:s}=_t(),t=ns(),a=s.split("/").pop();return e.jsx(Gs,{minWidth:"min-w-none",className:"w-full bg-paper mb-24",selectionMode:"single",selectedValue:a,onSelectionChange:n=>{t(n)},children:Mn.map(n=>e.jsx(p,{value:n.to,children:e.jsx(r,{...n.label})},n.to))})}function pc(){return e.jsx("div",{className:"w-240 sticky top-24 flex-shrink-0",children:Mn.map(s=>e.jsx(zt,{to:s.to,className:({isActive:t})=>y("block p-14 whitespace-nowrap mb-8 rounded border-l-4 text-sm transition-bg-color",t?"bg-primary/selected border-l-primary font-medium":"border-l-transparent hover:bg-hover"),children:e.jsx(r,{...s.label})},s.to))})}function Es(){return Be(["fetchAdminSettings"],()=>jc(),{staleTime:1/0})}function jc(){return P.get("settings").then(s=>s.data)}function fc(){return P.post("sitemap/generate").then(s=>s.data)}function bc(){return H(()=>fc(),{onSuccess:()=>{U(h("Sitemap generated"))},onError:s=>le(s)})}const ot=s=>s instanceof Date,vc=s=>Object.keys(s).length===0,pt=s=>s!=null&&typeof s=="object",ca=(s,...t)=>Object.prototype.hasOwnProperty.call(s,...t),ct=s=>pt(s)&&vc(s),yc=()=>Object.create(null),jt=(s,t)=>{if(s===t)return{};if(!pt(s)||!pt(t))return t;const a=Object.keys(s).reduce((n,i)=>(ca(t,i)||(n[i]=void 0),n),yc());return ot(s)||ot(t)?s.valueOf()==t.valueOf()?{}:t:Object.keys(t).reduce((n,i)=>{if(!ca(s,i))return n[i]=t[i],n;const l=jt(s[i],t[i]);return ct(l)&&!ot(l)&&(ct(s[i])||!ct(t[i]))||(n[i]=l),n},a)};function Dn(s){const{data:t}=Es();return H(a=>{var l,o,c,m,u,g;(o=(l=a.client)==null?void 0:l.cookie_notice)!=null&&o.button&&(a.client.cookie_notice.button=JSON.stringify(a.client.cookie_notice.button)),(m=(c=a.client)==null?void 0:c.registration)!=null&&m.policies&&(a.client.registration.policies=JSON.stringify(a.client.registration.policies)),(g=(u=a.client)==null?void 0:u.artistPage)!=null&&g.tabs&&(a.client.artistPage.tabs=JSON.stringify(a.client.artistPage.tabs));const n=a.client?jt(t.client,a.client):null,i=a.server?jt(t.server,a.server):null;return wc({client:n,server:i,files:a.files})},{onSuccess:()=>{U(h("Settings updated"),{position:"bottom-right"}),D.invalidateQueries(["fetchAdminSettings"])},onError:a=>je(a,s)})}function wc({client:s,server:t,files:a}){const n=new FormData;return s&&n.set("client",JSON.stringify(Jt.dot(s))),t&&n.set("server",JSON.stringify(Jt.dot(t))),Object.entries(a||{}).forEach(([i,l])=>{n.set(i,l)}),P.post("settings",n,{headers:{"Content-Type":"multipart/form-data"}}).then(i=>i.data)}function be({title:s,description:t,children:a}){const{data:n}=Es();return e.jsxs("section",{children:[e.jsxs("div",{className:"mb-40",children:[e.jsx("h2",{className:"text-xl mb-4",children:s}),e.jsx("div",{className:"text-sm text-muted",children:t})]}),n?e.jsx(Sc,{defaultValues:n,children:a}):e.jsx(Qs,{isIndeterminate:!0,"aria-label":"Loading settings..."})]})}function Sc({children:s,defaultValues:t}){const a=G({defaultValues:t}),n=Dn(a);return e.jsxs(d.Fragment,{children:[e.jsxs(de,{form:a,onBeforeSubmit:()=>{const i=a.formState.errors,l=Object.keys(i).filter(o=>o.endsWith("_group"));a.clearErrors(l)},onSubmit:i=>{n.mutate(i)},children:[s,e.jsx("div",{className:"mt-40",children:e.jsx(f,{type:"submit",variant:"flat",color:"primary",disabled:n.isLoading,children:e.jsx(r,{message:"Update"})})})]}),n.isLoading&&e.jsx(ba,{size:"xs",className:"absolute -bottom-14 left-30 w-full",isIndeterminate:!0,"aria-label":"Saving settings..."})]})}function Me(){return e.jsx("div",{className:"h-1 bg-divider my-30"})}function Ps({link:s,className:t}){const{site:a}=ke();return a.hide_docs_button?null:e.jsxs("div",{className:y("flex items-center gap-8",t),children:[e.jsx(Lt,{size:"sm"}),e.jsx(Ys,{href:s,children:e.jsx(r,{message:"Learn more"})})]})}function kc(){return e.jsxs(be,{title:e.jsx(r,{message:"General"}),description:e.jsx(r,{message:"Configure site url, homepage, theme and other general settings."}),children:[e.jsx(Nc,{}),e.jsx(Me,{}),e.jsx(Cc,{}),e.jsx(Me,{}),e.jsx(_c,{}),e.jsx(Me,{}),e.jsx(Fc,{})]})}function Nc(){const{data:s}=Es();if(!s)return null;let t=null;const a=s.server,n=a.newAppUrl&&a.newAppUrl!==a.app_url;return n&&(t=e.jsx("div",{className:"text-sm text-danger mt-20",children:e.jsx(r,{values:{baseUrl:a.app_url,currentUrl:a.newAppUrl,b:i=>e.jsx("b",{children:i})},message:"Base site url is set as <b>:baseUrl</b> in configuration, but current url is <b>:currentUrl</b>. It is recommended to set the primary url you want to use in configuration file and then redirect all other url versions to this primary version via cpanel or .htaccess file."})})),e.jsxs(d.Fragment,{children:[e.jsx(x,{invalid:!!n,name:"server.app_url",label:e.jsx(r,{message:"Primary site url"}),description:e.jsx(Ps,{link:"https://support.vebto.com/help-center/articles/35/primary-site-url"})}),t]})}function Cc(){var i,l;const{watch:s}=E(),{homepage:t}=d.useContext(Ge),{data:a}=Ce(["menuItemCategories"]),n=s("client.homepage.type");return e.jsxs("div",{children:[e.jsxs(q,{name:"client.homepage.type",selectionMode:"single",label:e.jsx(r,{message:"Site home page"}),description:e.jsx(r,{message:"Which page should be used as site homepage."}),children:[t.options.map(o=>e.jsx(p,{value:o.value,children:e.jsx(r,{...o.label})},o.value)),(i=a==null?void 0:a.menuItemCategories)==null?void 0:i.map(o=>e.jsx(p,{value:o.type,children:o.name},o.type))]}),(l=a==null?void 0:a.menuItemCategories)==null?void 0:l.map(o=>n===o.type?e.jsx(q,{className:"mt-24",name:"client.homepage.value",selectionMode:"single",label:e.jsx(r,{message:"Homepage :name",values:{name:o.name}}),children:o.items.map(c=>e.jsx(p,{value:c.model_id,children:c.label},c.label))},o.name):null)]})}function _c(){const{data:{themes:s}}=za();return e.jsxs(d.Fragment,{children:[e.jsxs(q,{className:"mb-20",name:"client.themes.default_id",selectionMode:"single",label:e.jsx(r,{message:"Default site theme"}),description:e.jsx(r,{message:"Which theme to use for users that have not chosen a theme manually."}),children:[e.jsx(p,{value:0,children:e.jsx(r,{message:"System"})}),s.all.map(t=>e.jsx(p,{value:t.id,children:t.name},t.id))]}),e.jsx(M,{name:"client.themes.user_change",description:e.jsx(r,{message:"Allow users to manually change site theme."}),children:e.jsx(r,{message:"Allow theme change"})})]})}function Fc(){const s=bc(),{base_url:t}=ke(),a=`${t}/storage/sitemaps/sitemap-index.xml`,n=e.jsx(Ys,{href:a,children:a});return e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"outline",size:"xs",color:"primary",disabled:s.isLoading,onClick:()=>{s.mutate()},children:e.jsx(r,{message:"Generate sitemap"})}),e.jsx("div",{className:"text-sm text-muted mt-14",children:e.jsx(r,{message:"Once generated, sitemap url will be: :url",values:{url:n}})})]})}function zc(s){return ls(s).toString("rgb").replace("rgb(","").replace(")","").replace(/, ?/g," ")}function Ic(s){try{return ls(`rgb(${s.split(" ").join(",")})`).toString("hex")}catch{return s}}const Ac=T(e.jsx("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"TuneOutlined");function Ec(){const{getValues:s,setValue:t}=E(),{themeIndex:a}=fe(),n=s(`appearance.themes.all.${+a}`);return e.jsxs($,{type:"modal",onClose:i=>{i&&s("appearance.themes.all").forEach((l,o)=>{if(l.id===i.id){t(`appearance.themes.all.${o}`,i,{shouldDirty:!0});return}if(i.default_light){t(`appearance.themes.all.${o}`,{...l,default_light:!1},{shouldDirty:!0});return}if(i.default_dark){t(`appearance.themes.all.${o}`,{...l,default_dark:!1},{shouldDirty:!0});return}})},children:[e.jsx(f,{size:"xs",variant:"outline",color:"primary",startIcon:e.jsx(Ac,{}),children:e.jsx(r,{message:"Settings"})}),e.jsx(Pc,{theme:n})]})}function Pc({theme:s}){const t=G({defaultValues:s}),{close:a,formId:n}=Q();return d.useEffect(()=>{const i=t.watch((l,{name:o})=>{o==="default_light"&&l.default_light&&t.setValue("default_dark",!1),o==="default_dark"&&l.default_dark&&t.setValue("default_light",!1)});return()=>i.unsubscribe()},[t]),e.jsxs(se,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Update settings"})}),e.jsx(ae,{children:e.jsxs(de,{form:t,id:n,onSubmit:i=>{a(i)},children:[e.jsx(x,{name:"name",label:e.jsx(r,{message:"Name"}),className:"mb-30",autoFocus:!0}),e.jsx(M,{name:"is_dark",className:"mb-20 pb-20 border-b",description:e.jsx(r,{message:"Whether this theme has light text on dark background."}),children:e.jsx(r,{message:"Dark theme"})}),e.jsx(M,{name:"default_light",className:"mb-30",description:e.jsx(r,{message:"When light mode is selected, this theme will be used."}),children:e.jsx(r,{message:"Default for light mode"})}),e.jsx(M,{name:"default_dark",description:e.jsx(r,{message:"When dark mode is selected, this theme will be used."}),children:e.jsx(r,{message:"Default for dark mode"})})]})}),e.jsxs(ue,{children:[e.jsx(f,{onClick:()=>{a()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{variant:"flat",color:"primary",type:"submit",form:n,disabled:!t.formState.isDirty,children:e.jsx(r,{message:"Save"})})]})]})}const $c=T(e.jsx("path",{d:"M6 13c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91zm14 0c0-4.42-3.58-8-8-8-.06 0-.12.01-.18.01l1.09-1.09L11.5 2.5 8 6l3.5 3.5 1.41-1.41-1.08-1.08c.06 0 .12-.01.17-.01 3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93z"}),"RestartAltOutlined");function Tc(){const s=he(),{themeIndex:t}=fe(),[a,n]=d.useState(!1),{setValue:i,getValues:l}=E(),{fields:o,remove:c}=_e({name:"appearance.themes.all"}),m=()=>{if(o.length<=1){U.danger(h("At least one theme is required"));return}t&&(s("/admin/appearance/themes"),c(+t),i("appearance.themes.selectedThemeId",null))};return e.jsxs(d.Fragment,{children:[e.jsxs(Is,{onItemSelected:u=>{if(u==="delete")n(!0);else if(u==="reset"){const g=`appearance.themes.all.${+t}`,j=l(`${g}.is_dark`)?V().defaults.appearance.themes.dark:V().defaults.appearance.themes.light;Object.entries(j).forEach(([b,S])=>{V().preview.setThemeColor(b,S)}),i(`${g}.colors`,j,{shouldDirty:!0})}},children:[e.jsx(_,{size:"md",className:"text-muted",children:e.jsx(Ta,{})}),e.jsxs(As,{children:[e.jsx(p,{value:"reset",startIcon:e.jsx($c,{}),children:e.jsx(r,{message:"Reset colors"})}),e.jsx(p,{value:"delete",startIcon:e.jsx(Xs,{}),children:e.jsx(r,{message:"Delete"})})]})]}),e.jsx($,{type:"modal",isOpen:a,onClose:u=>{u&&m(),n(!1)},children:e.jsx($e,{isDanger:!0,title:e.jsx(r,{message:"Delete theme"}),body:e.jsx(r,{message:"Are you sure you want to delete this theme?"}),confirm:e.jsx(r,{message:"Delete"})})})]})}function Lc(){const s=ns(),{themeIndex:t}=fe(),{getValues:a}=E(),n=a(`appearance.themes.all.${+t}`);return d.useEffect(()=>{n||s("/admin/appearance/themes")},[s,n]),d.useEffect(()=>{n!=null&&n.id&&V().preview.setActiveTheme(n.id)},[n==null?void 0:n.id]),n?e.jsxs(d.Fragment,{children:[e.jsxs("div",{className:"mb-20 flex items-center gap-10 justify-between",children:[e.jsx(Ec,{}),e.jsx(Tc,{})]}),e.jsx("div",{children:Object.entries(n.colors).filter(([i])=>!i.endsWith("opacity")).map(([i,l])=>e.jsx(Mc,{colorName:i,initialThemeValue:l,theme:n},i))})]}):null}function Mc({theme:s,colorName:t,initialThemeValue:a}){const{setValue:n}=E(),{themeIndex:i}=fe(),[l,o]=d.useState(a),c=u=>{o(u),V().preview.setThemeColor(t,u)};d.useEffect(()=>{o(a)},[a]);const m=Ic(a);return e.jsxs($,{currentValue:m,type:"popover",placement:"right",offset:10,onClose:u=>{u&&u!==m?(n(`appearance.themes.all.${+i}.colors.${t}`,l,{shouldDirty:!0}),n("appearance.themes.selectedThemeId",s.id)):c(a)},children:[e.jsx(Ne,{className:"capitalize",startIcon:e.jsx(Ha,{viewBox:"0 0 48 48",className:"icon-lg",style:{fill:`rgb(${l})`}}),children:t.replace("--be-","").replace("-"," ")}),e.jsx(Vt,{defaultValue:m,onChange:u=>{c(zc(u))}})]})}function Dc(){return e.jsxs(be,{title:e.jsx(r,{message:"Drive"}),description:e.jsx(r,{message:"Configure defaults for drive user dashboard."}),children:[e.jsxs(At,{required:!0,className:"mb-30",size:"md",name:"client.drive.default_view",orientation:"vertical",label:e.jsx(r,{message:"Default view mode"}),description:e.jsx(r,{message:"Which view mode should user drive use by default."}),children:[e.jsx(Xe,{value:"list",children:e.jsx(r,{message:"List"})}),e.jsx(Xe,{value:"grid",children:e.jsx(r,{message:"Grid"})})]}),e.jsx(M,{className:"mb-30",name:"client.drive.send_share_notification",description:e.jsx(r,{message:"Send a notification to user when a file or folder is shared with them."}),children:e.jsx(r,{message:"Share notifications"})}),e.jsx(M,{name:"client.share.suggest_emails",description:e.jsx(r,{message:"Suggest email address of existing users when sharing a file or folder."}),children:e.jsx(r,{message:"Suggest emails"})})]})}const Rc=[{path:"drive",element:e.jsx(Dc,{})}];function xe({children:s,name:t,separatorBottom:a=!0,separatorTop:n=!0}){const{formState:{errors:i}}=E(),l=d.useRef(null),o=i[t];return d.useEffect(()=>{var c;o&&((c=l.current)==null||c.scrollIntoView({behavior:"smooth"}))},[o]),e.jsxs("div",{className:y(a&&"border-b mb-20 pb-20",n&&"border-t mt-20 pt-20",o&&"border-y-error"),ref:l,children:[s(!!o),o&&e.jsx("div",{className:"text-danger text-sm mt-20",dangerouslySetInnerHTML:{__html:o.message}})]})}function ft({children:s,...t}){const{field:{onChange:a,onBlur:n,value:i=[],ref:l},fieldState:{invalid:o,error:c}}=ms({name:t.name}),m=d.useMemo(()=>{const g=i;return typeof g=="string"?JSON.parse(g):g},[i]),u={onChange:g=>{const j=JSON.stringify(g.map(b=>b.name));a(j)},onBlur:n,value:m,invalid:o,errorMessage:c==null?void 0:c.message};return e.jsx(ji,{ref:l,...ts(u,t)})}const $s=L.createContext(null);function Rn(s){const{size:t="md",children:a,className:n,isLazy:i,overflow:l="overflow-hidden"}=s,o=d.useRef([]),c=d.useId(),[m,u]=_s(s.selectedTab,s.defaultSelectedTab||0,s.onTabChange),g=d.useMemo(()=>({selectedTab:m,setSelectedTab:u,tabsRef:o,size:t,isLazy:i,id:c}),[m,c,i,u,t]);return e.jsx($s.Provider,{value:g,children:e.jsx("div",{className:y(n,l,"max-w-full"),children:a})})}function Vc(){const{tabsRef:s,selectedTab:t}=d.useContext($s),[a,n]=d.useState({width:void 0,transform:void 0,className:void 0});return Aa(()=>{if(t!=null&&s.current){const i=s.current[t];if(!i)return;n(l=>({width:`${i.offsetWidth}px`,transform:`translateX(${i.offsetLeft}px)`,className:l.width===void 0?"":"transition-all"}))}},[n,t,s]),e.jsx("div",{className:y("absolute bottom-0 left-0 h-2 bg-primary",a.className),role:"presentation",style:{width:a.width,transform:a.transform}})}function Vn({children:s,center:t,expand:a,className:n}){const i=d.Children.toArray(s);return e.jsx(pa,{children:e.jsxs("div",{className:y("flex relative max-w-full overflow-auto border-b max-sm:hidden-scrollbar md:compact-scrollbar",n),role:"tablist","aria-orientation":"horizontal",children:[i.map((l,o)=>d.isValidElement(l)?d.cloneElement(l,{index:o,className:y(l.props.className,a&&"flex-auto",t&&o===0&&"ml-auto",t&&o===i.length-1&&"mr-auto")}):null),e.jsx(Vc,{})]})})}function qs({index:s,className:t,isDisabled:a,children:n,padding:i,elementType:l="button",to:o,relative:c,width:m="min-w-min"}){const{selectedTab:u,setSelectedTab:g,tabsRef:j,size:b="md",id:S}=d.useContext($s),A=s===u,k=ja(),N=i||(b==="sm"?"px-12":"px-18"),z=y("tracking-wide overflow-hidden capitalize text-sm flex items-center justify-center outline-none transition-colors","focus-visible:ring focus-visible:ring-2 ring-inset rounded whitespace-nowrap cursor-pointer",m,Oc({isDisabled:a,isSelected:A}),t,b==="md"&&`${N} h-48`,b==="sm"&&`${N} h-32`,a&&"pointer-events-none"),C=I=>{switch(I.key){case"ArrowLeft":k.focusPrevious();break;case"ArrowRight":k.focusNext();break;case"Home":k.focusFirst();break;case"End":k.focusLast();break}},w=A?0:-1,O=l;return e.jsx(O,{disabled:a,id:`${S}-${s}-tab`,"aria-controls":`${S}-${s}-tabpanel`,type:"button",role:"tab","aria-selected":A,tabIndex:a?void 0:w,onKeyDown:C,onClick:()=>{g(s)},to:o,relative:c,className:z,ref:I=>{j.current&&I&&(j.current[s]=I)},children:n})}function Oc({isDisabled:s,isSelected:t}){return s?"text-disabled cursor-default":t?"text-primary":"text-muted hover:text-main"}function On({children:s,className:t}){const{selectedTab:a,isLazy:n}=d.useContext($s),i=d.Children.toArray(s).filter(o=>!!o);let l;if(n){const o=i[a];l=d.isValidElement(o)?d.cloneElement(i[a],{index:a}):null}else l=i.map((o,c)=>{if(d.isValidElement(o)){const m=c===a;return d.cloneElement(o,{index:c,"aria-hidden":!m,className:m?o.props.className:y(o.props.className,"hidden")})}return null});return e.jsx("div",{className:t,children:l})}function Ws({className:s,children:t,index:a,...n}){const{id:i}=d.useContext($s),[l,o]=d.useState(0),c=d.useRef(null);return Aa(()=>{if(c!=null&&c.current){const m=()=>{const g=Fr(c.current,{tabbable:!0});o(g.nextNode()?void 0:0)};m();const u=new MutationObserver(m);return u.observe(c.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{u.disconnect()}}},[c]),e.jsx("div",{tabIndex:l,ref:c,id:`${i}-${a}-tabpanel`,"aria-labelledby":`${i}-${a}-tab`,className:y(s,"focus-visible:outline-primary-light"),role:"tabpanel",...n,children:t})}function Hc(){const{trans:s}=R();return e.jsx(be,{title:e.jsx(r,{message:"Subscriptions"}),description:e.jsx(r,{message:"Configure gateway integration, accepted cards, invoices and other related settings."}),children:e.jsxs(Rn,{children:[e.jsxs(Vn,{children:[e.jsx(qs,{children:e.jsx(r,{message:"General"})}),e.jsx(qs,{children:e.jsx(r,{message:"Invoices"})})]}),e.jsxs(On,{className:"pt-30",children:[e.jsxs(Ws,{children:[e.jsx(M,{name:"client.billing.enable",description:e.jsx(r,{message:"Enable or disable all subscription related functionality across the site."}),children:e.jsx(r,{message:"Enable subscriptions"})}),e.jsx(Me,{}),e.jsx(Uc,{}),e.jsx(Bc,{}),e.jsx(Me,{}),e.jsx(ft,{label:e.jsx(r,{message:"Accepted cards"}),name:"client.billing.accepted_cards",placeholder:s({message:"Add new card..."})})]}),e.jsxs(Ws,{children:[e.jsx(x,{inputElementType:"textarea",rows:5,label:e.jsx(r,{message:"Invoice address"}),name:"client.billing.invoice.address",className:"mb-30"}),e.jsx(x,{inputElementType:"textarea",rows:5,label:e.jsx(r,{message:"Invoice notes"}),description:e.jsx(r,{message:"Default notes to show under `notes` section of user invoice. Optional."}),name:"client.billing.invoice.notes"})]})]})]})})}function Uc(){const{watch:s}=E(),t=s("client.billing.paypal.enable");return e.jsxs("div",{className:"mb-30",children:[e.jsx(M,{name:"client.billing.paypal.enable",description:e.jsxs("div",{children:[e.jsx(r,{message:"Enable PayPal payment gateway integration."}),e.jsx(Ps,{className:"mt-6",link:"https://support.vebto.com/help-center/articles/147/configuring-paypal"})]}),children:e.jsx(r,{message:"PayPal gateway"})}),t?e.jsx(xe,{name:"paypal_group",children:a=>e.jsxs(d.Fragment,{children:[e.jsx(x,{name:"server.paypal_client_id",label:e.jsx(r,{message:"PayPal Client ID"}),required:!0,invalid:a,className:"mb-20"}),e.jsx(x,{name:"server.paypal_secret",label:e.jsx(r,{message:"PayPal Secret"}),required:!0,invalid:a,className:"mb-20"}),e.jsx(x,{name:"server.paypal_webhook_id",label:e.jsx(r,{message:"PayPal Webhook ID"}),required:!0,invalid:a,className:"mb-20"}),e.jsx(M,{name:"client.billing.paypal_test_mode",invalid:a,description:e.jsx("div",{children:e.jsx(r,{message:"Allows testing PayPal payments with sandbox accounts."})}),children:e.jsx(r,{message:"PayPal test mode"})})]})}):null]})}function Bc(){const{watch:s}=E(),t=s("client.billing.stripe.enable");return e.jsxs(d.Fragment,{children:[e.jsx(M,{name:"client.billing.stripe.enable",description:e.jsxs("div",{children:[e.jsx(r,{message:"Enable Stripe payment gateway integration."}),e.jsx(Ps,{className:"mt-6",link:"https://support.vebto.com/help-center/articles/148/configuring-stripe"})]}),children:e.jsx(r,{message:"Stripe gateway"})}),t?e.jsx(xe,{name:"stripe_group",separatorBottom:!1,children:a=>e.jsxs(d.Fragment,{children:[e.jsx(x,{name:"server.stripe_key",label:e.jsx(r,{message:"Stripe publishable key"}),required:!0,className:"mb-20",invalid:a}),e.jsx(x,{name:"server.stripe_secret",label:e.jsx(r,{message:"Stripe secret key"}),required:!0,className:"mb-20",invalid:a}),e.jsx(x,{name:"server.stripe_webhook_secret",label:e.jsx(r,{message:"Stripe webhook signing secret"}),className:"mb-20",invalid:a})]})}):null]})}function qc(){const{data:s}=Ce(["timezones","localizations"]),t=fi(),{trans:a}=R();return e.jsxs(be,{title:e.jsx(r,{message:"Localization"}),description:e.jsx(r,{message:"Configure global date, time and language settings."}),children:[e.jsxs(q,{className:"mb-30",required:!0,name:"client.dates.default_timezone",showSearchField:!0,selectionMode:"single",label:e.jsx(r,{message:"Default timezone"}),searchPlaceholder:a(h("Search timezones")),description:e.jsx(r,{message:"Which timezone should be selected by default for new users and guests."}),children:[e.jsx(p,{value:"auto",children:e.jsx(r,{message:"Auto"})},"auto"),Object.entries((s==null?void 0:s.timezones)||{}).map(([n,i])=>e.jsx(_a,{label:n,children:i.map(l=>e.jsx(p,{value:l.value,children:l.text},l.value))},n))]}),e.jsxs(q,{name:"client.locale.default",className:"mb-30",selectionMode:"single",label:e.jsx(r,{message:"Default language"}),description:e.jsx(r,{message:"Which localization should be selected by default for new users and guests."}),children:[e.jsx(p,{value:"auto",children:e.jsx(r,{message:"Auto"})},"auto"),((s==null?void 0:s.localizations)||[]).map(n=>e.jsx(p,{value:n.language,capitalizeFirst:!0,children:n.name},n.language))]}),e.jsxs(At,{required:!0,className:"mb-30",size:"sm",name:"client.dates.format",orientation:"vertical",label:e.jsx(r,{message:"Date verbosity"}),description:e.jsx(r,{message:"Default verbosity for all dates displayed across the site. Month/day order and separators will be adjusted automatically, based on user's locale."}),children:[e.jsx(Xe,{value:"auto",children:e.jsx(r,{message:"Auto"})},"auto"),Object.entries(zr).map(([n,i])=>e.jsx(Xe,{value:n,children:e.jsx(pe,{date:t,options:i})},n))]}),e.jsx(M,{name:"client.i18n.enable",description:e.jsx(r,{message:"If disabled, site will always be shown in default language and user will not be able to change their locale."}),children:e.jsx(r,{message:"Enable translations"})})]})}function Wc(){return e.jsxs(be,{title:e.jsx(r,{message:"Authentication"}),description:e.jsx(r,{message:"Configure registration, social login and related 3rd party integrations."}),children:[e.jsx(Gc,{}),e.jsx(M,{className:"mb-24",name:"client.registration.disable",description:e.jsx(r,{message:"All registration related functionality (including social login) will be disabled."}),children:e.jsx(r,{message:"Disable registration"})}),e.jsx(M,{className:"mb-24",name:"client.single_device_login",description:e.jsx(r,{message:"Only allow one device to be logged into user account at the same time."}),children:e.jsx(r,{message:"Single device login"})}),e.jsx(M,{name:"client.social.compact_buttons",description:e.jsx(r,{message:"Use compact design for social login buttons."}),children:e.jsx(r,{message:"Compact buttons"})}),e.jsx(Kc,{}),e.jsx(Qc,{}),e.jsx(Yc,{}),e.jsx(Jc,{}),e.jsx(Me,{}),e.jsx(x,{inputElementType:"textarea",rows:3,className:"mt-24",name:"client.auth.domain_blacklist",label:e.jsx(r,{message:"Domain blacklist"}),description:e.jsx(r,{message:"Comma separated list of domains. Users will not be able to register or login using any email adress from specified domains."})})]})}function Gc(){const{watch:s}=E(),t=s("server.mail_setup");return e.jsx(M,{className:"mb-30",name:"client.require_email_confirmation",description:e.jsxs(d.Fragment,{children:[e.jsx(r,{message:"Require newly registered users to validate their email address before being able to login."}),!t&&e.jsx("p",{className:"mt-10 text-danger",children:e.jsx(r,{message:"Outgoing mail method needs to be setup before enabling this setting. <a>Fix now</a>",values:{a:a=>e.jsx(J,{className:"font-bold block underline",to:"/admin/settings/mail#outgoing-emails",children:a})}})})]}),children:e.jsx(r,{message:"Require email confirmation"})})}function Kc(){const{watch:s}=E(),{envato:t}=ke(),a=s("client.social.envato.enable");return t!=null&&t.enable?e.jsx(xe,{separatorBottom:!1,name:"envato_group",children:n=>e.jsxs(e.Fragment,{children:[e.jsx(M,{invalid:n,name:"client.social.envato.enable",description:e.jsx(r,{message:"Enable logging into the site via envato."}),children:e.jsx(r,{message:"Envato login"})}),a&&e.jsxs(e.Fragment,{children:[e.jsx(x,{invalid:n,className:"mt-30",name:"server.envato_id",label:e.jsx(r,{message:"Envato ID"}),required:!0}),e.jsx(x,{invalid:n,className:"mt-30",name:"server.envato_secret",label:e.jsx(r,{message:"Envato secret"}),required:!0}),e.jsx(x,{invalid:n,className:"mt-30",name:"server.envato_personal_token",label:e.jsx(r,{message:"Envato personal token"}),required:!0})]})]})}):null}function Qc(){const{watch:s}=E(),t=s("client.social.google.enable");return e.jsx(xe,{name:"google_group",children:a=>e.jsxs(e.Fragment,{children:[e.jsx(M,{invalid:a,name:"client.social.google.enable",description:e.jsx(r,{message:"Enable logging into the site via google."}),children:e.jsx(r,{message:"Google login"})}),t&&e.jsxs(e.Fragment,{children:[e.jsx(x,{invalid:a,className:"mt-30",name:"server.google_id",label:e.jsx(r,{message:"Google client ID"}),required:!0}),e.jsx(x,{className:"mt-30",name:"server.google_secret",label:e.jsx(r,{message:"Google client secret"}),required:!0})]})]})})}function Yc(){const{watch:s}=E(),t=s("client.social.facebook.enable");return e.jsx(xe,{name:"facebook_group",separatorTop:!1,children:a=>e.jsxs(e.Fragment,{children:[e.jsx(M,{invalid:a,name:"client.social.facebook.enable",description:e.jsx(r,{message:"Enable logging into the site via facebook."}),children:e.jsx(r,{message:"Facebook login"})}),t&&e.jsxs(e.Fragment,{children:[e.jsx(x,{invalid:a,className:"mt-30",name:"server.facebook_id",label:e.jsx(r,{message:"Facebook app ID"}),required:!0}),e.jsx(x,{invalid:a,className:"mt-30",name:"server.facebook_secret",label:e.jsx(r,{message:"Facebook app secret"}),required:!0})]})]})})}function Jc(){const{watch:s}=E(),t=s("client.social.twitter.enable");return e.jsx(xe,{name:"twitter_group",separatorTop:!1,separatorBottom:!1,children:a=>e.jsxs(e.Fragment,{children:[e.jsx(M,{invalid:a,name:"client.social.twitter.enable",description:e.jsx(r,{message:"Enable logging into the site via twitter."}),children:e.jsx(r,{message:"Twitter login"})}),t&&e.jsxs(e.Fragment,{children:[e.jsx(x,{invalid:a,className:"mt-30",name:"server.twitter_id",label:e.jsx(r,{message:"Twitter ID"}),required:!0}),e.jsx(x,{invalid:a,className:"mt-30",name:"server.twitter_secret",label:e.jsx(r,{message:"Twitter secret"}),required:!0})]})]})})}function es({title:s,description:t,actions:a,color:n="primary",className:i}){return e.jsxs("div",{className:y(i,"p-10 rounded",n==="positive"&&"bg-positive/focus border-l-positive border-l-4",n==="warning"&&"bg-warning/focus border-l-warning border-l-4",n==="danger"&&"bg-danger/focus border-l-danger border-l-4",n==="primary"&&"bg-primary/focus border-l-primary border-l-4",n==="neutral"&&"bg-paper border"),children:[s&&e.jsx("div",{className:"text-sm mb-4 font-medium",children:s}),t&&e.jsx("div",{className:"text-sm",children:t}),a&&e.jsx("div",{className:"mt-14",children:a})]})}function Zc(){return P.get("uploads/server-max-file-size").then(s=>s.data)}function Xc(){return Be(["MaxServerUploadSize"],()=>Zc())}const ed=["B","KB","MB","GB","TB","PB"];function da(s,t){if(s==null)return 0;switch(t){case"KB":return s*1024;case"MB":return s*1024**2;case"GB":return s*1024**3;case"TB":return s*1024**4;case"PB":return s*1024**5;default:return s}}const sd=0x630000000000,ws=L.forwardRef(({name:s,...t},a)=>{const{field:{onChange:n,onBlur:i,value:l="",ref:o},fieldState:{invalid:c,error:m}}=ms({name:s}),[u,g]=d.useState(""),[j,b]=d.useState("MB");d.useEffect(()=>{if(l==null||l===""){g("");return}const{amount:k,unit:N}=td({bytes:Math.min(l,sd)});b(N||"MB"),g(Number.isNaN(k)?"":k)},[l,j]);const S={onChange:k=>{const N=parseInt(k.target.value);if(Number.isNaN(N))n(N);else{const z=da(parseInt(k.target.value),j);n(z)}},onBlur:i,value:u,invalid:c,errorMessage:m==null?void 0:m.message,inputRef:o},A=e.jsx(Gs,{minWidth:"min-w-80",selectionMode:"single",selectedValue:j,disabled:!l,onSelectionChange:k=>{const N=da(u||0,k);n(N)},children:ed.slice(0,5).map(k=>e.jsx(p,{value:k,children:k==="B"?"Bytes":k},k))});return e.jsx(ss,{...ts(S,t),type:"number",ref:a,endAppend:A})}),td=Ir(({bytes:s})=>{const t=Ea(s);if(!t)return{amount:"",unit:"MB"};let a=parseInt(t.split(" ")[0]);return a=Math.round(a),{amount:a,unit:t.split(" ")[1]}});function ad(){const{trans:s}=R();return H(()=>nd(),{onSuccess:()=>{U(s(h("CORS file updated"))),D.invalidateQueries(["Query Key"])},onError:t=>le(t)})}function nd(){return P.post("s3/cors/upload").then(s=>s.data)}function rd(){return H(s=>id(s),{onError:s=>le(s)})}function id(s){return P.post("settings/uploading/dropbox-refresh-token",s).then(t=>t.data)}function ld({isInvalid:s}){const{watch:t,setValue:a}=E(),n=t("server.storage_dropbox_app_key"),i=t("server.storage_dropbox_app_secret");return e.jsxs(d.Fragment,{children:[e.jsx(x,{invalid:s,className:"mb-20",name:"server.storage_dropbox_app_key",label:e.jsx(r,{message:"Dropbox application key"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-20",name:"server.storage_dropbox_app_secret",label:e.jsx(r,{message:"Dropbox application secret"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-20",name:"server.storage_dropbox_refresh_token",label:e.jsx(r,{message:"Dropbox refresh token"}),required:!0}),e.jsxs($,{type:"modal",onClose:l=>{l&&a("server.storage_dropbox_refresh_token",l)},children:[e.jsx(f,{variant:"outline",color:"primary",size:"xs",disabled:!n||!i,children:e.jsx(r,{message:"Get dropbox refresh token"})}),e.jsx(od,{appKey:n,appSecret:i})]})]})}function od({appKey:s,appSecret:t}){const a=G(),{formId:n,close:i}=Q(),l=rd();return e.jsxs(se,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Connected dropbox account"})}),e.jsx(ae,{children:e.jsxs(de,{id:n,form:a,onSubmit:o=>{l.mutate({app_key:s,app_secret:t,access_code:o.accessCode},{onSuccess:c=>{i(c.refreshToken)}})},children:[e.jsxs("div",{className:"mb-20 pb-20 border-b",children:[e.jsx("div",{className:"text-muted text-sm mb-10",children:e.jsx(r,{message:"Click the 'get access code' button to get dropbox access code, then paste it into the field below."})}),e.jsx(f,{variant:"outline",color:"primary",size:"xs",elementType:"a",target:"_blank",href:`https://www.dropbox.com/oauth2/authorize?client_id=${s}&token_access_type=offline&response_type=code`,children:e.jsx(r,{message:"Get access code"})})]}),e.jsx(x,{name:"accessCode",label:e.jsx(r,{message:"Dropbox access code"}),required:!0})]})}),e.jsxs(ue,{children:[e.jsx(f,{onClick:()=>{i()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{variant:"flat",color:"primary",form:n,type:"submit",disabled:!s||!t||l.isLoading,children:e.jsx(r,{message:"Connect"})})]})]})}function cd(){const{trans:s}=R();return e.jsxs(be,{title:e.jsx(r,{message:"Uploading"}),description:e.jsx(r,{message:"Configure size and type of files that users are able to upload. This will affect all uploads across the site."}),children:[e.jsx(ud,{}),e.jsx(md,{}),e.jsx(hd,{}),e.jsx(xe,{name:"static_delivery_group",children:t=>e.jsxs(At,{invalid:t,size:"sm",name:"server.static_file_delivery",orientation:"vertical",label:e.jsx(r,{message:"File delivery optimization"}),description:e.jsx(r,{message:"Both X-Sendfile and X-Accel need to be enabled on the server first. When enabled, it will reduce server memory and CPU usage when previewing or downloading files, especially for large files."}),children:[e.jsx(Xe,{value:"",children:e.jsx(r,{message:"None"})}),e.jsx(Xe,{value:"xsendfile",children:e.jsx(r,{message:"X-Sendfile (Apache)"})}),e.jsx(Xe,{value:"xaccel",children:e.jsx(r,{message:"X-Accel (Nginx)"})})]})}),e.jsx(ws,{className:"mb-30",name:"client.uploads.chunk_size",min:1,label:e.jsx(r,{message:"Chunk size"}),placeholder:"Infinity",description:e.jsx(r,{message:"Size (in bytes) for each file chunk. It should only be changed if there is a maximum upload size on your server or proxy (for example cloudflare). If chunk size is larger then limit on the server, uploads will fail."})}),e.jsx(dd,{}),e.jsx(Me,{}),e.jsx(ws,{min:1,name:"client.uploads.max_size",className:"mb-30",label:e.jsx(r,{message:"Maximum file size"}),description:e.jsx(r,{message:"Maximum size (in bytes) for a single file user can upload."})}),e.jsx(ws,{min:1,name:"client.uploads.available_space",className:"mb-30",label:e.jsx(r,{message:"Available space"}),description:e.jsx(r,{message:"Disk space (in bytes) each user uploads are allowed to take up. This can be overridden per user."})}),e.jsx(ft,{name:"client.uploads.allowed_extensions",className:"mb-30",label:e.jsx(r,{message:"Allowed extensions"}),placeholder:s(h("Add extension...")),description:e.jsx(r,{message:"List of allowed file types (jpg, mp3, pdf etc.). Leave empty to allow all file types."})}),e.jsx(ft,{name:"client.uploads.blocked_extensions",label:e.jsx(r,{message:"Blocked extensions"}),placeholder:s(h("Add extension...")),description:e.jsx(r,{message:"Prevent uploading of these file types, even if they are allowed above."})})]})}function dd(){const{data:s}=Xc();return e.jsx(es,{color:"warning",description:e.jsx(r,{message:"Maximum upload size on your server currently is set to <b>:size</b>",values:{size:s==null?void 0:s.maxSize,b:t=>e.jsx("b",{children:t})}})})}function ud(){const{watch:s,clearErrors:t}=E();return s("server.uploads_disk_driver")?e.jsxs(q,{className:"mb-30",selectionMode:"single",name:"server.uploads_disk_driver",label:e.jsx(r,{message:"User Uploads Storage Method"}),description:e.jsx(r,{message:"Where should user private file uploads be stored."}),onSelectionChange:()=>{t()},children:[e.jsx(p,{value:"local",children:e.jsx(r,{message:"Local Disk (Default)"})}),e.jsx(p,{value:"ftp",children:"FTP"}),e.jsx(p,{value:"digitalocean_s3",children:"DigitalOcean Spaces"}),e.jsx(p,{value:"backblaze_s3",children:"Backblaze"}),e.jsx(p,{value:"s3",children:"Amazon S3 (Or compatible service)"}),e.jsx(p,{value:"dropbox",children:"Dropbox"}),e.jsx(p,{value:"rackspace",children:"Rackspace"})]}):null}function md(){const{watch:s,clearErrors:t}=E();return s("server.public_disk_driver")?e.jsxs(q,{label:e.jsx(r,{message:"Public Uploads Storage Method"}),selectionMode:"single",name:"server.public_disk_driver",description:e.jsx(r,{message:"Where should user public uploads (like avatars) be stored."}),onSelectionChange:()=>{t()},children:[e.jsx(p,{value:"local",children:e.jsx(r,{message:"Local Disk (Default)"})}),e.jsx(p,{value:"s3",children:"Amazon S3"}),e.jsx(p,{value:"ftp",children:"FTP"}),e.jsx(p,{value:"digitalocean_s3",children:"DigitalOcean Spaces"}),e.jsx(p,{value:"backblaze_s3",children:"Backblaze"})]}):null}function hd(){const{watch:s}=E(),t=[s("server.uploads_disk_driver"),s("server.public_disk_driver")];return t[0]==="local"&&t[1]==="local"?null:e.jsx(xe,{separatorBottom:!1,name:"storage_group",children:a=>{if(t.includes("s3"))return e.jsx(xd,{isInvalid:a});if(t.includes("ftp"))return e.jsx(jd,{isInvalid:a});if(t.includes("dropbox"))return e.jsx(ld,{isInvalid:a});if(t.includes("digitalocean_s3"))return e.jsx(gd,{isInvalid:a});if(t.includes("backblaze_s3"))return e.jsx(pd,{isInvalid:a})}})}function xd({isInvalid:s}){return e.jsxs(d.Fragment,{children:[e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_s3_key",label:e.jsx(r,{message:"Amazon S3 key"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_s3_secret",label:e.jsx(r,{message:"Amazon S3 secret"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_s3_region",label:e.jsx(r,{message:"Amazon S3 region"}),pattern:"[a-z1-9\\-]+",placeholder:"us-east-1"}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_s3_bucket",label:e.jsx(r,{message:"Amazon S3 bucket"}),required:!0}),e.jsx(x,{invalid:s,name:"server.storage_s3_endpoint",label:e.jsx(r,{message:"Amazon S3 endpoint"}),description:e.jsx(r,{message:"Only change endpoint if you are using another S3 compatible storage service."})}),e.jsx(qt,{invalid:s})]})}function gd({isInvalid:s}){return e.jsxs(d.Fragment,{children:[e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_digitalocean_key",label:e.jsx(r,{message:"DigitalOcean key"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_digitalocean_secret",label:e.jsx(r,{message:"DigitalOcean secret"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_digitalocean_region",label:e.jsx(r,{message:"DigitalOcean region"}),pattern:"[a-z0-9\\-]+",placeholder:"us-east-1",required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_digitalocean_bucket",label:e.jsx(r,{message:"DigitalOcean bucket"}),required:!0}),e.jsx(qt,{invalid:s})]})}function pd({isInvalid:s}){return e.jsxs(d.Fragment,{children:[e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_backblaze_key",label:e.jsx(r,{message:"Backblaze KeyID"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_backblaze_secret",label:e.jsx(r,{message:"Backblaze applicationKey"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_backblaze_region",label:e.jsx(r,{message:"Backblaze Region"}),pattern:"[a-z0-9\\-]+",placeholder:"us-west-002",required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_backblaze_bucket",label:e.jsx(r,{message:"Backblaze bucket name"}),required:!0}),e.jsx(qt,{invalid:s})]})}function qt({invalid:s}){var i,l;const t=ad(),{data:a}=Es(),n=((i=a==null?void 0:a.server.uploads_disk_driver)==null?void 0:i.endsWith("s3"))||((l=a==null?void 0:a.server.public_disk_driver)==null?void 0:l.endsWith("s3"));return e.jsxs(d.Fragment,{children:[e.jsx(M,{className:"mt-30",invalid:s,name:"client.uploads.s3_direct_upload",description:e.jsxs("div",{children:[e.jsx("p",{children:e.jsx(r,{message:"Upload files directly from the browser to s3 without going through the server. It will save on server bandwidth and should result in faster upload times. This should be enabled, unless storage provider does not support multipart uploads."})}),e.jsx("p",{className:"mt-10",children:e.jsx(r,{message:"If s3 provider is not configured to allow uploads from browser, this can be done automatically via CORS button below, when valid credentials are saved."})})]}),children:e.jsx(r,{message:"Direct upload"})}),e.jsx(f,{variant:"flat",color:"primary",size:"xs",className:"mt-20",onClick:()=>{t.mutate()},disabled:!n||t.isLoading,children:e.jsx(r,{message:"Configure CORS"})})]})}function jd({isInvalid:s}){return e.jsxs(e.Fragment,{children:[e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_ftp_host",label:e.jsx(r,{message:"FTP hostname"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_ftp_username",label:e.jsx(r,{message:"FTP username"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_ftp_password",label:e.jsx(r,{message:"FTP password"}),type:"password",required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_ftp_root",label:e.jsx(r,{message:"FTP directory"}),placeholder:"/"}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.storage_ftp_port",label:e.jsx(r,{message:"FTP port"}),type:"number",min:0,placeholder:"21"}),e.jsx(M,{invalid:s,name:"server.storage_ftp_passive",className:"mb-30",children:e.jsx(r,{message:"Passive"})}),e.jsx(M,{invalid:s,name:"server.storage_ftp_ssl",children:e.jsx(r,{message:"SSL"})})]})}function fd({isInvalid:s}){return e.jsxs(d.Fragment,{children:[e.jsx(x,{invalid:s,className:"mb-30",name:"server.mailgun_domain",label:e.jsx(r,{message:"Mailgun domain"}),description:e.jsx(r,{message:"Usually the domain of your site (site.com)"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.mailgun_secret",label:e.jsx(r,{message:"Mailgun API key"}),description:e.jsx(r,{message:"Should start with `key-`"}),required:!0}),e.jsx(x,{invalid:s,name:"server.mailgun_endpoint",label:e.jsx(r,{message:"Mailgun endpoint"}),description:e.jsx(r,{message:"Can be left empty, if your mailgun account is in the US region."}),placeholder:"api.eu.mailgun.net"})]})}function bd({isInvalid:s}){return e.jsxs(e.Fragment,{children:[e.jsx(x,{invalid:s,className:"mb-30",name:"server.mail_host",label:e.jsx(r,{message:"SMTP host"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.mail_username",label:e.jsx(r,{message:"SMTP username"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",type:"password",name:"server.mail_password",label:e.jsx(r,{message:"SMTP password"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",type:"number",name:"server.mail_port",label:e.jsx(r,{message:"SMTP port"})}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.mail_encryption",label:e.jsx(r,{message:"SMTP encryption"})})]})}function vd({isInvalid:s}){return e.jsxs(d.Fragment,{children:[e.jsx(x,{invalid:s,className:"mb-30",name:"server.ses_key",label:e.jsx(r,{message:"SES key"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.ses_secret",label:e.jsx(r,{message:"SES secret"}),required:!0}),e.jsx(x,{invalid:s,name:"server.ses_region",label:e.jsx(r,{message:"SES region"}),placeholder:"us-east-1",required:!0})]})}function yd({isInvalid:s}){return e.jsx(x,{invalid:s,name:"server.postmark_token",label:e.jsx(r,{message:"Postmark token"}),required:!0})}const ua=T([e.jsx("path",{fill:"#4caf50",d:"M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z"},"0"),e.jsx("path",{fill:"#1e88e5",d:"M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z"},"1"),e.jsx("polygon",{fill:"#e53935",points:"35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17"},"2"),e.jsx("path",{fill:"#c62828",d:"M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z"},"3"),e.jsx("path",{fill:"#fbc02d",d:"M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z"},"4")],"Gmail","0 0 48 48");function wd(){const{watch:s,setValue:t}=E(),{connectSocial:a}=Ar(),n=s("server.connectedGmailAccount"),i=s("client.mail.handler")==="gmailApi",l=async()=>{const m=await a("secure/settings/mail/gmail/connect");if((m==null?void 0:m.status)==="SUCCESS"){const u=m.callbackData.profile.email;t("server.connectedGmailAccount",u),U(h("Connected gmail account: :email",{values:{email:u}}))}},o=e.jsx(f,{variant:"outline",color:"primary",startIcon:e.jsx(ua,{}),onClick:()=>{l()},children:e.jsx(r,{message:"Connect gmail account"})}),c=e.jsxs("div",{className:"px-14 py-6 rounded bg-alt border flex items-center gap-14 text-sm",children:[e.jsx(ua,{size:"lg"}),n,e.jsx(f,{variant:"text",color:"primary",className:"ml-auto",onClick:()=>{l()},children:e.jsx(r,{message:"Reconnect"})})]});return e.jsxs(d.Fragment,{children:[i&&e.jsx(x,{name:"client.gmail.incoming.topicName",minLength:10,required:!0,label:e.jsx(r,{message:"Gmail topic name"}),description:e.jsx(r,{message:"Google cloud Pub/Sub topic name."}),className:"mb-30"}),e.jsx("div",{className:"text-sm mb-12",children:e.jsx(r,{message:"Gmail account"})}),n?c:o]})}function Sd(){const{watch:s,clearErrors:t}=E(),a=[s("server.mail_driver"),s("client.mail.handler")],n=[];return a.includes("mailgun")&&n.push(fd),a.includes("smtp")&&n.push(bd),a.includes("ses")&&n.push(vd),a.includes("postmark")&&n.push(yd),a.includes("gmailApi")&&n.push(wd),e.jsx(xe,{separatorTop:!1,separatorBottom:!1,name:"mail_group",children:i=>e.jsxs(d.Fragment,{children:[e.jsxs(q,{onSelectionChange:()=>{t()},invalid:i,selectionMode:"single",name:"server.mail_driver",label:e.jsx(r,{message:"Outgoing mail method"}),description:e.jsxs("div",{children:[e.jsx(r,{message:"Which method should be used for sending outgoing application emails (like registration confirmation)"}),e.jsx(Ps,{className:"mt-8",link:"https://support.vebto.com/help-center/articles/42/44/155/incoming-emails"})]}),children:[e.jsx(p,{value:"mailgun",children:"Mailgun"}),e.jsx(p,{value:"gmailApi",children:"Gmail Api"}),e.jsx(p,{value:"smtp",children:"SMTP"}),e.jsx(p,{value:"postmark",children:"Postmark"}),e.jsx(p,{value:"ses",children:"Ses (Amazon Simple Email Service)"}),e.jsx(p,{value:"sendmail",children:"SendMail"}),e.jsx(p,{value:"log",children:"Log (Email will be saved to error log)"})]}),n.length?e.jsx("div",{className:"mt-30",children:n.map((l,o)=>e.jsx(l,{isInvalid:i},o))}):null]})})}function kd(){const{clearErrors:s}=E(),{settings:t}=d.useContext(Ge);return t!=null&&t.showIncomingMailMethod?e.jsxs(q,{onSelectionChange:()=>{s()},className:"my-30",selectionMode:"single",name:"client.mail_handler",label:e.jsx(r,{message:"Incoming mail method"}),description:e.jsxs("div",{children:[e.jsx(r,{message:"Which method should be used to handle incoming application emails."}),e.jsx(Ps,{className:"mt-8",link:"https://support.vebto.com/help-center/articles/76/configuring-email-provider"})]}),children:[e.jsx(p,{value:"mailgun",children:"Mailgun"}),e.jsx(p,{value:"gmailApi",children:"Gmail Api"}),e.jsx(p,{value:"null",children:"Rest API (Send emails via http API)"}),e.jsx(p,{value:"pipe",children:"Pipe (Pipe emails directly)"})]}):null}function Nd(){return e.jsxs(be,{title:e.jsx(r,{message:"Mail settings"}),description:e.jsx(r,{message:"Change incoming and outgoing email handlers, email credentials and other related settings."}),children:[e.jsx(x,{id:"outgoing-emails",className:"mb-30",type:"email",name:"server.mail_from_address",label:e.jsx(r,{message:"From address"}),description:e.jsx(r,{message:"All outgoing application emails will be sent from this email address."}),required:!0}),e.jsx(Cd,{}),e.jsx(x,{className:"mb-30",name:"server.mail_from_name",label:e.jsx(r,{message:"From name"}),description:e.jsx(r,{message:"All outgoing application emails will be sent using this name."}),required:!0}),e.jsx(es,{color:"warning",description:e.jsx(r,{message:"Your selected mail method must be authorized to send emails using this address and name."})}),e.jsx(Me,{}),e.jsx(kd,{}),e.jsx(Sd,{})]})}function Cd(){const{base_url:s}=ke(),t=`${s}/contact`,a=e.jsx(Ys,{href:t,children:t});return e.jsx(x,{className:"mb-30",type:"email",name:"client.mail.contact_page_address",label:e.jsx(r,{message:"Contact page address"}),description:e.jsx(r,{values:{contactPageUrl:a},message:"Where emails from :contactPageUrl page should be sent to."})})}function _d(){return P.post("cache/flush").then(s=>s.data)}function Fd(){return H(()=>_d(),{onSuccess:()=>{U(h("Cache cleared"))},onError:s=>le(s)})}function zd(){const s=Fd();return e.jsxs(be,{title:e.jsx(r,{message:"Cache settings"}),description:e.jsx(r,{message:"Select cache provider and manually clear cache."}),children:[e.jsx(Id,{}),e.jsx(f,{type:"button",variant:"outline",size:"xs",color:"primary",disabled:s.isLoading,onClick:()=>{s.mutate()},children:e.jsx(r,{message:"Clear cache"})}),e.jsx(es,{color:"warning",className:"mt-30",description:e.jsx(r,{message:'"File" is the best option for most cases and should not be changed, unless you are familiar with another cache method and have it set up on the server already.'})})]})}function Id(){const{watch:s,clearErrors:t}=E(),a=s("server.cache_driver");let n=null;return a==="memcached"&&(n=Ad),e.jsx(xe,{separatorTop:!1,name:"cache_group",children:i=>e.jsxs(e.Fragment,{children:[e.jsxs(q,{invalid:i,onSelectionChange:()=>{t()},selectionMode:"single",name:"server.cache_driver",label:e.jsx(r,{message:"Cache method"}),description:e.jsx(r,{message:"Which method should be used for storing and retrieving cached items."}),children:[e.jsx(p,{value:"file",children:e.jsx(r,{message:"File (Default)"})}),e.jsx(p,{value:"array",children:e.jsx(r,{message:"None"})}),e.jsx(p,{value:"apc",children:"APC"}),e.jsx(p,{value:"memcached",children:"Memcached"}),e.jsx(p,{value:"redis",children:"Redis"})]}),n&&e.jsx("div",{className:"mt-30",children:e.jsx(n,{isInvalid:i})})]})})}function Ad({isInvalid:s}){return e.jsxs(e.Fragment,{children:[e.jsx(x,{invalid:s,className:"mb-30",name:"server.memcached_host",label:e.jsx(r,{message:"Memcached host"}),required:!0}),e.jsx(x,{invalid:s,type:"number",name:"server.memcached_port",label:e.jsx(r,{message:"Memcached port"}),required:!0})]})}function Ed(){return e.jsxs(be,{title:e.jsx(r,{message:"Error logging"}),description:e.jsx(r,{message:"Configure site error logging and related 3rd party integrations."}),children:[e.jsx(Pd,{}),e.jsx(es,{className:"mt-30",color:"positive",description:e.jsx(r,{values:{a:s=>e.jsx(Ys,{href:"https://sentry.io",children:s})},message:"<a>Sentry</a> integration provides real-time error tracking and helps identify and fix issues when site is in production."})})]})}function Pd(){const{clearErrors:s}=E();return e.jsx(xe,{separatorTop:!1,separatorBottom:!1,name:"logging_group",children:t=>e.jsx(x,{onChange:()=>{s()},invalid:t,name:"server.sentry_dsn",type:"url",minLength:30,label:e.jsx(r,{message:"Sentry DSN"})})})}function $d(){return e.jsxs(be,{title:e.jsx(r,{message:"Queue"}),description:e.jsx(r,{message:"Select active queue method and enter related 3rd party API keys."}),children:[e.jsx(es,{color:"positive",className:"mb-30",description:e.jsx(r,{message:"Queues allow to defer time consuming tasks, such as sending an email, until a later time. Deferring these tasks can speed up web requests to the application."})}),e.jsx(es,{color:"warning",className:"mb-30",description:e.jsx(r,{message:"All methods except sync require additional setup, which should be performed before changing the queue method. Consult documentation for more information."})}),e.jsx(Td,{})]})}function Td(){const{watch:s,clearErrors:t}=E(),a=s("server.queue_driver");let n=null;return a==="sqs"&&(n=Ld),e.jsx(xe,{separatorTop:!1,separatorBottom:!1,name:"queue_group",children:i=>e.jsxs(e.Fragment,{children:[e.jsxs(q,{invalid:i,onSelectionChange:()=>{t()},selectionMode:"single",name:"server.queue_driver",label:e.jsx(r,{message:"Queue method"}),required:!0,children:[e.jsx(p,{value:"sync",children:e.jsx(r,{message:"Sync (Default)"})}),e.jsx(p,{value:"beanstalkd",children:"Beanstalkd"}),e.jsx(p,{value:"database",children:e.jsx(r,{message:"Database"})}),e.jsx(p,{value:"sqs",children:e.jsx(r,{message:"SQS (Amazon simple queue service)"})}),e.jsx(p,{value:"redis",children:"Redis"})]}),n&&e.jsx("div",{className:"mt-30",children:e.jsx(n,{isInvalid:i})})]})})}function Ld({isInvalid:s}){return e.jsxs(e.Fragment,{children:[e.jsx(x,{invalid:s,className:"mb-30",name:"server.sqs_queue_key",label:e.jsx(r,{message:"SQS queue key"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.sqs_queue_secret",label:e.jsx(r,{message:"SQS queue secret"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.sqs_queue_prefix",label:e.jsx(r,{message:"SQS queue prefix"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.sqs_queue_name",label:e.jsx(r,{message:"SQS queue name"}),required:!0}),e.jsx(x,{invalid:s,className:"mb-30",name:"server.sqs_queue_region",label:e.jsx(r,{message:"SQS queue region"}),required:!0})]})}function Md(){const{settings:s}=d.useContext(Ge);return e.jsxs(be,{title:e.jsx(r,{message:"Recaptcha"}),description:e.jsx(r,{message:"Configure google recaptcha integration and credentials."}),children:[(s==null?void 0:s.showRecaptchaLinkSwitch)&&e.jsx(M,{className:"mb-30",name:"client.recaptcha.enable.link_creation",description:e.jsx(r,{message:"Enable recaptcha integration when creating links from homepage or user dashboard."}),children:e.jsx(r,{message:"Link creation"})}),e.jsx(M,{className:"mb-30",name:"client.recaptcha.enable.contact",description:e.jsx(r,{message:'Enable recaptcha integration for "contact us" page.'}),children:e.jsx(r,{message:"Contact page"})}),e.jsx(M,{className:"mb-30",name:"client.recaptcha.enable.register",description:e.jsx(r,{message:"Enable recaptcha integration for registration page."}),children:e.jsx(r,{message:"Registration page"})}),e.jsx(Dd,{})]})}function Dd(){const{clearErrors:s}=E();return e.jsx(xe,{separatorTop:!1,separatorBottom:!1,name:"recaptcha_group",children:t=>e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"mb-30",onChange:()=>{s()},invalid:t,name:"client.recaptcha.site_key",label:e.jsx(r,{message:"Recaptcha v3 site key"})}),e.jsx(x,{onChange:()=>{s()},invalid:t,name:"client.recaptcha.secret_key",label:e.jsx(r,{message:"Recaptcha v3 secret key"})})]})})}const Rd=L.forwardRef((s,t)=>{const a=wa(t),{fieldProps:n,inputProps:i}=Er({...s,focusRef:a}),l=Nt(s);return e.jsx(Pr,{ref:t,fieldClassNames:l,...n,children:e.jsx("input",{type:"file",ref:a,...i,className:y(l.input,"py-8","file:bg-primary file:text-on-primary file:border-none file:rounded file:text-sm file:font-semibold file:px-10 file:h-24 file:mr-10")})})});function Vd({name:s,...t}){const{field:{onChange:a,onBlur:n,ref:i},fieldState:{invalid:l,error:o}}=ms({name:s}),[c,m]=L.useState(""),u={onChange:g=>{var j;a((j=g.target.files)==null?void 0:j[0]),m(g.target.value)},onBlur:n,value:c,invalid:l,errorMessage:o==null?void 0:o.message};return e.jsx(Rd,{ref:i,...ts(u,t)})}function Od(){return e.jsx(be,{title:e.jsx(r,{message:"Analytics"}),description:e.jsx(r,{message:"Configure google analytics integration and credentials."}),children:e.jsx(Hd,{})})}function Hd(){const{clearErrors:s}=E();return e.jsx(xe,{separatorTop:!1,separatorBottom:!1,name:"analytics_group",children:t=>e.jsxs(d.Fragment,{children:[e.jsx(Vd,{className:"mb-30",onChange:()=>{s()},invalid:t,name:"files.certificate",accept:".json",label:e.jsx(r,{message:"Google service account key file (.json)"})}),e.jsx(x,{className:"mb-30",onChange:()=>{s()},invalid:t,name:"server.analytics_property_id",type:"number",label:e.jsx(r,{message:"Google analytics property ID"})}),e.jsx(x,{className:"mb-30",onChange:()=>{s()},invalid:t,name:"client.analytics.tracking_code",placeholder:"G-******",min:"1",max:"20",description:e.jsx(r,{message:"Google analytics measurement ID only, not the whole javascript snippet."}),label:e.jsx(r,{message:"Google tag manager measurement ID"})}),e.jsx(x,{name:"client.analytics.gchart_api_key",label:e.jsx(r,{message:"Google maps javascript API key"}),description:e.jsx(r,{message:"Only required in order to show world geochart on integrated analytics pages."})})]})})}function Ud(s){const t=he();return H(a=>Bd(a),{onSuccess:(a,n)=>{U(h("User updated")),D.invalidateQueries(["users"]),t("/admin/users")},onError:a=>je(a,s)})}function Bd({id:s,...t}){return t.roles&&(t.roles=t.roles.map(a=>a.id)),P.put(`users/${s}`,t).then(a=>a.data)}function Hn(){const[s,t]=d.useState(!1),a=d.useRef(),n=d.useCallback(i=>{var l;if(i){const o=new IntersectionObserver(([c])=>t(c.intersectionRatio<1),{threshold:[1]});a.current=o,o.observe(i)}else a.current&&((l=a.current)==null||l.disconnect())},[]);return{isSticky:s,sentinelRef:n}}function Ts({onSubmit:s,form:t,title:a,children:n,actions:i,backButton:l,isLoading:o=!1,disableSaveWhenNotDirty:c=!1,wrapInContainer:m=!0}){const{isSticky:u,sentinelRef:g}=Hn(),j=c?Object.keys(t.formState.dirtyFields).length:!0;return e.jsxs(de,{onSubmit:s,onBeforeSubmit:()=>t.clearErrors(),form:t,children:[e.jsx("div",{ref:g}),e.jsx("div",{className:y("sticky top-0 my-12 md:my-24 z-10 transition-shadow",u&&"bg-paper shadow"),children:e.jsxs("div",{className:y("flex items-center md:items-start gap-24 py-14",m&&"container mx-auto px-24"),children:[l,e.jsx("h1",{className:"text-xl md:text-3xl whitespace-nowrap overflow-hidden overflow-ellipsis md:mr-64",children:a}),e.jsx("div",{className:"mr-auto"}),i,e.jsx(f,{variant:"flat",color:"primary",type:"submit",disabled:o||!j,children:e.jsx(r,{message:"Save"})})]})}),e.jsx("div",{className:m?"container mx-auto px-24 pb-24":void 0,children:e.jsx("div",{className:"rounded",children:n})})]})}function Un({onSubmit:s,form:t,title:a,isLoading:n,avatarManager:i,resendEmailButton:l,children:o}){const{require_email_confirmation:c}=ke(),{data:m}=Ce(["roles","permissions"]);return e.jsxs(Ts,{onSubmit:s,form:t,title:a,isLoading:n,children:[e.jsxs("div",{className:"flex items-start gap-40 md:gap-80 mb-40",children:[i,e.jsxs("div",{className:"flex-auto",children:[o,e.jsx(x,{className:"mb-30",name:"first_name",label:e.jsx(r,{message:"First name"})}),e.jsx(x,{name:"last_name",label:e.jsx(r,{message:"Last name"})})]})]}),e.jsxs("div",{className:"border-t border-b mb-30 pb-30 pt-30",children:[e.jsx(M,{className:y(l&&"mb-30"),disabled:!c,name:"email_verified_at",description:e.jsx(r,{message:"Whether email address has been confirmed. User will not be able to login until address is confirmed, unless confirmation is disabled from settings page."}),children:e.jsx(r,{message:"Email confirmed"})}),l]}),e.jsx(ws,{className:"mb-30",name:"available_space",label:e.jsx(r,{message:"Allowed storage space"}),description:e.jsx(r,{values:{a:u=>e.jsx(J,{className:It,target:"_blank",to:"/admin/settings/uploading",children:u})},message:"Total storage space all user uploads are allowed to take up. If left empty, this value will be inherited from any roles or subscriptions user has, or from 'Available space' setting in <a>Uploading</a> settings page."})}),e.jsx(Zs,{className:"mb-30",name:"roles",label:e.jsx(r,{message:"Roles"}),suggestions:m==null?void 0:m.roles,children:u=>e.jsx(p,{value:u.id,children:u.name},u.id)}),e.jsxs("div",{className:"mt-30 pt-30 border-t",children:[e.jsx("div",{className:"text-sm mb-10",children:e.jsx(r,{message:"Permissions"})}),e.jsx(Ot,{name:"permissions"})]})]})}function qd(){var m;const s=G(),{require_email_confirmation:t}=ke(),{userId:a}=fe(),n=Ud(s),i=$r(),{data:l,isLoading:o}=Tr(a,{with:["subscriptions","roles","permissions"]});if(d.useEffect(()=>{l!=null&&l.user&&!s.getValues().id&&s.reset({first_name:l.user.first_name,last_name:l.user.last_name,roles:l.user.roles,permissions:l.user.permissions,id:l.user.id,email_verified_at:!!l.user.email_verified_at,available_space:l.user.available_space,avatar:l.user.avatar})},[l==null?void 0:l.user,s]),o)return e.jsx(We,{});const c=e.jsx(f,{size:"xs",variant:"outline",color:"primary",disabled:!t||i.isLoading||((m=l==null?void 0:l.user)==null?void 0:m.email_verified_at)!=null,onClick:()=>{i.mutate({email:l.user.email})},children:e.jsx(r,{message:"Resend email"})});return e.jsx(Un,{onSubmit:u=>{n.mutate(u)},form:s,title:e.jsx(r,{values:{email:l==null?void 0:l.user.email},message:"Edit “:email“"}),isLoading:n.isLoading,avatarManager:e.jsx(Wd,{user:l.user,onChange:()=>{D.invalidateQueries(["users"])}}),resendEmailButton:c,children:e.jsx(x,{className:"mb-30",name:"password",type:"password",label:e.jsx(r,{message:"New password"})})})}function Wd({user:s,onChange:t}){const a=Lr({user:s}),n=Mr({user:s});return e.jsx(zs,{children:e.jsx(as,{name:"avatar",diskPrefix:"avatars",variant:"avatar",stretchPreview:!0,label:e.jsx(r,{message:"Profile image"}),previewSize:"w-90 h-90",showRemoveButton:!0,onChange:i=>{i?a.mutate({url:i}):n.mutate(),t()}})})}function Gd(s){const t=he();return H(a=>Kd(a),{onSuccess:()=>{U(h("User created")),D.invalidateQueries(X("users")),t("/admin/users")},onError:a=>je(a,s)})}function Kd(s){return s.roles&&(s.roles=s.roles.map(t=>t.id)),P.post("users",s).then(t=>t.data)}function Qd(){const s=G(),t=Gd(s),a=e.jsx(zs,{children:e.jsx(as,{name:"avatar",diskPrefix:"avatars",variant:"avatar",stretchPreview:!0,label:e.jsx(r,{message:"Profile image"}),previewSize:"w-90 h-90",showRemoveButton:!0})});return e.jsxs(Un,{onSubmit:n=>{t.mutate(n)},form:s,title:e.jsx(r,{message:"Add new user"}),isLoading:t.isLoading,avatarManager:a,children:[e.jsx(x,{className:"mb-30",name:"email",type:"email",label:e.jsx(r,{message:"Email"})}),e.jsx(x,{className:"mb-30",name:"password",type:"password",label:e.jsx(r,{message:"Password"})})]})}const Yd=T(e.jsx("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7 1.62-4.33L19.12 17h-3.24z"}),"TranslateOutlined"),Bn=s=>{const t=["getLocaleWithLines"];return s!=null&&t.push(s),t};function Jd(s){return Be(Bn(s),()=>Zd(s),{staleTime:1/0})}function Zd(s){return P.get(`localizations/${s}`).then(t=>t.data)}function Xd({id:s,...t}){return P.put(`localizations/${s}`,t).then(a=>a.data)}function qn(s){return H(t=>Xd(t),{onSuccess:()=>{U(h("Localization updated")),D.invalidateQueries(X("localizations")),D.invalidateQueries(Bn())},onError:t=>s?je(t,s):le(t)})}function eu({localization:s}){const{trans:t}=R(),{formId:a,close:n}=Q(),i=G({defaultValues:{id:s.id,name:s.name,language:s.language}}),{data:l}=Ce(["languages"]),o=(l==null?void 0:l.languages)||[],c=qn(i);return e.jsxs(se,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Update localization"})}),e.jsx(ae,{children:e.jsxs(de,{form:i,id:a,onSubmit:m=>{c.mutate(m,{onSuccess:n})},children:[e.jsx(x,{name:"name",label:e.jsx(r,{message:"Name"}),className:"mb-30",required:!0}),e.jsx(q,{required:!0,name:"language",label:e.jsx(r,{message:"Language"}),selectionMode:"single",showSearchField:!0,searchPlaceholder:t(h("Search languages")),children:o.map(m=>e.jsx(p,{value:m.code,children:m.name},m.code))})]})}),e.jsxs(ue,{children:[e.jsx(f,{onClick:n,children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{variant:"flat",color:"primary",type:"submit",form:a,disabled:c.isLoading,children:e.jsx(r,{message:"Save"})})]})]})}function su(s){return P.post("localizations",s).then(t=>t.data)}function tu(s){const t=Ia();return H(a=>su(a),{onSuccess:()=>{U(h("Localization created")),t.invalidateQueries(X("localizations"))},onError:a=>je(a,s)})}function au(){const{trans:s}=R(),{formId:t,close:a}=Q(),n=G({defaultValues:{language:"en"}}),{data:i}=Ce(["languages"]),l=(i==null?void 0:i.languages)||[],o=tu(n);return e.jsxs(se,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Create localization"})}),e.jsx(ae,{children:e.jsxs(de,{form:n,id:t,onSubmit:c=>{o.mutate(c,{onSuccess:a})},children:[e.jsx(x,{autoFocus:!0,name:"name",label:e.jsx(r,{message:"Name"}),className:"mb-30",required:!0}),e.jsx(q,{required:!0,name:"language",label:e.jsx(r,{message:"Language"}),selectionMode:"single",showSearchField:!0,searchPlaceholder:s(h("Search languages")),children:l.map(c=>e.jsx(p,{value:c.code,children:c.name},c.code))})]})}),e.jsxs(ue,{children:[e.jsx(f,{onClick:a,children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{variant:"flat",color:"primary",type:"submit",form:t,disabled:o.isLoading,children:e.jsx(r,{message:"Save"})})]})]})}const nu=""+new URL("around-the-world-df9b11c5.svg",import.meta.url).href,ru=[{key:"name",allowsSorting:!0,sortingKey:"name",visibleInMode:"all",width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Name"}),body:s=>s.name},{key:"language",allowsSorting:!0,sortingKey:"language",header:()=>e.jsx(r,{message:"Language code"}),body:s=>s.language},{key:"updatedAt",allowsSorting:!0,width:"w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(pe,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-84 flex-shrink-0",visibleInMode:"all",body:s=>e.jsxs("div",{className:"text-muted",children:[e.jsx(J,{to:`${s.id}/translate`,children:e.jsx(Ae,{label:e.jsx(r,{message:"Translate"}),children:e.jsx(_,{size:"md",children:e.jsx(Yd,{})})})}),e.jsxs($,{type:"modal",children:[e.jsx(Ae,{label:e.jsx(r,{message:"Edit"}),children:e.jsx(_,{children:e.jsx(De,{})})}),e.jsx(eu,{localization:s})]})]})}];function iu(){return e.jsx(Qe,{endpoint:"localizations",title:e.jsx(r,{message:"Localizations"}),columns:ru,actions:e.jsx(lu,{}),selectedActions:e.jsx(rs,{}),emptyStateMessage:e.jsx(Ee,{image:nu,title:e.jsx(r,{message:"No localizations have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching localizations"})})})}function lu(){return e.jsx(d.Fragment,{children:e.jsxs($,{type:"modal",children:[e.jsx(is,{children:e.jsx(r,{message:"Add new localization"})}),e.jsx(au,{})]})})}function ou(){const{formId:s,close:t}=Q(),a=G();return e.jsxs(se,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Add translation"})}),e.jsx(ae,{children:e.jsxs(de,{form:a,id:s,onSubmit:n=>{t(n)},children:[e.jsx(es,{className:"mb-30",title:e.jsx(r,{message:"Add a new translation, if it does not exist already."}),description:e.jsx(r,{message:"This should only need to be done for things like custom menu items."})}),e.jsx(x,{inputElementType:"textarea",rows:2,autoFocus:!0,name:"key",label:e.jsx(r,{message:"Translation key"}),className:"mb-30",required:!0}),e.jsx(x,{inputElementType:"textarea",rows:2,name:"value",label:e.jsx(r,{message:"Translation value"}),required:!0})]})}),e.jsxs(ue,{children:[e.jsx(f,{onClick:t,children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{variant:"flat",color:"primary",type:"submit",form:s,children:e.jsx(r,{message:"Add"})})]})]})}function cu(){const{localeId:s}=fe(),{data:t,isLoading:a}=Jd(s),n=t==null?void 0:t.localization;return a||!n?e.jsx(We,{}):e.jsx(du,{localization:n})}function du({localization:s}){const[t,a]=d.useState(s.lines||{}),n=he(),i=qn(),[l,o]=d.useState("");return e.jsxs("form",{className:"p-14 md:p-24 flex flex-col h-full",onSubmit:c=>{c.preventDefault(),i.mutate({id:s.id,lines:t},{onSuccess:()=>{n("/admin/localizations")}})},children:[e.jsx(uu,{localization:s,setLines:a,lines:t,searchQuery:l,setSearchQuery:o,isLoading:i.isLoading}),e.jsx(mu,{lines:t,setLines:a,searchQuery:l})]})}function uu({localization:s,searchQuery:t,setSearchQuery:a,isLoading:n,lines:i,setLines:l}){const o=he(),c=Pe(),{trans:m}=R();return e.jsxs("div",{className:"flex-shrink-0",children:[e.jsxs(_i,{size:"lg",className:"mb-16",children:[e.jsx(Zt,{onSelected:()=>{o("/admin/localizations")},children:e.jsx(r,{message:"Localizations"})}),e.jsx(Zt,{children:e.jsx(r,{message:":locale translations",values:{locale:s.name}})})]}),e.jsxs("div",{className:"mb-24 flex items-center gap-32 md:gap-12",children:[e.jsx("div",{className:"max-w-440 flex-auto",children:e.jsx(ss,{value:t,onChange:u=>a(u.target.value),startAdornment:e.jsx(wt,{}),placeholder:m({message:"Type to search..."})})}),e.jsxs($,{type:"modal",onClose:u=>{if(u){const g={...i};g[u.key]=u.value,l(g)}},children:[!c&&e.jsx(f,{className:"ml-auto",variant:"outline",color:"primary",startIcon:e.jsx(Se,{}),children:e.jsx(r,{message:"Add new"})}),e.jsx(ou,{})]}),e.jsx(f,{variant:"flat",color:"primary",type:"submit",disabled:n,children:c?e.jsx(r,{message:"Save"}):e.jsx(r,{message:"Save translations"})})]})]})}function mu({searchQuery:s,lines:t,setLines:a}){const n=d.useMemo(()=>Object.entries(t).filter(([o,c])=>{const m=s==null?void 0:s.toLowerCase();return!m||(o==null?void 0:o.toLowerCase().includes(m))||(c==null?void 0:c.toLowerCase().includes(m))}),[t,s]),i=d.useRef(null),l=bi({count:n.length,getScrollElement:()=>i.current,estimateSize:()=>123});return e.jsx("div",{className:"flex-auto overflow-y-auto",ref:i,children:e.jsx("div",{className:"relative w-full",style:{height:`${l.getTotalSize()}px`},children:l.getVirtualItems().map(o=>{const[c,m]=n[o.index];return e.jsx("div",{className:"w-full absolute top-0 left-0",style:{height:`${o.size}px`,transform:`translateY(${o.start}px)`},children:e.jsxs("div",{className:"rounded border mb-10 md:mr-10",children:[e.jsxs("div",{className:"flex items-center gap-24 justify-between px-10 py-2 border-b",children:[e.jsx("label",{className:"text-xs font-semibold flex-auto",htmlFor:c,children:c}),e.jsx(_,{size:"xs",className:"text-muted",onClick:()=>{const u={...t};delete u[c],a(u)},children:e.jsx(qe,{})})]}),e.jsx("div",{children:e.jsx("textarea",{id:c,name:c,defaultValue:m,className:"w-full bg-inherit block rounded resize-none outline-none focus-visible:ring-2 p-10 text-sm",rows:2,onChange:u=>{const g={...t};g[c]=u.target.value,a(g)}})})]})},c)})})})}function hu(s){const{close:t}=Q(),{image:a,images:n}=s,[i,l]=_s(s.activeIndex,s.defaultActiveIndex,s.onActiveIndexChange),o=a||(n==null?void 0:n[i]);return e.jsx(se,{size:"fullscreenTakeover",background:"bg-black/80",children:e.jsxs(ae,{padding:"p-0",className:"w-full h-full",children:[e.jsx(_,{size:"lg",color:"paper",className:"absolute top-0 right-0 text-white z-20",onClick:()=>{t()},children:e.jsx(qe,{})}),e.jsxs("div",{className:"relative p-40 flex items-center justify-center w-full h-full",children:[n!=null&&n.length?e.jsx(_,{size:"lg",color:"white",variant:"flat",className:"absolute my-auto top-0 bottom-0 left-20",radius:"rounded",disabled:i<1,onClick:()=>{l(i-1)},children:e.jsx(Pt,{})}):null,e.jsx("img",{src:o,alt:"",className:"max-h-full w-auto shadow object-contain"}),n!=null&&n.length?e.jsx(_,{size:"lg",color:"white",variant:"flat",className:"absolute my-auto top-0 bottom-0 right-20",radius:"rounded",disabled:i+1===(n==null?void 0:n.length),onClick:()=>{l(i+1)},children:e.jsx(Js,{})}):null]})]})})}function xu(){var t;const s=Es();return e.jsxs("div",{className:"container mx-auto p-12 md:p-24",children:[e.jsx(Ks,{children:e.jsx(r,{message:"Ads"})}),e.jsx("h1",{className:"mb-20 text-2xl font-light md:mb-40 md:text-3xl",children:e.jsx(r,{message:"Predefined Ad slots"})}),s.isLoading?e.jsx(Qs,{isIndeterminate:!0}):e.jsx(gu,{defaultValues:((t=s.data)==null?void 0:t.client.ads)||{}})]})}function gu({defaultValues:s}){const{admin:{ads:t}}=d.useContext(Ge),a=G({defaultValues:{client:{ads:s}}}),n=Dn(a);return e.jsxs(de,{form:a,onSubmit:i=>{n.mutate(i)},children:[t.map(i=>e.jsx(pu,{adConfig:i},i.slot)),e.jsx(M,{name:"client.ads.disable",className:"mb-30",description:e.jsx(r,{message:"Disable all add related functionality across the site."}),children:e.jsx(r,{message:"Disable ads"})}),e.jsx(f,{type:"submit",variant:"flat",color:"primary",disabled:n.isLoading,children:e.jsx(r,{message:"Save"})})]})}function pu({adConfig:s}){return e.jsxs("div",{className:"flex items-center gap-24",children:[e.jsx(x,{className:"mb-30 flex-auto",name:`client.${s.slot}`,inputElementType:"textarea",rows:8,label:e.jsx(r,{...s.description})}),e.jsxs($,{type:"modal",children:[e.jsx("button",{type:"button",className:"cursor-zoom-in overflow-hidden rounded outline-none transition hover:scale-105 focus-visible:ring max-md:hidden",children:e.jsx("img",{src:s.image,className:"h-[186px] w-auto border",alt:"Ad slot example"})}),e.jsx(hu,{image:s.image})]})]})}function ju(){const s=os(a=>{var n;return(n=a.config)==null?void 0:n.sections}),t=d.useMemo(()=>s?Object.entries(s||[]).map(([a,n])=>({...n,key:a})).sort((a,n)=>((a==null?void 0:a.position)||1)-((n==null?void 0:n.position)||1)):[],[s]);return e.jsx(d.Fragment,{children:t.map(a=>e.jsx(Ne,{to:a.key,elementType:zt,children:e.jsx(r,{...a.label})},a.key))})}const fu=[{key:"type",label:h("Type"),description:h("Type of the role"),defaultOperator:re.ne,control:{type:ce.Select,defaultValue:"01",options:[{key:"01",label:h("Sitewide"),value:"sitewide"},{key:"02",label:h("Workspace"),value:"workspace"}]}},hs({description:h("Date role was created")}),xs({description:h("Date role was last updated")})],bu=[{key:"name",allowsSorting:!0,visibleInMode:"all",header:()=>e.jsx(r,{message:"Role"}),body:s=>e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(r,{message:s.name})}),e.jsx("div",{className:"text-muted text-xs overflow-x-hidden overflow-ellipsis",children:s.description?e.jsx(r,{message:s.description}):void 0})]})},{key:"type",maxWidth:"max-w-100",allowsSorting:!0,header:()=>e.jsx(r,{message:"Type"}),body:s=>e.jsx(r,{message:s.type})},{key:"updated_at",maxWidth:"max-w-100",allowsSorting:!0,header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(pe,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,visibleInMode:"all",align:"end",width:"w-42 flex-shrink-0",body:s=>e.jsx(J,{to:`${s.id}/edit`,children:e.jsx(_,{size:"md",className:"text-muted",children:e.jsx(De,{})})})}];function vu(){return e.jsx(Qe,{endpoint:"roles",title:e.jsx(r,{message:"Roles"}),columns:bu,filters:fu,actions:e.jsx(yu,{}),selectedActions:e.jsx(rs,{}),emptyStateMessage:e.jsx(Ee,{image:ks,title:e.jsx(r,{message:"No roles have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching roles"})})})}function yu(){return e.jsxs(d.Fragment,{children:[e.jsx(Va,{endpoint:"roles/csv/export"}),e.jsx(is,{elementType:J,to:"new",children:e.jsx(r,{message:"Add new role"})})]})}const Wn=s=>`roles/${s}`;function wu(s){return P.get(Wn(s)).then(t=>t.data)}function Su(){const{roleId:s}=fe();return Be([Wn(s)],()=>wu(s))}const Gn=s=>`roles/${s}`;function ku(){const{trans:s}=R(),t=he();return H(a=>Nu(a),{onSuccess:a=>{U(s(h("Role updated"))),D.invalidateQueries([Gn(a.role.id)]),D.invalidateQueries(X("roles")),t("/admin/roles")},onError:a=>le(a)})}function Nu({id:s,...t}){return P.put(Gn(s),t).then(a=>a.data)}function Kn({isInternal:s=!1}){const{trans:t}=R(),{workspaces:a}=ke(),{watch:n}=E(),i=n("type");return e.jsxs(e.Fragment,{children:[e.jsx(x,{label:e.jsx(r,{message:"Name"}),name:"name",className:"mb-20",required:!0}),e.jsx(x,{label:e.jsx(r,{message:"Description"}),name:"description",inputElementType:"textarea",placeholder:t(h("Role description...")),rows:4,className:"mb-20"}),a.integrated&&e.jsxs(q,{label:e.jsx(r,{message:"Type"}),name:"type",selectionMode:"single",className:"mb-20",description:e.jsx(r,{message:"Whether this role will be assigned to users globally on the site or only within workspaces."}),children:[e.jsx(p,{value:"sitewide",children:e.jsx(r,{message:"Sitewide"})}),e.jsx(p,{value:"workspace",children:e.jsx(r,{message:"Workspace"})})]}),!s&&e.jsxs(e.Fragment,{children:[e.jsx(M,{name:"default",className:"mb-20",description:e.jsx(r,{message:"Assign this role to new users automatically."}),children:e.jsx(r,{message:"Default"})}),i==="sitewide"&&e.jsx(M,{name:"guests",description:e.jsx(r,{message:"Assign this role to guests (not logged in users)."}),children:e.jsx(r,{message:"Guests"})})]}),e.jsx("h2",{className:"mb-10 mt-30 text-lg",children:e.jsx(r,{message:"Permissions"})}),e.jsx(Ot,{name:"permissions",valueListKey:i==="sitewide"?"permissions":"workspacePermissions"})]})}function Cu({onUserSelected:s}){var u;const{close:t}=Q(),[a,n]=d.useState(""),{trans:i}=R(),l=vi(Tt,{query:a,perPage:14}),o=((u=l.data)==null?void 0:u.results)||[],c=e.jsx(St,{className:"pt-20",size:"sm",title:e.jsx(r,{message:"No matching users"}),description:e.jsx(r,{message:"Try another search query"}),image:e.jsx(kt,{src:ks})}),m=g=>{t(),s(g)};return e.jsxs(se,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Select a user"})}),e.jsxs(ae,{children:[e.jsx(ss,{autoFocus:!0,className:"mb-20",startAdornment:e.jsx(wt,{}),placeholder:i(h("Search for user by name or email")),value:a,onChange:g=>{n(g.target.value)}}),!l.isLoading&&!o.length&&c,e.jsx("div",{className:"grid grid-cols-2 gap-x-10",children:o.map(g=>e.jsx(_u,{user:g,onUserSelected:m},g.id))})]})]})}function _u({user:s,onUserSelected:t}){return e.jsxs("div",{className:"flex items-center gap-10 outline-none focus-visible:ring ring-offset-4 hover:bg-hover p-10 rounded",role:"button",tabIndex:0,onClick:()=>{t(s)},onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),t(s))},children:[e.jsx($a,{src:s.image}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("div",{className:"text-ellipsis overflow-hidden",children:s.name}),e.jsx("div",{className:"text-muted text-ellipsis overflow-hidden",children:s.description})]})]},s.id)}function Fu(s){return H(({userIds:t})=>zu({userIds:t,roleId:s.id}),{onSuccess:(t,a)=>{U(h("Removed [one 1 user|other :count users] from “{role}“",{values:{count:a.userIds.length,role:s.name}}))},onError:t=>le(t)})}function zu({roleId:s,userIds:t}){return P.post(`roles/${s}/remove-users`,{userIds:t}).then(a=>a.data)}function Iu(s){return H(({userIds:t})=>Au({userIds:t,roleId:s.id}),{onSuccess:(t,a)=>{U(h("Assigned [one 1 user|other :count users] to {role}",{values:{count:a.userIds.length,role:s.name}}))},onError:t=>le(t)})}function Au({roleId:s,userIds:t}){return P.post(`roles/${s}/add-users`,{userIds:t}).then(a=>a.data)}const Qn={key:"name",allowsSorting:!0,sortingKey:"email",header:()=>e.jsx(r,{message:"User"}),body:s=>e.jsx(gs,{image:s.avatar,label:s.display_name,description:s.email}),width:"col-w-3"},Eu=[Qn,{key:"first_name",allowsSorting:!0,header:()=>e.jsx(r,{message:"First name"}),body:s=>s.first_name},{key:"last_name",allowsSorting:!0,header:()=>e.jsx(r,{message:"Last name"}),body:s=>s.last_name},{key:"created_at",allowsSorting:!0,header:()=>e.jsx(r,{message:"Assigned at"}),body:s=>e.jsx(pe,{date:s.created_at})}],Pu=[Qn];function $u({role:s}){const t=Pe();return s.guests||s.type==="workspace"?e.jsx("div",{className:"pt-30 pb-10",children:e.jsx(Ee,{image:ks,title:e.jsx(r,{message:"Users can't be assigned to this role"})})}):e.jsx(Ra,{endpoint:"users",columns:t?Pu:Eu,queryParams:{roleId:`${s.id}`},actions:e.jsx(Tu,{role:s}),selectedActions:e.jsx(Lu,{role:s}),emptyStateMessage:e.jsx(Ee,{image:ks,title:e.jsx(r,{message:"No users have been assigned to this role yet"}),filteringTitle:e.jsx(r,{message:"No matching users"})})})}function Tu({role:s}){const t=Iu(s);return e.jsxs($,{type:"modal",children:[e.jsx(f,{variant:"flat",color:"primary",disabled:t.isLoading,children:e.jsx(r,{message:"Assign user"})}),e.jsx(Cu,{onUserSelected:a=>{t.mutate({userIds:[a.id]},{onSuccess:()=>{D.invalidateQueries(X("users",{roleId:`${s.id}`}))}})}})]})}function Lu({role:s}){const t=Fu(s),{selectedRows:a}=Mt();return e.jsxs($,{type:"modal",onClose:n=>{n&&t.mutate({userIds:a},{onSuccess:()=>{D.invalidateQueries(X("users",{roleId:`${s.id}`}))}})},children:[e.jsx(f,{variant:"flat",color:"danger",disabled:t.isLoading,children:e.jsx(r,{message:"Remove users"})}),e.jsx($e,{title:e.jsx(r,{message:"Remove [one 1 user|other :count users] from “:name“ role?",values:{count:a.length,name:s.name}}),body:e.jsx(r,{message:"This will permanently remove the users."}),confirm:e.jsx(r,{message:"Remove"}),isDanger:!0})]})}function Mu(){const s=Su();return s.status!=="success"?e.jsx(We,{}):e.jsx(Du,{role:s.data.role})}function Du({role:s}){const t=G({defaultValues:s}),a=ku();return e.jsx(Ts,{form:t,onSubmit:n=>{a.mutate(n)},title:e.jsx(r,{message:"Edit “:name“ role",values:{name:s.name}}),isLoading:a.isLoading,children:e.jsxs(Rn,{isLazy:!0,children:[e.jsxs(Vn,{children:[e.jsx(qs,{children:e.jsx(r,{message:"Settings"})}),e.jsx(qs,{children:e.jsx(r,{message:"Users"})})]}),e.jsxs(On,{className:"pt-20",children:[e.jsx(Ws,{children:e.jsx(Kn,{isInternal:s.internal})}),e.jsx(Ws,{children:e.jsx($u,{role:s})})]})]})})}const Ru="roles";function Vu(s){const{trans:t}=R();return H(a=>Ou(a),{onSuccess:()=>{U(t(h("Created new role"))),D.invalidateQueries(X("roles"))},onError:a=>je(a,s)})}function Ou({id:s,...t}){return P.post(Ru,t).then(a=>a.data)}function Hu(){const s=G({defaultValues:{type:"sitewide"}}),t=Vu(s),a=he();return e.jsx(Ts,{form:s,onSubmit:n=>{t.mutate(n,{onSuccess:i=>{a(`/admin/roles/${i.role.id}/edit`)}})},title:e.jsx(r,{message:"Add new role"}),isLoading:t.isLoading,children:e.jsx(Kn,{})})}const Uu=s=>[{key:"type",label:h("Type"),description:h("Type of the tag"),defaultOperator:re.ne,control:{type:ce.Select,defaultValue:s[0].name,options:s.map(t=>({key:t.name,label:h(t.name),value:t.name}))}},hs({description:h("Date tag was created")}),xs({description:h("Date tag was last updated")})],Yn=""+new URL("software-engineer-ba026106.svg",import.meta.url).href;function Jn({form:s,onSubmit:t,formId:a}){const{tags:{types:n}}=d.useContext(Ge),i=s.watch("type"),l=!!n.find(o=>o.name===i&&o.system);return e.jsxs(de,{id:a,form:s,onSubmit:t,children:[e.jsx(x,{name:"name",label:e.jsx(r,{message:"Name"}),description:e.jsx(r,{message:"Unique tag identifier."}),className:"mb-20",required:!0,autoFocus:!0}),e.jsx(x,{name:"display_name",label:e.jsx(r,{message:"Display name"}),description:e.jsx(r,{message:"User friendly tag name."}),className:"mb-20"}),e.jsx(q,{name:"type",selectionMode:"single",disabled:l,children:n.filter(o=>!o.system).map(o=>e.jsx(p,{value:o.name,children:e.jsx(r,{message:o.name})},o.name))})]})}function Bu(s){const{trans:t}=R();return H(a=>qu(a),{onSuccess:()=>{U(t(h("Tag created"))),D.invalidateQueries(X("tags"))},onError:a=>je(a,s)})}function qu(s){return P.post("tags",s).then(t=>t.data)}function Wu(){const{close:s,formId:t}=Q(),{tags:{types:a}}=d.useContext(Ge),n=G({defaultValues:{type:a[0].name}}),i=Bu(n);return e.jsxs(se,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Add new tag"})}),e.jsx(ae,{children:e.jsx(Jn,{formId:t,form:n,onSubmit:l=>{i.mutate(l,{onSuccess:()=>{s()}})}})}),e.jsxs(ue,{children:[e.jsx(f,{onClick:()=>{s()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{form:t,disabled:i.isLoading,variant:"flat",color:"primary",type:"submit",children:e.jsx(r,{message:"Save"})})]})]})}function Gu(s){const{trans:t}=R();return H(a=>Ku(a),{onSuccess:()=>{U(t(h("Tag updated"))),D.invalidateQueries(X("tags"))},onError:a=>je(a,s)})}function Ku({id:s,...t}){return P.put(`tags/${s}`,t).then(a=>a.data)}function Qu({tag:s}){const{close:t,formId:a}=Q(),n=G({defaultValues:{id:s.id,name:s.name,display_name:s.display_name,type:s.type}}),i=Gu(n);return e.jsxs(se,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Update “:name“ tag",values:{name:s.name}})}),e.jsx(ae,{children:e.jsx(Jn,{formId:a,form:n,onSubmit:l=>{i.mutate(l,{onSuccess:()=>{t()}})}})}),e.jsxs(ue,{children:[e.jsx(f,{onClick:()=>{t()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{form:a,disabled:i.isLoading,variant:"flat",color:"primary",type:"submit",children:e.jsx(r,{message:"Save"})})]})]})}const Yu=[{key:"name",allowsSorting:!0,visibleInMode:"all",width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Name"}),body:s=>s.name},{key:"type",allowsSorting:!0,header:()=>e.jsx(r,{message:"Type"}),body:s=>s.type},{key:"display_name",allowsSorting:!0,header:()=>e.jsx(r,{message:"Display name"}),body:s=>s.display_name},{key:"updated_at",allowsSorting:!0,width:"w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(pe,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-42 flex-shrink-0",visibleInMode:"all",body:s=>e.jsxs($,{type:"modal",children:[e.jsx(_,{size:"md",className:"text-muted",children:e.jsx(De,{})}),e.jsx(Qu,{tag:s})]})}];function Ju(){const{tags:s}=d.useContext(Ge),t=d.useMemo(()=>Uu(s.types),[s.types]);return e.jsx(Qe,{endpoint:"tags",title:e.jsx(r,{message:"Tags"}),columns:Yu,filters:t,actions:e.jsx(Zu,{}),selectedActions:e.jsx(rs,{}),emptyStateMessage:e.jsx(Ee,{image:Yn,title:e.jsx(r,{message:"No tags have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching tags"})})})}function Zu(){return e.jsx(e.Fragment,{children:e.jsxs($,{type:"modal",children:[e.jsx(is,{children:e.jsx(r,{message:"Add new tag"})}),e.jsx(Wu,{})]})})}const Xu=d.memo(({bytes:s})=>e.jsx(d.Fragment,{children:Ea(s)})),em=T(e.jsx("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"}),"VisibilityOutlined"),sm=""+new URL("upload-cabfc914.svg",import.meta.url).href,tm=[{key:"name",allowsSorting:!0,visibleInMode:"all",width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Name"}),body:s=>e.jsxs(d.Fragment,{children:[e.jsx("div",{className:"overflow-x-hidden overflow-ellipsis",children:s.name}),e.jsx("div",{className:"text-muted text-xs overflow-x-hidden overflow-ellipsis",children:s.file_name})]})},{key:"owner_id",allowsSorting:!0,width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Uploader"}),body:s=>{var a;const t=(a=s.users)==null?void 0:a[0];return t?e.jsx(gs,{image:t.avatar,label:t.display_name,description:t.email}):null}},{key:"type",width:"w-100 flex-shrink-0",allowsSorting:!0,header:()=>e.jsx(r,{message:"Type"}),body:s=>e.jsxs("div",{className:"flex items-center gap-12",children:[e.jsx(Dr,{type:s.type,className:"w-24 h-24 overflow-hidden"}),e.jsx("div",{className:"capitalize",children:s.type})]})},{key:"public",allowsSorting:!0,width:"w-60 flex-shrink-0",header:()=>e.jsx(r,{message:"Public"}),body:s=>s.public?e.jsx(va,{className:"icon-md text-positive"}):e.jsx(qe,{className:"icon-md text-danger"})},{key:"file_size",allowsSorting:!0,maxWidth:"max-w-100",header:()=>e.jsx(r,{message:"File size"}),body:s=>e.jsx(Xu,{bytes:s.file_size})},{key:"updated_at",allowsSorting:!0,width:"w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(pe,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-42 flex-shrink-0",visibleInMode:"all",body:s=>e.jsxs($,{type:"modal",children:[e.jsx(_,{size:"md",className:"text-muted",children:e.jsx(em,{})}),e.jsx(wi,{entries:[s]})]})}];function am(){return e.jsx(Qe,{endpoint:"file-entries",title:e.jsx(r,{message:"Uploaded files and folders"}),columns:tm,filters:yi,selectedActions:e.jsx(rs,{}),emptyStateMessage:e.jsx(Ee,{image:sm,title:e.jsx(r,{message:"Nothing has been uploaded yet"}),filteringTitle:e.jsx(r,{message:"No matching files or folders"})})})}const nm=[{key:"ends_at",label:h("Status"),description:h("Whether subscription is active or cancelled"),defaultOperator:re.eq,control:{type:ce.Select,defaultValue:"active",options:[{key:"active",label:h("Active"),value:{value:null,operator:re.eq}},{key:"cancelled",label:h("Cancelled"),value:{value:null,operator:re.ne}}]}},{control:{type:ce.Select,defaultValue:"stripe",options:[{key:"stripe",label:h("Stripe"),value:"stripe"},{key:"paypal",label:h("PayPal"),value:"paypal"},{key:"none",label:h("None"),value:"none"}]},key:"gateway_name",label:h("Gateway"),description:h("With which payment provider was subscription created"),defaultOperator:re.eq},Si({key:"renews_at",label:h("Renew date"),description:h("Date subscription will renew")}),hs({description:h("Date subscription was created")}),xs({description:h("Date subscription was last updated")})],rm=""+new URL("subscriptions-7eacea42.svg",import.meta.url).href;function im(s){const{trans:t}=R();return H(a=>lm(a),{onSuccess:()=>{U(t(h("Subscription updated"))),D.invalidateQueries(X("billing/subscriptions"))},onError:a=>je(a,s)})}function lm({id:s,...t}){return P.put(`billing/subscriptions/${s}`,t).then(a=>a.data)}function Zn({form:s,onSubmit:t,formId:a}){var o,c;const n=Rr(),i=s.watch("product_id"),l=(o=n.data)==null?void 0:o.products.find(m=>m.id===i);return e.jsxs(de,{id:a,form:s,onSubmit:t,children:[e.jsx(ki,{name:"user_id",className:"mb-20",modelType:Tt,label:e.jsx(r,{message:"User"})}),e.jsx(q,{name:"product_id",selectionMode:"single",className:"mb-20",label:e.jsx(r,{message:"Plan"}),children:(c=n.data)==null?void 0:c.products.filter(m=>!m.free).map(m=>e.jsx(p,{value:m.id,children:e.jsx(r,{message:m.name})},m.id))}),!(l!=null&&l.free)&&e.jsx(q,{name:"price_id",selectionMode:"single",className:"mb-20",label:e.jsx(r,{message:"Price"}),children:l==null?void 0:l.prices.map(m=>e.jsx(p,{value:m.id,children:e.jsx(Et,{price:m})},m.id))}),e.jsx(x,{inputElementType:"textarea",rows:3,name:"description",label:e.jsx(r,{message:"Description"}),className:"mb-20"}),e.jsx(ut,{className:"mb-20",name:"renews_at",granularity:"day",label:e.jsx(r,{message:"Renews at"}),description:e.jsx(r,{message:"This will only change local records. User will continue to be billed on their original cycle on the payment gateway."})}),e.jsx(ut,{className:"mb-20",name:"ends_at",granularity:"day",label:e.jsx(r,{message:"Ends at"}),description:e.jsx(r,{message:"This will only change local records. User will continue to be billed on their original cycle on the payment gateway."})})]})}function om({subscription:s}){const{close:t,formId:a}=Q(),n=G({defaultValues:{id:s.id,product_id:s.product_id,price_id:s.price_id,description:s.description,renews_at:s.renews_at,ends_at:s.ends_at,user_id:s.user_id}}),i=im(n);return e.jsxs(se,{size:"md",children:[e.jsx(ne,{children:e.jsx(r,{message:"Update subscription"})}),e.jsx(ae,{children:e.jsx(Zn,{formId:a,form:n,onSubmit:l=>{i.mutate(l,{onSuccess:()=>{t()}})}})}),e.jsxs(ue,{children:[e.jsx(f,{onClick:()=>{t()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{form:a,disabled:i.isLoading,variant:"flat",color:"primary",type:"submit",children:e.jsx(r,{message:"Save"})})]})]})}const Xn="billing/subscriptions";function cm(s){const{trans:t}=R();return H(a=>dm(a),{onSuccess:()=>{U(t(h("Subscription created"))),D.invalidateQueries(X(Xn))},onError:a=>je(a,s)})}function dm(s){return P.post(Xn,s).then(t=>t.data)}function um(){const{close:s,formId:t}=Q(),a=G({}),n=cm(a);return e.jsxs(se,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Add new subscription"})}),e.jsx(ae,{children:e.jsx(Zn,{formId:t,form:a,onSubmit:i=>{n.mutate(i,{onSuccess:()=>{s()}})}})}),e.jsxs(ue,{children:[e.jsx(f,{onClick:()=>{s()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{form:t,disabled:n.isLoading,variant:"flat",color:"primary",type:"submit",children:e.jsx(r,{message:"Save"})})]})]})}const mm=T(e.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"PauseOutlined"),hm=T(e.jsx("path",{d:"M10 8.64 15.27 12 10 15.36V8.64M8 5v14l11-7L8 5z"}),"PlayArrowOutlined"),st="billing/subscriptions",xm=[{key:"usr_id",allowsSorting:!0,width:"flex-3 min-w-200",visibleInMode:"all",header:()=>e.jsx(r,{message:"Customer"}),body:s=>e.jsx(gs,{image:s.user.avatar,label:s.user.display_name,description:s.user.email})},{key:"status",width:"w-100 flex-shrink-0",header:()=>e.jsx(r,{message:"Status"}),body:s=>s.valid?e.jsx(dt,{size:"xs",color:"positive",radius:"rounded",className:"w-max",children:e.jsx(r,{message:"Active"})}):e.jsx(dt,{size:"xs",radius:"rounded",className:"w-max",children:e.jsx(r,{message:"Cancelled"})})},{key:"product_id",allowsSorting:!0,header:()=>e.jsx(r,{message:"Plan"}),body:s=>{var t;return(t=s.product)==null?void 0:t.name}},{key:"gateway",allowsSorting:!0,header:()=>e.jsx(r,{message:"Gateway"}),body:s=>e.jsx("span",{className:"capitalize",children:s.gateway_name})},{key:"renews_at",allowsSorting:!0,header:()=>e.jsx(r,{message:"Renews at"}),body:s=>e.jsx(pe,{date:s.renews_at})},{key:"ends_at",allowsSorting:!0,header:()=>e.jsx(r,{message:"Ends at"}),body:s=>e.jsx(pe,{date:s.ends_at})},{key:"created_at",allowsSorting:!0,header:()=>e.jsx(r,{message:"Created at"}),body:s=>e.jsx(pe,{date:s.created_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",visibleInMode:"all",width:"w-128 flex-shrink-0",body:s=>e.jsx(jm,{subscription:s})}];function gm(){return e.jsx(Qe,{endpoint:st,title:e.jsx(r,{message:"Subscriptions"}),columns:xm,filters:nm,actions:e.jsx(pm,{}),enableSelection:!1,selectedActions:e.jsx(rs,{}),queryParams:{with:"product"},emptyStateMessage:e.jsx(Ee,{image:rm,title:e.jsx(r,{message:"No subscriptions have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching subscriptions"})})})}function pm(){return e.jsx(e.Fragment,{children:e.jsxs($,{type:"modal",children:[e.jsx(is,{children:e.jsx(r,{message:"Add new subscription"})}),e.jsx(um,{})]})})}function jm({subscription:s}){return e.jsxs(d.Fragment,{children:[e.jsxs($,{type:"modal",children:[e.jsx(_,{size:"md",className:"text-muted",children:e.jsx(De,{})}),e.jsx(om,{subscription:s})]}),s.cancelled?e.jsx(bm,{subscription:s}):e.jsx(fm,{subscription:s}),e.jsx(vm,{subscription:s})]})}function fm({subscription:s}){const t=La(),a=()=>{t.mutate({subscriptionId:s.id},{onSuccess:()=>{D.invalidateQueries(X(st))}})};return e.jsxs($,{type:"modal",onClose:n=>{n&&a()},children:[e.jsx(Ae,{label:e.jsx(r,{message:"Cancel subscription"}),children:e.jsx(_,{size:"md",className:"text-muted",disabled:t.isLoading,children:e.jsx(mm,{})})}),e.jsx($e,{title:e.jsx(r,{message:"Cancel subscription"}),body:e.jsxs("div",{children:[e.jsx(r,{message:"Are you sure you want to cancel this subscription?"}),e.jsx("div",{className:"font-semibold text-sm mt-10",children:e.jsx(r,{message:"This will put user on grace period until their next scheduled renewal date. Subscription can be renewed until that date by user or from admin area."})})]}),confirm:e.jsx(r,{message:"Confirm"})})]})}function bm({subscription:s}){const t=Fi(),a=()=>{t.mutate({subscriptionId:s.id},{onSuccess:()=>{D.invalidateQueries(X(st))}})};return e.jsxs($,{type:"modal",onClose:n=>{n&&a()},children:[e.jsx(Ae,{label:e.jsx(r,{message:"Renew subscription"}),children:e.jsx(_,{size:"md",className:"text-muted",onClick:a,disabled:t.isLoading,children:e.jsx(hm,{})})}),e.jsx($e,{title:e.jsx(r,{message:"Resume subscription"}),body:e.jsxs("div",{children:[e.jsx(r,{message:"Are you sure you want to resume this subscription?"}),e.jsx("div",{className:"font-semibold text-sm mt-10",children:e.jsx(r,{message:"This will put user on their original plan and billing cycle."})})]}),confirm:e.jsx(r,{message:"Confirm"})})]})}function vm({subscription:s}){const t=La(),a=()=>{t.mutate({subscriptionId:s.id,delete:!0},{onSuccess:()=>{D.invalidateQueries(X(st))}})};return e.jsxs($,{type:"modal",onClose:n=>{n&&a()},children:[e.jsx(Ae,{label:e.jsx(r,{message:"Delete subscription"}),children:e.jsx(_,{size:"md",className:"text-muted",disabled:t.isLoading,children:e.jsx(qe,{})})}),e.jsx($e,{isDanger:!0,title:e.jsx(r,{message:"Delete subscription"}),body:e.jsxs("div",{children:[e.jsx(r,{message:"Are you sure you want to delete this subscription?"}),e.jsx("div",{className:"font-semibold text-sm mt-10",children:e.jsx(r,{message:"This will permanently delete the subscription and immediately cancel it on billing gateway. Subscription will not be renewable anymore."})})]}),confirm:e.jsx(r,{message:"Confirm"})})]})}const ym=T(e.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"SyncOutlined");function wm(){const{trans:s}=R();return H(()=>Sm(),{onSuccess:()=>{U(s(h("Plans synced")))},onError:t=>le(t,h("Could not sync plans"))})}function Sm(){return P.post("billing/products/sync").then(s=>s.data)}const km=s=>`billing/products/${s}`;function Nm(){const{trans:s}=R();return H(t=>Cm(t),{onSuccess:()=>{U(s(h("Plan deleted"))),D.invalidateQueries(X("billing/products"))},onError:t=>le(t)})}function Cm({productId:s}){return P.delete(km(s)).then(t=>t.data)}const _m=[{key:"subscriptions",label:h("Subscriptions"),description:h("Whether plan has any active subscriptions"),defaultOperator:re.eq,control:{type:ce.Select,defaultValue:"01",options:[{key:"01",label:h("Has active subscriptions"),value:{value:"*",operator:re.has}},{key:"02",label:h("Does not have active subscriptions"),value:{value:"*",operator:re.doesntHave}}]}},hs({description:h("Date plan was created")}),xs({description:h("Date plan was last updated")})],Fm=[{key:"name",allowsSorting:!0,visibleInMode:"all",header:()=>e.jsx(r,{message:"Name"}),body:s=>{const t=s.prices[0];return e.jsx(gs,{label:s.name,description:s.free?e.jsx(r,{message:"Free"}):e.jsx(Et,{price:t})})}},{key:"created_at",allowsSorting:!0,maxWidth:"max-w-100",header:()=>e.jsx(r,{message:"Created"}),body:s=>e.jsx(pe,{date:s.created_at})},{key:"updated_at",allowsSorting:!0,maxWidth:"max-w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(pe,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),visibleInMode:"all",hideHeader:!0,align:"end",maxWidth:"max-w-84",body:s=>e.jsxs(d.Fragment,{children:[e.jsx(_,{size:"md",className:"text-muted",elementType:J,to:`/admin/plans/${s.id}/edit`,children:e.jsx(De,{})}),e.jsx(Im,{product:s})]})}];function zm(){const s=he();return e.jsx(Qe,{endpoint:"billing/products",title:e.jsx(r,{message:"Subscription plans"}),columns:Fm,actions:e.jsx(Am,{}),enableSelection:!1,filters:_m,onRowAction:t=>{s(`/admin/plans/${t.id}/edit`)},emptyStateMessage:e.jsx(Ee,{image:Yn,title:e.jsx(r,{message:"No plans have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching plans"})})})}function Im({product:s}){const t=Nm();return e.jsxs($,{type:"modal",onClose:a=>{a&&t.mutate({productId:s.id})},children:[e.jsx(Ae,{label:e.jsx(r,{message:"Delete plan"}),children:e.jsx(_,{size:"md",className:"text-muted",disabled:t.isLoading,children:e.jsx(Xs,{})})}),e.jsx($e,{title:e.jsx(r,{message:"Delete plan"}),body:e.jsx(r,{message:"Are you sure you want to delete this plan?"}),confirm:e.jsx(r,{message:"Delete"})})]})}function Am(){const s=wm();return e.jsxs(d.Fragment,{children:[e.jsx(Ae,{label:e.jsx(r,{message:"Sync plans with Stripe & PayPal"}),children:e.jsx(_,{color:"primary",variant:"outline",radius:"rounded",size:"sm",disabled:s.isLoading,onClick:()=>{s.mutate()},children:e.jsx(ym,{})})}),e.jsx(is,{elementType:J,to:"/admin/plans/new",children:e.jsx(r,{message:"Add new plan"})})]})}const er=s=>`billing/products/${s}`;function Em(){const{productId:s}=fe();return Be([er(s)],()=>Pm(s))}function Pm(s){return P.get(er(s)).then(t=>t.data)}const bt=[{key:"day1",label:h("Daily"),interval:"day",interval_count:1},{key:"week1",label:h("Weekly"),interval:"week",interval_count:1},{key:"month1",label:h("Monthly"),interval:"month",interval_count:1},{key:"month3",label:h("Every 3 months"),interval:"month",interval_count:3},{key:"month6",label:h("Every 6 months"),interval:"month",interval_count:6},{key:"year1",label:h("Yearly"),interval:"year",interval_count:1},{key:"custom",label:h("Custom"),interval:null,interval_count:null}];function $m({index:s,onRemovePrice:t}){const{trans:a}=R(),n=Ce(["currencies"]),i=d.useMemo(()=>{var S;return(S=n.data)!=null&&S.currencies?Object.values(n.data.currencies):[]},[n.data]),{watch:l,getValues:o}=E(),c=!l("id"),m=l(`prices.${s}.id`)==null,u=l(`prices.${s}.subscriptions_count`)||0,[g,j]=d.useState(()=>{const S=o(`prices.${s}.interval`),A=o(`prices.${s}.interval_count`),k=bt.find(N=>N.key===`${S}${A}`);return k?k.key:"custom"}),b=c||m||!u;return e.jsxs(d.Fragment,{children:[!b&&e.jsx("p",{className:"text-muted text-sm max-w-500 mb-20",children:e.jsx(r,{message:"This price can't modified or deleted, because it has [one 1 subscriber|other :count subscribers]. You can instead add a new price.",values:{count:u}})}),e.jsx(x,{required:!0,disabled:!b,label:e.jsx(r,{message:"Amount"}),type:"number",min:.1,step:.01,name:`prices.${s}.amount`,className:"mb-20"}),e.jsx(q,{required:!0,disabled:!b,label:e.jsx(r,{message:"Currency"}),name:`prices.${s}.currency`,items:i,showSearchField:!0,searchPlaceholder:a(h("Search currencies")),selectionMode:"single",className:"mb-20",children:S=>e.jsx(p,{value:S.code,children:`${S.code}: ${S.name}`},S.code)}),e.jsx(Tm,{disabled:!b,index:s,value:g,onValueChange:j}),g==="custom"&&e.jsx(Lm,{disabled:!b,index:s}),e.jsx("div",{className:"text-right",children:e.jsx(f,{size:"xs",variant:"outline",color:"danger",disabled:!b,onClick:()=>{t()},children:e.jsx(r,{message:"Delete price"})})})]})}function Tm({index:s,value:t,onValueChange:a,disabled:n}){const{setValue:i}=E();return e.jsx(Gs,{label:e.jsx(r,{message:"Billing period"}),disabled:n,className:"mb-20",selectionMode:"single",selectedValue:t,onSelectionChange:l=>{if(a(l),l!=="custom"){const o=bt.find(c=>c.key===l);o&&(i(`prices.${s}.interval`,o.interval),i(`prices.${s}.interval_count`,o.interval_count))}},children:bt.map(l=>e.jsx(p,{value:l.key,children:e.jsx(r,{...l.label})},l.key))})}function Lm({index:s,disabled:t}){const{watch:a}=E(),n=a(`prices.${s}.interval`);let i;return n==="day"?i=365:n==="week"?i=52:i=12,e.jsxs("div",{className:"flex border rounded w-min",children:[e.jsx("div",{className:"px-18 flex items-center text-sm",children:e.jsx(r,{message:"Every"})}),e.jsx(x,{inputShadow:"shadow-none",inputBorder:"border-none",className:"border-l border-r w-80",name:`prices.${s}.interval_count`,type:"number",min:1,max:i,disabled:t,required:!0}),e.jsxs(q,{inputShadow:"shadow-none",inputBorder:"border-none",name:`prices.${s}.interval`,selectionMode:"single",disabled:t,children:[e.jsx(p,{value:"day",children:e.jsx(r,{message:"Days"})}),e.jsx(p,{value:"week",children:e.jsx(r,{message:"Weeks"})}),e.jsx(p,{value:"month",children:e.jsx(r,{message:"Months"})})]})]})}function sr(){return e.jsxs(d.Fragment,{children:[e.jsx(x,{name:"name",label:e.jsx(r,{message:"Name"}),className:"mb-20",required:!0,autoFocus:!0}),e.jsx(x,{name:"description",label:e.jsx(r,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4}),e.jsxs(q,{name:"position",selectionMode:"single",label:e.jsx(r,{message:"Position in pricing table"}),className:"mb-20",children:[e.jsx(p,{value:0,children:e.jsx(r,{message:"First"})}),e.jsx(p,{value:1,children:e.jsx(r,{message:"Second"})}),e.jsx(p,{value:2,children:e.jsx(r,{message:"Third"})}),e.jsx(p,{value:3,children:e.jsx(r,{message:"Fourth"})}),e.jsx(p,{value:4,children:e.jsx(r,{message:"Fifth"})})]}),e.jsx(ws,{className:"mb-30",name:"available_space",label:e.jsx(r,{message:"Allowed storage space"}),description:e.jsx(r,{values:{a:s=>e.jsx(J,{className:It,target:"_blank",to:"/admin/settings/uploading",children:s})},message:"Total storage space all user uploads are allowed to take up."})}),e.jsx(M,{name:"recommended",className:"mb-20",description:e.jsx(r,{message:"Plan will be displayed more prominently on pricing page."}),children:e.jsx(r,{message:"Recommend"})}),e.jsx(M,{name:"hidden",className:"mb-20",description:e.jsx(r,{message:"Plan will not be shown on pricing or upgrade pages."}),children:e.jsx(r,{message:"Hidden"})}),e.jsx(M,{name:"free",className:"mb-20",description:e.jsx(r,{message:"Will be assigned to all users, if they are not subscribed already."}),children:e.jsx(r,{message:"Free"})}),e.jsx(vt,{children:e.jsx(r,{message:"Feature list"})}),e.jsx(Mm,{}),e.jsx(Dm,{}),e.jsx(vt,{children:e.jsx(r,{message:"Permissions"})}),e.jsx(Ot,{name:"permissions"})]})}function vt({children:s}){return e.jsx("h2",{className:"mt-40 mb-20 text-base font-semibold",children:s})}function Mm(){const{fields:s,append:t,remove:a}=_e({name:"feature_list"});return e.jsxs("div",{children:[s.map((n,i)=>e.jsxs("div",{className:"flex gap-10 mb-10",children:[e.jsx(x,{name:`feature_list.${i}.value`,size:"sm",className:"flex-auto"}),e.jsx(_,{size:"sm",color:"primary",className:"flex-shrink-0",onClick:()=>{a(i)},children:e.jsx(qe,{})})]},n.id)),e.jsx(f,{variant:"text",color:"primary",startIcon:e.jsx(Se,{}),size:"xs",onClick:()=>{t({value:""})},children:e.jsx(r,{message:"Add another line"})})]})}function Dm(){var l;const{watch:s,formState:{errors:t}}=E(),{fields:a,append:n,remove:i}=_e({name:"prices",keyName:"key"});return s("free")?null:e.jsxs(d.Fragment,{children:[e.jsx(vt,{children:e.jsx(r,{message:"Pricing"})}),((l=t.prices)==null?void 0:l.message)&&e.jsx("div",{className:"text-sm text-danger mb-20",children:t.prices.message}),e.jsx(Ke,{variant:"outline",className:"mb-10",children:a.map((o,c)=>e.jsx(we,{label:e.jsx(Et,{price:o}),children:e.jsx($m,{index:c,onRemovePrice:()=>{i(c)}})},o.key))}),e.jsx(f,{variant:"text",color:"primary",startIcon:e.jsx(Se,{}),size:"xs",onClick:()=>{n({currency:"USD",amount:1,interval_count:1,interval:"month"})},children:e.jsx(r,{message:"Add another price"})})]})}const tr=s=>`billing/products/${s}`;function Rm(s){const{trans:t}=R(),a=he();return H(n=>Vm(n),{onSuccess:n=>{U(t(h("Plan updated"))),D.invalidateQueries([tr(n.product.id)]),D.invalidateQueries(X("billing/products")),a("/admin/plans")},onError:n=>je(n,s)})}function Vm({id:s,...t}){const a={...t,feature_list:t.feature_list.map(n=>n.value)};return P.put(tr(s),a).then(n=>n.data)}function Om(){const s=Em();return s.status!=="success"?e.jsx(We,{}):e.jsx(Hm,{product:s.data.product})}function Hm({product:s}){const t=G({defaultValues:{...s,feature_list:s.feature_list.map(n=>({value:n}))}}),a=Rm(t);return e.jsx(Ts,{form:t,onSubmit:n=>{a.mutate(n)},title:e.jsx(r,{message:"Edit “:name“ plan",values:{name:s.name}}),isLoading:a.isLoading,children:e.jsx(sr,{})})}const ar="billing/products";function Um(s){const{trans:t}=R(),a=he();return H(n=>Bm(n),{onSuccess:()=>{U(t(h("Plan created"))),D.invalidateQueries([ar]),D.invalidateQueries(X("billing/products")),a("/admin/plans")},onError:n=>je(n,s)})}function Bm(s){const t={...s,feature_list:s.feature_list.map(a=>a.value)};return P.post(ar,t).then(a=>a.data)}function qm(){const s=G({defaultValues:{free:!1,recommended:!1}}),t=Um(s);return e.jsx(Ts,{form:s,onSubmit:a=>{t.mutate(a)},title:e.jsx(r,{message:"Create new plan"}),isLoading:t.isLoading,children:e.jsx(sr,{})})}function Wm(){return e.jsxs(be,{title:e.jsx(r,{message:"GDPR"}),description:e.jsx(r,{message:"Configure settings related to EU General Data Protection Regulation."}),children:[e.jsx(Gm,{}),e.jsx(Me,{}),e.jsx(Km,{})]})}function Gm(){const{watch:s}=E(),t=s("client.cookie_notice.enable");return e.jsxs("div",{children:[e.jsx(M,{name:"client.cookie_notice.enable",className:"mb-20",description:e.jsx(r,{message:"Whether cookie notice should be shown automatically to users from EU until it is accepted."}),children:e.jsx(r,{message:"Enable cookie notice"})}),t&&e.jsxs(d.Fragment,{children:[e.jsxs("div",{className:"border-b pb-6 mb-20",children:[e.jsx("div",{className:"text-sm font-medium border-b pb-10 mb-20",children:e.jsx(r,{message:"Information button"})}),e.jsx(cs,{hideRoleAndPermissionFields:!0,formPathPrefix:"client.cookie_notice.button"})]}),e.jsxs(q,{name:"client.cookie_notice.position",selectionMode:"single",label:e.jsx(r,{message:"Cookie notice position"}),className:"mb-20",children:[e.jsx(p,{value:"top",children:e.jsx(r,{message:"Top"})}),e.jsx(p,{value:"bottom",children:e.jsx(r,{message:"Bottom"})})]})]})]})}function Km(){const{fields:s,append:t,remove:a}=_e({name:"client.registration.policies"});return e.jsxs(d.Fragment,{children:[e.jsx("div",{className:"mb-6 text-sm",children:e.jsx(r,{message:"Registration policies"})}),e.jsx("div",{className:"text-xs text-muted",children:e.jsx(r,{message:"Create policies that will be shown on registration page. User will be required to accept them by toggling a checkbox."})}),e.jsx(Ke,{className:"mt-16",variant:"outline",children:s.map((n,i)=>e.jsx(we,{label:n.label,chevronPosition:"left",endAppend:e.jsx(_,{radius:"rounded",variant:"text",color:"danger",size:"sm",onClick:()=>{a(i)},children:e.jsx(qe,{})}),children:e.jsx(cs,{hideRoleAndPermissionFields:!0,formPathPrefix:`client.register_policies.${i}`})},n.id))}),e.jsxs($,{type:"modal",onClose:n=>{n&&t(n)},children:[e.jsx(f,{className:"mt-12",variant:"link",color:"primary",startIcon:e.jsx(Se,{}),size:"xs",children:e.jsx(r,{message:"Add another policy"})}),e.jsx(Pn,{title:e.jsx(r,{message:"Add policy"})})]})]})}const Qm=[];function Ym(s){const{pageId:t}=fe(),a=`${s||"custom-pages"}/${t}`;return H(n=>Jm(n,a),{onError:n=>le(n),onSuccess:async()=>{await D.invalidateQueries(["custom-pages"]),await D.invalidateQueries(X(a)),U(h("Page updated"))}})}function Jm(s,t){return P.put(`${t}`,s).then(a=>a.data)}function nr(){const[s,t]=d.useState(!1),{trans:a}=R(),i=E().watch("title"),l=a({message:"Title"});return s?e.jsx(x,{placeholder:l,autoFocus:!0,className:"mb-30",onBlur:()=>{t(!1)},name:"title",required:!0}):e.jsxs("h1",{tabIndex:0,onClick:()=>{t(!0)},onFocus:()=>{t(!0)},className:y("hover:bg-primary/focus rounded cursor-pointer",!i&&"text-muted"),children:[i||l,e.jsx(De,{className:"icon-sm mx-8 mt-8 align-top text-muted"})]})}var rr={exports:{}};(function(s,t){(function(a,n,i){s.exports=i(),s.exports.default=i()})("slugify",Vr,function(){var a=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","Ա":"A","Բ":"B","Գ":"G","Դ":"D","Ե":"E","Զ":"Z","Է":"E'","Ը":"Y'","Թ":"T'","Ժ":"JH","Ի":"I","Լ":"L","Խ":"X","Ծ":"C'","Կ":"K","Հ":"H","Ձ":"D'","Ղ":"GH","Ճ":"TW","Մ":"M","Յ":"Y","Ն":"N","Շ":"SH","Չ":"CH","Պ":"P","Ջ":"J","Ռ":"R'","Ս":"S","Վ":"V","Տ":"T","Ր":"R","Ց":"C","Փ":"P'","Ք":"Q'","Օ":"O''","Ֆ":"F","և":"EV","ء":"a","آ":"aa","أ":"a","ؤ":"u","إ":"i","ئ":"e","ا":"a","ب":"b","ة":"h","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ى":"a","ي":"y","ً":"an","ٌ":"on","ٍ":"en","َ":"a","ُ":"u","ِ":"e","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","پ":"p","چ":"ch","ژ":"zh","ک":"k","گ":"g","ی":"y","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ṣ":"S","ṣ":"s","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"'","’":"'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial","ﻵ":"laa","ﻷ":"laa","ﻹ":"lai","ﻻ":"la"}`),n=JSON.parse('{"bg":{"Й":"Y","Ц":"Ts","Щ":"Sht","Ъ":"A","Ь":"Y","й":"y","ц":"ts","щ":"sht","ъ":"a","ь":"y"},"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","ß":"ss","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"},"da":{"Ø":"OE","ø":"oe","Å":"AA","å":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"større end"},"nb":{"&":"og","Å":"AA","Æ":"AE","Ø":"OE","å":"aa","æ":"ae","ø":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","Å":"AA","Ä":"AE","Ö":"OE","å":"aa","ä":"ae","ö":"oe"}}');function i(l,o){if(typeof l!="string")throw new Error("slugify: string argument expected");o=typeof o=="string"?{replacement:o}:o||{};var c=n[o.locale]||{},m=o.replacement===void 0?"-":o.replacement,u=o.trim===void 0?!0:o.trim,g=l.normalize().split("").reduce(function(j,b){var S=c[b];return S===void 0&&(S=a[b]),S===void 0&&(S=b),S===m&&(S=" "),j+S.replace(o.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return o.strict&&(g=g.replace(/[^A-Za-z0-9\s]/g,"")),u&&(g=g.trim()),g=g.replace(/\s+/g,m),o.lower&&(g=g.toLowerCase()),g}return i.extend=function(l){Object.assign(a,l)},i})})(rr);var Zm=rr.exports;const Xm=Or(Zm);function eh(s,t="-",a=!1){if(!s)return s;let n=Xm(s,{lower:!0,replacement:t,strict:a,remove:/[*+~.()'"!:@?\|/\\]/g});return n||(n=s.replace(/\s+/g,"-").toLowerCase()),n}function sh({host:s,value:t="",placeholder:a,onChange:n,className:i,inputRef:l,onInputBlur:o,showLinkIcon:c=!0,pattern:m,minLength:u,maxLength:g,hideButton:j,...b}){const{base_url:S}=ke(),A=b.prefix?`/${b.prefix}`:"",k=b.suffix?`/${b.suffix}`:"",[N,z]=d.useState(!1),[C,w]=d.useState(t);s=s||S,d.useEffect(()=>{w(t)},[t]);const O=()=>{N?(z(!1),C&&(n==null||n(C))):z(!0)};let I="";return C?I=C:a&&(I=eh(a)),e.jsxs("div",{className:y("flex items-center",i),children:[c&&e.jsx(Lt,{className:"icon-md text-muted"}),e.jsxs("div",{className:"text-primary ml-6 mr-14",children:[s,A,!N&&I&&e.jsxs(d.Fragment,{children:[e.jsx("span",{children:"/"}),e.jsx("span",{className:"font-medium",children:I})]}),N?null:k]}),N&&e.jsx(ss,{pattern:m,minLength:u,maxLength:g,onKeyDown:B=>{B.key==="Enter"&&O()},ref:l,"aria-label":"slug",autoFocus:!0,className:"mr-14",size:"2xs",value:C,onBlur:o,onChange:B=>{w(B.target.value)}}),!j&&e.jsx(f,{type:"button",color:"chip",variant:"outline",size:"2xs",onClick:()=>{O()},children:N?e.jsx(r,{message:"Save"}):e.jsx(r,{message:"Edit"})})]})}const th=T(e.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),"UndoOutlined"),ah=T(e.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"RedoOutlined");function nh({editor:s}){return e.jsxs("span",{children:[e.jsx(_,{size:"md",radius:"rounded",disabled:!s.can().undo(),onClick:()=>{s.commands.focus(),s.commands.undo()},children:e.jsx(th,{})}),e.jsx(_,{size:"md",radius:"rounded",disabled:!s.can().redo(),onClick:()=>{s.commands.focus(),s.commands.redo()},children:e.jsx(ah,{})})]})}const ir=T(e.jsx("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"CodeOutlined");function rh({editor:s}){return e.jsxs($,{type:"modal",onClose:t=>{t!=null&&(s==null||s.commands.setContent(t))},children:[e.jsx(f,{variant:"text",startIcon:e.jsx(ir,{}),children:e.jsx(r,{message:"Source"})}),e.jsx(Bt,{title:e.jsx(r,{message:"Source code"}),defaultValue:s.getHTML()})]})}function ds(){return e.jsx("div",{className:"self-stretch mx-4 w-1 bg-divider flex-shrink-0"})}const ih=T(e.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"}),"FormatBoldOutlined"),lh=T(e.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z"}),"FormatItalicOutlined"),oh=T(e.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"}),"FormatUnderlinedOutlined");function ch({editor:s,size:t}){return e.jsxs("span",{className:y("flex-shrink-0 whitespace-nowrap"),children:[e.jsx(_,{size:t,radius:"rounded",color:s.isActive("bold")?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleBold()},children:e.jsx(ih,{})}),e.jsx(_,{size:t,radius:"rounded",color:s.isActive("italic")?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleItalic()},children:e.jsx(lh,{})}),e.jsx(_,{size:t,radius:"rounded",color:s.isActive("underline")?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleUnderline()},children:e.jsx(oh,{})})]})}const dh=T(e.jsx("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),"FormatListBulletedOutlined"),uh=T(e.jsx("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}),"FormatListNumberedOutlined");function mh({editor:s,size:t}){const a=s.isActive("bulletList"),n=s.isActive("orderedList");return e.jsxs("span",{className:y("flex-shrink-0","whitespace-nowrap"),children:[e.jsx(_,{size:t,radius:"rounded",color:a?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleBulletList()},children:e.jsx(dh,{})}),e.jsx(_,{size:t,radius:"rounded",color:n?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleOrderedList()},children:e.jsx(uh,{})})]})}function hh({editor:s,size:t}){return e.jsxs($,{type:"modal",children:[e.jsx(_,{size:t,radius:"rounded",className:y("flex-shrink-0"),children:e.jsx(Lt,{})}),e.jsx(xh,{editor:s})]})}function xh({editor:s}){const t=s.getAttributes("link").href,a=s.state.doc.textBetween(s.state.selection.from,s.state.selection.to,""),n=G({defaultValues:{href:t,text:a}}),{formId:i,close:l}=Q();return e.jsxs(se,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Insert link"})}),e.jsx(ae,{children:e.jsxs(de,{form:n,id:i,onSubmit:o=>{s.state.selection.empty&&o.text?s.commands.insertContent(`<a href="${o.href}" target="${o.target}">${o.text}</a>`):s.state.selection.empty||(o.href?s.chain().focus().extendMarkRange("link").setLink({href:o.href,target:o.target}).run():s.chain().focus().extendMarkRange("link").unsetLink().run()),l()},children:[e.jsx(x,{name:"href",label:e.jsx(r,{message:"URL"}),autoFocus:!0,type:"url",className:"mb-20"}),e.jsx(x,{name:"text",label:e.jsx(r,{message:"Text to display"}),className:"mb-20"}),e.jsxs(q,{selectionMode:"single",name:"target",label:e.jsx(r,{message:"Open link in..."}),children:[e.jsx(p,{value:"_self",children:e.jsx(r,{message:"Current window"})}),e.jsx(p,{value:"_blank",children:e.jsx(r,{message:"New window"})})]})]})}),e.jsxs(ue,{children:[e.jsx(f,{onClick:l,variant:"text",children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{type:"submit",form:i,variant:"flat",color:"primary",children:e.jsx(r,{message:"Save"})})]})]})}const gh=T(e.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86-3 3.87L9 13.14 6 17h12l-3.86-5.14z"}),"ImageOutlined"),ph=2097152;function jh({editor:s,size:t}){const{selectAndUploadFile:a}=Hr(),n=()=>{a({showToastOnRestrictionFail:!0,restrictions:{allowedFileTypes:[Ur.image],maxFileSize:ph},metadata:{diskPrefix:"page_media",disk:Br.public},onSuccess:i=>{s.commands.focus(),s.commands.setImage({src:i.url})}})};return e.jsx(_,{size:t,radius:"rounded",onClick:n,className:y("flex-shrink-0"),children:e.jsx(gh,{})})}const fh=T(e.jsx("path",{d:"M20 8V5H6.39l3 3h1.83l-.55 1.28 2.09 2.1L14.21 8zM3.41 4.86 2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21l1.41-1.41z"}),"FormatClearOutlined");function bh({editor:s,size:t}){return e.jsx(_,{className:y("flex-shrink-0"),size:t,radius:"rounded",onClick:()=>{s.chain().focus().clearNodes().unsetAllMarks().run()},children:e.jsx(fh,{})})}const vh=T(e.jsx("path",{fillRule:"evenodd",d:"M4 11h16v2H4z"}),"HorizontalRuleOutlined"),yh=T([e.jsx("circle",{cx:"12",cy:"19",r:"2"},"0"),e.jsx("path",{d:"M10 3h4v12h-4z"},"1")],"PriorityHighOutlined"),wh=T(e.jsx("path",{d:"M16 4H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99h16c1.1 0 2-.9 2-2v-8l-6-6zM4 18.01V6h11v5h5v7.01H4z"}),"NoteOutlined"),Sh=T([e.jsx("path",{d:"M9.5 7.5v9l7-4.5z"},"0"),e.jsx("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14.01H4V5.99h16v12.02z"},"1")],"SmartDisplayOutlined");function kh({editor:s,size:t}){const[a,n]=d.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(Is,{onItemSelected:i=>{i==="hr"?(s.commands.focus(),s.commands.setHorizontalRule()):i==="embed"?n("embed"):(s.commands.focus(),s.commands.addInfo({type:i}))},children:[e.jsx(_,{variant:"text",size:t,radius:"rounded",className:y("flex-shrink-0"),children:e.jsx(Ta,{})}),e.jsxs(As,{children:[e.jsx(p,{value:"hr",startIcon:e.jsx(vh,{}),children:e.jsx(r,{message:"Horizontal rule"})}),e.jsx(p,{value:"embed",startIcon:e.jsx(Sh,{}),children:e.jsx(r,{message:"Embed"})}),e.jsx(p,{value:"important",startIcon:e.jsx(yh,{}),children:e.jsx(r,{message:"Important"})}),e.jsx(p,{value:"warning",startIcon:e.jsx(qr,{}),children:e.jsx(r,{message:"Warning"})}),e.jsx(p,{value:"success",startIcon:e.jsx(wh,{}),children:e.jsx(r,{message:"Note"})})]})]}),e.jsx($,{type:"modal",isOpen:!!a,onClose:()=>{n(!1)},children:e.jsx(Nh,{editor:s})})]})}function Nh({editor:s}){const t=s.getAttributes("embed").src,a=G({defaultValues:{src:t}}),{formId:n,close:i}=Q();return e.jsxs(se,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Insert link"})}),e.jsx(ae,{children:e.jsx(de,{form:a,id:n,onSubmit:l=>{s.commands.setEmbed(l),i()},children:e.jsx(x,{name:"src",label:e.jsx(r,{message:"Embed URL"}),autoFocus:!0,type:"url",required:!0})})}),e.jsxs(ue,{children:[e.jsx(f,{onClick:i,variant:"text",children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{type:"submit",form:n,disabled:!a.formState.isValid,variant:"flat",color:"primary",children:e.jsx(r,{message:"Add"})})]})]})}function Ie({children:s,modifier:t,separator:a="+"}){const n=Wr()?e.jsx("span",{className:"text-base align-middle",children:"⌘"}):"Ctrl";return e.jsxs("kbd",{className:"text-xs text-muted",children:[t&&e.jsxs(e.Fragment,{children:[n,a]}),s]})}function Ch({editor:s,size:t}){return e.jsxs(Is,{floatingMinWidth:"w-256",onItemSelected:a=>{s.commands.focus(),typeof a=="string"&&a.startsWith("h")?s.commands.toggleHeading({level:parseInt(a.replace("h",""))}):a==="code"?s.commands.toggleCode():a==="strike"?s.commands.toggleStrike():a==="super"?s.commands.toggleSuperscript():a==="sub"?s.commands.toggleSubscript():a==="blockquote"?s.commands.toggleBlockquote():a==="paragraph"&&s.commands.setParagraph()},children:[e.jsx(f,{className:y("flex-shrink-0"),variant:"text",size:t,endIcon:e.jsx(fa,{}),children:e.jsx(r,{message:"Format"})}),e.jsxs(As,{children:[e.jsx(p,{value:"h1",endSection:e.jsx(Ie,{modifier:!0,children:"Alt+1"}),children:e.jsx(r,{message:"Heading :number",values:{number:1}})}),e.jsx(p,{value:"h2",endSection:e.jsx(Ie,{modifier:!0,children:"Alt+2"}),children:e.jsx(r,{message:"Heading :number",values:{number:2}})}),e.jsx(p,{value:"h3",endSection:e.jsx(Ie,{modifier:!0,children:"Alt+3"}),children:e.jsx(r,{message:"Heading :number",values:{number:3}})}),e.jsx(p,{value:"h4",endSection:e.jsx(Ie,{modifier:!0,children:"Alt+4"}),children:e.jsx(r,{message:"Heading :number",values:{number:4}})}),e.jsx(p,{value:"code",endSection:e.jsx(Ie,{modifier:!0,children:"E"}),children:e.jsx(r,{message:"Code"})}),e.jsx(p,{value:"strike",endSection:e.jsx(Ie,{modifier:!0,children:"Shift+X"}),children:e.jsx(r,{message:"Strikethrough"})}),e.jsx(p,{value:"super",endSection:e.jsx(Ie,{modifier:!0,separator:" ",children:"."}),children:e.jsx(r,{message:"Superscript"})}),e.jsx(p,{value:"sub",endSection:e.jsx(Ie,{modifier:!0,separator:" ",children:","}),children:e.jsx(r,{message:"Subscript"})}),e.jsx(p,{value:"blockquote",endSection:e.jsx(Ie,{modifier:!0,children:"Shift+B"}),children:e.jsx(r,{message:"Blockquote"})}),e.jsx(p,{value:"paragraph",endSection:e.jsx(Ie,{modifier:!0,children:"Alt+0"}),children:e.jsx(r,{message:"Paragraph"})})]})]})}const _h=T(e.jsx("path",{d:"M2 20h20v4H2v-4zm3.49-3h2.42l1.27-3.58h5.65L16.09 17h2.42L13.25 3h-2.5L5.49 17zm4.42-5.61 2.03-5.79h.12l2.03 5.79H9.91z"}),"FormatColorTextOutlined"),Fh=T(e.jsx("path",{d:"M16.56 8.94 7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10 10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5zM2 20h20v4H2v-4z"}),"FormatColorFillOutlined");function zh({editor:s,size:t}){const[a,n]=d.useState(!1),i=s.getAttributes("textStyle").color,l=s.getAttributes("textStyle").backgroundColor;return e.jsxs(d.Fragment,{children:[e.jsxs("span",{className:y("flex-shrink-0 whitespace-nowrap"),children:[e.jsx(_,{size:t,radius:"rounded",color:i?"primary":null,onClick:()=>{n("text")},children:e.jsx(_h,{})}),e.jsx(_,{size:t,radius:"rounded",color:l?"primary":null,onClick:()=>{n("bg")},children:e.jsx(Fh,{})})]}),e.jsx($,{currentValue:a==="text"?"#000000":"#FFFFFF",type:"modal",isOpen:!!a,onClose:o=>{o&&(a==="text"?s.commands.setColor(o):s.commands.setBackgroundColor(o)),n(!1)},children:e.jsx(Vt,{defaultValue:a==="text"?"#000000":"#FFFFFF"})})]})}const Ih=T(e.jsx("path",{d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"}),"FormatAlignLeftOutlined"),Ah=T(e.jsx("path",{d:"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"}),"FormatAlignCenterOutlined"),Eh=T(e.jsx("path",{d:"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"}),"FormatAlignRightOutlined"),Ph=T(e.jsx("path",{d:"M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"}),"FormatAlignJustifyOutlined"),Os={left:{icon:Ih,label:h("Align left")},center:{icon:Ah,label:h("Align center")},right:{icon:Eh,label:h("Align right")},justify:{icon:Ph,label:h("Justify")}};function $h({editor:s,size:t}){const a=Object.keys(Os).find(i=>s.isActive({textAlign:i}))||"left",n=a?Os[a].icon:Os.left.icon;return e.jsxs(Is,{floatingWidth:"auto",selectionMode:"single",selectedValue:a,onSelectionChange:i=>{s.commands.focus(),s.commands.setTextAlign(i)},children:[e.jsx(_,{size:t,color:a?"primary":null,radius:"rounded",className:y("flex-shrink-0"),children:e.jsx(n,{})}),e.jsx(As,{children:Object.entries(Os).map(([i,l])=>{const o=l.icon;return e.jsx(p,{value:i,startIcon:e.jsx(o,{size:"md"}),capitalizeFirst:!0,children:e.jsx(r,{message:l.label.message})},i)})})]})}const Th=T(e.jsx("path",{d:"M11 17h10v-2H11v2zm-8-5 4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"}),"FormatIndentDecreaseOutlined"),Lh=T(e.jsx("path",{d:"M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"}),"FormatIndentIncreaseOutlined");function Mh({editor:s,size:t}){return e.jsxs("span",{className:y("flex-shrink-0","whitespace-nowrap"),children:[e.jsx(_,{size:t,radius:"rounded",onClick:()=>{s.commands.focus(),s.commands.outdent()},children:e.jsx(Th,{})}),e.jsx(_,{size:t,radius:"rounded",onClick:()=>{s.commands.focus(),s.commands.indent()},children:e.jsx(Lh,{})})]})}function Dh({editor:s,size:t}){const a=s.getAttributes("codeBlock").language||"";return e.jsxs(Is,{selectionMode:"single",selectedValue:a,onSelectionChange:n=>{s.commands.toggleCodeBlock({language:n})},children:[e.jsx(_,{className:y("flex-shrink-0"),size:t,color:a?"primary":null,radius:"rounded",children:e.jsx(ir,{})}),e.jsxs(As,{children:[e.jsx(p,{value:"html",children:"HTML"}),e.jsx(p,{value:"javascript",children:"JavaScript"}),e.jsx(p,{value:"css",children:"CSS"}),e.jsx(p,{value:"php",children:"PHP"}),e.jsx(p,{value:"shell",children:"Shell"}),e.jsx(p,{value:"bash",children:"Bash"}),e.jsx(p,{value:"ruby",children:"Ruby"}),e.jsx(p,{value:"python",children:"Python"}),e.jsx(p,{value:"java",children:"Java"}),e.jsx(p,{value:"c++",children:"C++"})]})]})}const Rh=T(e.jsx("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z"}),"UnfoldLessOutlined"),ma="flex items-center justify-center px-4 h-42 text-muted border-b overflow-hidden";function Vh({editor:s,size:t="md"}){const a=Pe(),[n,i]=d.useState(!1);return e.jsxs("div",{className:y(n?"h-84":"h-42"),children:[e.jsxs("div",{className:y(ma,"relative z-20"),children:[e.jsx(Ch,{editor:s,size:t}),e.jsx(ds,{}),e.jsx(ch,{editor:s,size:t}),e.jsx(ds,{}),e.jsx($h,{editor:s,size:t}),e.jsx(Mh,{editor:s,size:t}),e.jsx(ds,{}),a?e.jsx(_,{className:"flex-shrink-0",color:n?"primary":null,size:t,radius:"rounded",onClick:()=>{i(!n)},children:n?e.jsx(Rh,{}):e.jsx(Ni,{})}):e.jsx(ha,{editor:s,size:t})]}),e.jsx(Ss,{children:n&&e.jsx(us.div,{className:y(ma,"absolute w-full h-full flex"),initial:{y:"-100%"},animate:{y:0},exit:{y:"-100%"},children:e.jsx(ha,{editor:s,size:t})})})]})}function ha({editor:s,size:t="md"}){return e.jsxs(d.Fragment,{children:[e.jsx(mh,{editor:s,size:t}),e.jsx(ds,{}),e.jsx(hh,{editor:s,size:t}),e.jsx(jh,{editor:s,size:t}),e.jsx(kh,{editor:s,size:t}),e.jsx(ds,{}),e.jsx(zh,{editor:s,size:t}),e.jsx(ds,{}),e.jsx(Dh,{editor:s,size:t}),e.jsx(bh,{editor:s,size:t})]})}function lr({editor:s,allowSlugEditing:t=!0,onSave:a,saveButton:n,isLoading:i=!1,backLink:l}){const{isSticky:o,sentinelRef:c}=Hn(),m=Pe();return e.jsxs(d.Fragment,{children:[e.jsx("div",{ref:c}),e.jsxs("div",{className:y("sticky top-0 z-10 mb-20 bg-paper",o&&"shadow"),children:[e.jsxs("div",{className:"flex items-center justify-between gap-20 border-b px-20 py-10 text-muted sm:justify-start",children:[!m&&e.jsxs(d.Fragment,{children:[e.jsx(f,{variant:"text",size:"sm",elementType:J,to:l,relative:"path",startIcon:e.jsx(Ci,{}),children:e.jsx(r,{message:"Back"})}),e.jsx("div",{className:"mr-auto",children:t&&e.jsx(Hh,{name:"slug",showLinkIcon:!1,prefix:"pages"})})]}),s&&e.jsx(nh,{editor:s}),!m&&e.jsx(rh,{editor:s}),a&&e.jsx(Oh,{onSave:()=>{a(s.getHTML())},isLoading:i}),n]}),e.jsx(Vh,{editor:s,size:"sm"})]})]})}function Oh({onSave:s,isLoading:t}){const n=E().watch("title");return e.jsx(f,{variant:"flat",size:"sm",color:"primary",className:"min-w-90",disabled:t||!n,onClick:()=>s(),children:e.jsx(r,{message:"Save"})})}function Hh({name:s,...t}){const{field:{onChange:a,onBlur:n,value:i="",ref:l}}=ms({name:s}),o=d.useRef(!1),{watch:c,setValue:m}=E();return d.useEffect(()=>{const u=c((g,{name:j})=>{j==="title"&&!o.current&&m("slug",g.title)});return()=>u.unsubscribe()},[c,m]),e.jsx(sh,{className:y(!i&&"invisible"),onChange:u=>{o.current=!0,a(u)},onInputBlur:n,value:i,inputRef:l,...t})}const Uh=L.lazy(()=>Fs(()=>import("./article-body-editor-709b8130.js"),["./article-body-editor-709b8130.js","./main-97137759.js","./main-6a1f3eb0.css","./format-c0e00cf5.js","./article-body-editor-b603c7db.css"],import.meta.url));function Bh(){const s=Gr();return s.data?e.jsxs(d.Fragment,{children:[e.jsx(Kr,{query:s}),e.jsx(qh,{page:s.data.page})]}):e.jsx("div",{className:"relative w-full h-full",children:e.jsx(Qr,{query:s})})}function qh({page:s}){const t=he(),a=Ym(),n=G({defaultValues:{title:s.title,slug:s.slug,body:s.body}}),i=l=>{a.mutate({...n.getValues(),body:l},{onSuccess:()=>t("../..",{relative:"path"})})};return e.jsx(d.Suspense,{fallback:e.jsx(We,{}),children:e.jsx(Uh,{initialContent:s.body,children:(l,o)=>e.jsx(zs,{children:e.jsxs(Pa,{...n,children:[e.jsx(lr,{editor:o,backLink:"../..",isLoading:a.isLoading,onSave:i}),e.jsx("div",{className:"mx-20",children:e.jsxs("div",{className:"prose dark:prose-invert mx-auto flex-auto",children:[e.jsx(nr,{}),l]})})]})})})})}function Wh(s){const t=s||"custom-pages";return H(a=>Gh(a,t),{onError:a=>le(a),onSuccess:async()=>{await D.invalidateQueries(["custom-pages"]),await D.invalidateQueries(X(t)),U(h("Page created"))}})}function Gh(s,t){return P.post(`${t}`,s).then(a=>a.data)}const Kh=L.lazy(()=>Fs(()=>import("./article-body-editor-709b8130.js"),["./article-body-editor-709b8130.js","./main-97137759.js","./main-6a1f3eb0.css","./format-c0e00cf5.js","./article-body-editor-b603c7db.css"],import.meta.url));function Qh(){const s=he(),t=Wh(),a=G(),n=i=>{t.mutate({...a.getValues(),body:i},{onSuccess:()=>s("../",{relative:"path"})})};return e.jsx(d.Suspense,{fallback:e.jsx(We,{}),children:e.jsx(Kh,{children:(i,l)=>e.jsx(zs,{children:e.jsxs(Pa,{...a,children:[e.jsx(lr,{editor:l,isLoading:t.isLoading,onSave:n,backLink:"../"}),e.jsx("div",{className:"mx-20",children:e.jsxs("div",{className:"prose dark:prose-invert mx-auto flex-auto",children:[e.jsx(nr,{}),i]})})]})})})})}const Yh=L.lazy(()=>Fs(()=>import("./admin-report-page-2bb6a3e0.js"),["./admin-report-page-2bb6a3e0.js","./main-97137759.js","./main-6a1f3eb0.css","./TrendingUp-95298f8a.js","./UnfoldMore-d3e3f3ab.js","./Edit-fdaf8b96.js","./use-resume-subscription-d050c7a9.js"],import.meta.url)),Jh=[{path:"appearance",element:e.jsx(te,{permission:"appearance.update",children:e.jsx(Co,{})}),children:[{index:!0,element:e.jsx(ju,{})},{path:"general",element:e.jsx(Ko,{})},{path:"seo-settings",element:e.jsx(nc,{})},{path:"custom-code",element:e.jsx(lc,{})},{path:"themes",element:e.jsx(Zo,{})},{path:"themes/:themeIndex",element:e.jsx(Lc,{})},{path:"menus",element:e.jsx(Io,{})},{path:"menus/:menuIndex",element:e.jsx(Vo,{})},{path:"menus/:menuIndex/items/:menuItemIndex",element:e.jsx(qo,{})},...Object.values(En.sections).flatMap(s=>s.routes||[])]},{path:"/",element:e.jsx(Ii,{}),children:[...Qm,{path:"/",element:e.jsx(L.Suspense,{fallback:e.jsx(We,{screen:!0}),children:e.jsx(Yh,{})})},{path:"users",element:e.jsx(te,{permission:"users.update",children:e.jsx(nl,{})})},{path:"users/new",element:e.jsx(te,{permission:"users.update",children:e.jsx(Qd,{})})},{path:"users/:userId/edit",element:e.jsx(te,{permission:"users.update",children:e.jsx(qd,{})})},{path:"roles",element:e.jsx(te,{permission:"roles.update",children:e.jsx(vu,{})})},{path:"roles/new",element:e.jsx(te,{permission:"roles.update",children:e.jsx(Hu,{})})},{path:"roles/:roleId/edit",element:e.jsx(te,{permission:"roles.update",children:e.jsx(Mu,{})})},{path:"subscriptions",element:e.jsx(te,{permission:"subscriptions.update",children:e.jsx(gm,{})})},{path:"plans",element:e.jsx(te,{permission:"plans.update",children:e.jsx(zm,{})})},{path:"plans/new",element:e.jsx(te,{permission:"plans.update",children:e.jsx(qm,{})})},{path:"plans/:productId/edit",element:e.jsx(te,{permission:"plans.update",children:e.jsx(Om,{})})},{path:"custom-pages",element:e.jsx(te,{permission:"custom_pages.update",children:e.jsx(uc,{})})},{path:"custom-pages/new",element:e.jsx(te,{permission:"custom_pages.update",children:e.jsx(Qh,{})})},{path:"custom-pages/:pageId/edit",element:e.jsx(te,{permission:"custom_pages.update",children:e.jsx(Bh,{})})},{path:"tags",element:e.jsx(te,{permission:"tags.update",children:e.jsx(Ju,{})})},{path:"localizations",element:e.jsx(te,{permission:"localizations.update",children:e.jsx(iu,{})})},{path:"localizations/:localeId/translate",element:e.jsx(cu,{})},{path:"files",element:e.jsx(te,{permission:"files.update",children:e.jsx(am,{})})},{path:"ads",element:e.jsx(te,{permission:"settings.update",children:e.jsx(xu,{})})},{path:"settings",element:e.jsx(te,{permission:"settings.update",children:e.jsx(xc,{})}),children:[{index:!0,element:e.jsx(Fa,{to:"general",replace:!0})},{path:"general",element:e.jsx(kc,{})},{path:"subscriptions",element:e.jsx(Hc,{})},{path:"localization",element:e.jsx(qc,{})},{path:"authentication",element:e.jsx(Wc,{})},{path:"uploading",element:e.jsx(cd,{})},{path:"mail",element:e.jsx(Nd,{})},{path:"cache",element:e.jsx(zd,{})},{path:"analytics",element:e.jsx(Od,{})},{path:"logging",element:e.jsx(Ed,{})},{path:"queue",element:e.jsx($d,{})},{path:"recaptcha",element:e.jsx(Md,{})},{path:"gdpr",element:e.jsx(Wm,{})},...Rc]}]},{path:"*",element:e.jsx(Jr,{})}];function Zh(){return Yr(Jh)}const ax=Object.freeze(Object.defineProperty({__proto__:null,default:Zh},Symbol.toStringTag,{value:"Module"}));export{ir as C,Eo as D,Xu as F,vh as H,gh as I,wh as N,mm as P,ah as R,Sh as S,Yd as T,th as U,em as V,Di as a,Ah as b,Ph as c,Ih as d,Eh as e,ih as f,fh as g,Fh as h,_h as i,Th as j,Lh as k,lh as l,dh as m,uh as n,oh as o,Oa as p,hm as q,yh as r,$c as s,Ic as t,ym as u,Ac as v,Rh as w,it as x,ax as y};
//# sourceMappingURL=admin-routes-f190288a.js.map
